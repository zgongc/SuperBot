# config/main.yaml
# SuperBot - Main Configuration File
# Author: SuperBot Team
# Date: 2025-11-12
# Version: 1.0.0

# ============================================================
# SYSTEM SETTINGS
# ============================================================
system:
  name: "SuperBot"
  version: "1.0.0"
  environment: "testnet" # testnet or production
  language: "en" # tr or en

  # Timezone settings
  timezone: "UTC" # System timezone (UTC is recommended)
  utc_offset: 3 # UTC offset (in hours): 0=UTC, 3=UTC+3, -5=UTC-5
  use_local_time: false # true: Use local time, false: Use UTC (recommended)

# ============================================================
# LOGLAMA AYARLARI
# ============================================================
logging:
  level: "DEBUG" # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "json" # json or text

  # Console output
  console:
    enabled: true
    colored: true
    ansi_color: false # Disable ANSI color codes (Flask/Werkzeug)

  # File output
  file:
    enabled: false
    log_dir: "data/logs"
    filename: "superbot.log"

  # Log rotation
  rotation:
    enabled: true
    max_bytes: 10485760 # 10MB
    backup_count: 5
    compress: true

  # Flask Logging Option
  flask:
    level: "DEBUG" # DEBUG/INFO/WARNING/ERROR
    log_output: true # true = show, false = hide

  # Engine-based separate log files
  per_engine_logs: false

# ============================================================
# PERFORMANCE SETTINGS
# ============================================================
performance:
  # Kaynak limitleri
  max_cpu_percent: 80
  max_memory_mb: 1024

  # Health check
  health_check_interval: 5 # saniye

  # Process management
  max_restart_attempts: 3
  restart_delay: 5 # saniye

  # Thread/Process pool
  worker_threads: 4
  max_workers: 10

# ============================================================
# SECURITY SETTINGS
# ============================================================
security:
  # IP whitelisting (for the Dashboard)
  ip_whitelist:
    enabled: false
    allowed_ips:
      - "127.0.0.1"
      - "192.168.1.0/24"

  # Rate limiting
  rate_limit:
    enabled: true
    requests_per_minute: 1000

  encryption_enabled: true # can have the same meaning as encrypt_keys
  key_rotation_days: 90
  audit_enabled: true
  key_file: "data/security/.master_key"
  audit_log: "data/logs/security_audit.log"
  max_decryption_per_minute: 100
# ============================================================
# FILE WATCHER SETTINGS
# ============================================================
file_watcher:
  enabled: true
  debounce_ms: 500 # debounce_seconds yerine
  check_interval: 1 # Check every 1 second (if watchdog is not available)

# ============================================================
# SAFE SHUTDOWN SETTINGS
# ============================================================
shutdown:
  timeout: 30 # Maximum waiting time (seconds)
  task_timeout: 30 # Task timeout duration
  wait_for_tasks: true # Task bekle flag'i
  force_after_timeout: true # Force close after timeout
  save_state: true # Save state (state_persistence.state_dir is used)
  close_positions: false # Close open positions (false: only warn)
  flush_buffers: true # Flush the buffers
  wait_for_pending_tasks: true # Complete pending tasks

# ============================================================
# ERROR HANDLING & RETRY
# ============================================================
error_handling:
  retry:
    enabled: true
    max_attempts: 3
    exponential_backoff:
      enabled: true
      initial_delay: 1
      multiplier: 2.0
      max_delay: 30

  error_rate_limit: 10 # Maximum number of errors per minute
  critical_error_notify: true # Send notification in case of critical errors
  error_threshold_notify: 5 # How many errors before notification

