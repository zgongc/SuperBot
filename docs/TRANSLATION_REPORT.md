# Translation Report

**Files with Turkish content:** 145
**Total lines to translate:** 8033

---

## Summary

| File | Lines | Types |
|------|-------|-------|
| `components\indicators\__init__.py` | 15 | docstring, string |
| `components\indicators\base_indicator.py` | 46 | comment, docstring |
| `components\indicators\breakout\__init__.py` | 7 | docstring |
| `components\indicators\breakout\breakout_scanner.py` | 71 | comment, docstring, message, other, string |
| `components\indicators\breakout\consolidation.py` | 133 | comment, docstring, message, other, string |
| `components\indicators\breakout\range_breakout.py` | 66 | comment, docstring, message, string |
| `components\indicators\breakout\squeeze_momentum.py` | 63 | comment, docstring, message, other, string |
| `components\indicators\breakout\volatility_breakout.py` | 69 | comment, docstring, message, string |
| `components\indicators\combo\__init__.py` | 38 | comment, docstring, string |
| `components\indicators\combo\ema_ribbon.py` | 96 | comment, docstring, message, other, string |
| `components\indicators\combo\macd_rsi.py` | 88 | comment, docstring, message, other, string |
| `components\indicators\combo\rsi_bollinger.py` | 87 | comment, docstring, message, other, string |
| `components\indicators\combo\smart_grok.py` | 2 | docstring |
| `components\indicators\combo\smart_money.py` | 119 | comment, docstring, message, other, string |
| `components\indicators\combo\triple_screen.py` | 88 | comment, docstring, message, other, string |
| `components\indicators\community\__init__.py` | 6 | docstring |
| `components\indicators\community\mavilimw.py` | 31 | comment, docstring, other |
| `components\indicators\discovery_indicators.py` | 40 | comment, docstring, message, string |
| `components\indicators\indicator_manager.py` | 32 | comment, docstring, message |
| `components\indicators\indicator_types.py` | 42 | comment, docstring, string |
| `components\indicators\momentum\apo.py` | 50 | comment, docstring, message, string |
| `components\indicators\momentum\awesome.py` | 68 | comment, docstring, message, other |
| `components\indicators\momentum\cci.py` | 57 | comment, docstring, message, other, string |
| `components\indicators\momentum\cmo.py` | 65 | comment, docstring, message, other, string |
| `components\indicators\momentum\mfi.py` | 60 | comment, docstring, message, other, string |
| `components\indicators\momentum\mom.py` | 42 | comment, docstring, message, string |
| `components\indicators\momentum\ppo.py` | 55 | comment, docstring, message, string |
| `components\indicators\momentum\roc.py` | 62 | comment, docstring, message, other, string |
| `components\indicators\momentum\rsi.py` | 5 | docstring |
| `components\indicators\momentum\rsi_divergence.py` | 74 | comment, docstring, message, string |
| `components\indicators\momentum\stochastic.py` | 6 | comment, docstring |
| `components\indicators\momentum\stochasticrsi.py` | 82 | comment, docstring, message, other, string |
| `components\indicators\momentum\tsi.py` | 73 | comment, docstring, message, other, string |
| `components\indicators\momentum\ultimate.py` | 69 | comment, docstring, message, other, string |
| `components\indicators\momentum\williams_r.py` | 65 | comment, docstring, message, other, string |
| `components\indicators\patterns\candlestick_patterns.py` | 40 | comment, docstring, message, string |
| `components\indicators\patterns\talib_patterns.py` | 20 | comment, docstring, message |
| `components\indicators\realtime_calculator.py` | 30 | comment, docstring |
| `components\indicators\statistical\__init__.py` | 49 | comment, docstring, message, string |
| `components\indicators\statistical\cointegration.py` | 129 | comment, docstring, message, other, string |
| `components\indicators\statistical\correlation.py` | 83 | comment, docstring, message, other, string |
| `components\indicators\statistical\linear_regression.py` | 68 | comment, docstring, message, string |
| `components\indicators\statistical\percentile_rank.py` | 71 | comment, docstring, message, other, string |
| `components\indicators\statistical\tsf.py` | 61 | comment, docstring, message, string |
| `components\indicators\statistical\typprice.py` | 43 | comment, docstring, message |
| `components\indicators\statistical\var.py` | 91 | comment, docstring, message, other, string |
| `components\indicators\statistical\zscore.py` | 64 | comment, docstring, message, other, string |
| `components\indicators\structure\__init__.py` | 3 | docstring |
| `components\indicators\structure\bos.py` | 84 | comment, docstring, message, other, string |
| `components\indicators\structure\choch.py` | 94 | comment, docstring, message, other, string |
| `components\indicators\structure\fvg.py` | 67 | comment, docstring, message, string |
| `components\indicators\structure\gap.py` | 81 | comment, docstring, message, other, string |
| `components\indicators\structure\ifvg.py` | 65 | comment, docstring, message, other, string |
| `components\indicators\structure\liquidityzones.py` | 99 | comment, docstring, message, other, string |
| `components\indicators\structure\lvvoid.py` | 66 | comment, docstring, message, other, string |
| `components\indicators\structure\market_structure.py` | 95 | comment, docstring, message, string |
| `components\indicators\structure\orderblocks.py` | 101 | comment, docstring, message, other, string |
| `components\indicators\structure\qml.py` | 13 | docstring, string |
| `components\indicators\structure\smc.py` | 60 | comment, docstring, message, string |
| `components\indicators\support_resistance\__init__.py` | 57 | comment, docstring, message, string |
| `components\indicators\support_resistance\camarilla.py` | 54 | comment, docstring, message, string |
| `components\indicators\support_resistance\fib_retracement.py` | 78 | comment, docstring, message, other, string |
| `components\indicators\support_resistance\fibonacci_pivot.py` | 49 | comment, docstring, message, string |
| `components\indicators\support_resistance\pivotpoints.py` | 49 | comment, docstring, message, string |
| `components\indicators\support_resistance\sr.py` | 112 | comment, docstring, message, other, string |
| `components\indicators\support_resistance\swing_points.py` | 83 | comment, docstring, message, other, string |
| `components\indicators\support_resistance\woodie.py` | 53 | comment, docstring, message, string |
| `components\indicators\support_resistance\zigzag.py` | 134 | comment, docstring, message, other, string |
| `components\indicators\trend\__init__.py` | 31 | comment, docstring, message |
| `components\indicators\trend\adx.py` | 59 | comment, docstring, message, other, string |
| `components\indicators\trend\aroon.py` | 63 | comment, docstring, message, other, string |
| `components\indicators\trend\dema.py` | 52 | comment, docstring, message, string |
| `components\indicators\trend\donchian.py` | 60 | comment, docstring, message, other, string |
| `components\indicators\trend\dx.py` | 59 | comment, docstring, message, string |
| `components\indicators\trend\ema.py` | 68 | comment, docstring, message, other, string |
| `components\indicators\trend\hma.py` | 63 | comment, docstring, message, other, string |
| `components\indicators\trend\ichimoku.py` | 74 | comment, docstring, message, string |
| `components\indicators\trend\kama.py` | 49 | comment, docstring, message, string |
| `components\indicators\trend\macd.py` | 61 | comment, docstring, message, other, string |
| `components\indicators\trend\parabolic_sar.py` | 86 | comment, docstring, message, other, string |
| `components\indicators\trend\sma.py` | 50 | comment, docstring, message, other, string |
| `components\indicators\trend\supertrend.py` | 60 | comment, docstring, message, other, string |
| `components\indicators\trend\t3.py` | 51 | comment, docstring, message, string |
| `components\indicators\trend\tema.py` | 52 | comment, docstring, message, string |
| `components\indicators\trend\trima.py` | 48 | comment, docstring, message, string |
| `components\indicators\trend\trix.py` | 44 | comment, docstring, message, string |
| `components\indicators\trend\vwma.py` | 58 | comment, docstring, message, string |
| `components\indicators\trend\wma.py` | 56 | comment, docstring, message, string |
| `components\indicators\volatility\__init__.py` | 12 | docstring |
| `components\indicators\volatility\atr.py` | 49 | comment, docstring, message, other, string |
| `components\indicators\volatility\bollinger.py` | 57 | comment, docstring, message, other, string |
| `components\indicators\volatility\chandelier.py` | 59 | comment, docstring, message, other, string |
| `components\indicators\volatility\keltner.py` | 55 | comment, docstring, message, other, string |
| `components\indicators\volatility\natr.py` | 63 | comment, docstring, message, other, string |
| `components\indicators\volatility\squeeze.py` | 69 | comment, docstring, message, other, string |
| `components\indicators\volatility\standard_dev.py` | 57 | comment, docstring, message, other, string |
| `components\indicators\volatility\true_range.py` | 54 | comment, docstring, message, other, string |
| `components\indicators\volume\__init__.py` | 9 | comment, docstring |
| `components\indicators\volume\ad.py` | 64 | comment, docstring, message, other, string |
| `components\indicators\volume\adosc.py` | 48 | comment, docstring, message, other, string |
| `components\indicators\volume\bop.py` | 46 | comment, docstring, message |
| `components\indicators\volume\cmf.py` | 56 | comment, docstring, message, string |
| `components\indicators\volume\eom.py` | 54 | comment, docstring, message, other, string |
| `components\indicators\volume\force_index.py` | 55 | comment, docstring, message, other, string |
| `components\indicators\volume\obv.py` | 60 | comment, docstring, message, string |
| `components\indicators\volume\volume_oscillator.py` | 66 | comment, docstring, message, other, string |
| `components\indicators\volume\volume_profile.py` | 76 | comment, docstring, message, other, string |
| `components\indicators\volume\vwap.py` | 53 | comment, docstring, message, string |
| `components\indicators\volume\vwap_bands.py` | 56 | comment, docstring, message, other, string |
| `components\managers\parquets_engine.py` | 82 | comment, docstring, message, string |
| `components\strategies\base_strategy.py` | 137 | comment, docstring, other, string |
| `components\strategies\exit_manager.py` | 84 | comment, docstring, message, other |
| `components\strategies\helpers\condition_parser.py` | 54 | comment, docstring, message, other, string |
| `components\strategies\helpers\indicator_presets.py` | 71 | comment, docstring, string |
| `components\strategies\helpers\operators.py` | 61 | comment, docstring, message, string |
| `components\strategies\helpers\strategy_indicator_bridge.py` | 56 | comment, docstring, message |
| `components\strategies\helpers\timeframe_utils.py` | 25 | docstring, string |
| `components\strategies\helpers\validation.py` | 44 | comment, docstring, message |
| `components\strategies\market_validator.py` | 13 | comment, docstring |
| `components\strategies\pattern_generator.py` | 14 | comment, docstring |
| `components\strategies\pnl_calculator.py` | 25 | docstring, other |
| `components\strategies\portfolio_coordinator.py` | 33 | comment, docstring |
| `components\strategies\position_manager.py` | 88 | comment, docstring, other, string |
| `components\strategies\position_validator.py` | 64 | comment, docstring, message, other, string |
| `components\strategies\risk_manager.py` | 75 | comment, docstring, message, string |
| `components\strategies\signal_manager.py` | 31 | comment, docstring, message, string |
| `components\strategies\signal_validator.py` | 41 | comment, docstring, string |
| `components\strategies\strategy_executor.py` | 14 | comment, docstring |
| `components\strategies\strategy_manager.py` | 31 | comment, docstring, message |
| `components\strategies\strategy_validator.py` | 88 | comment, docstring, message, string |
| `components\strategies\templates\simple_rsi.py` | 38 | comment, other, string |
| `components\strategies\templates\smc_v2.py` | 12 | comment, docstring |
| `components\strategies\templates\supertrend_scalp.py` | 25 | comment, docstring, other, string |
| `components\tools\translate_scanner.py` | 7 | string |
| `modules\backtest\backtest_config.py` | 14 | comment, message, other |
| `modules\backtest\backtest_engine.py` | 113 | comment, docstring, message, other, string |
| `modules\backtest\backtest_export.py` | 1 | comment |
| `modules\backtest\backtest_metrics.py` | 2 | comment |
| `modules\backtest\backtest_positions.py` | 14 | comment, docstring, message |
| `modules\backtest\backtest_types.py` | 52 | comment, docstring, message, other |
| `modules\backtest\bulk_backtest.py` | 16 | comment, message, string |
| `modules\backtest\test_backtest_engine.py` | 44 | comment, docstring, message, string |
| `modules\backtest\vectorized_conditions.py` | 2 | docstring |
| `scripts\analiz_superbot.py` | 46 | comment, docstring, message, other, string |
| `scripts\fix_year_split.py` | 36 | comment, docstring, message |

---

## Detailed Findings

### components\indicators\__init__.py

```
L  11 [docstring] Kullanım:
L 142 [string  ]         'description': 'EMA Ribbon (Çoklu EMA Bantları)',
L 178 [string  ]         'description': 'Smart Money Concept (SMC) - Geliştirilmiş versiyon',
L 424 [string  ]         'description': 'Cointegration (Eş-bütünleşme)',
L 460 [string  ]         'description': 'Percentile Rank (Yüzdelik Dilim)',
L 491 [string  ]     'var': {
L 492 [string  ]         'module': 'statistical.var',
L 493 [string  ]         'class': 'VAR',
L 496 [string  ]         'description': 'VAR (Variance)',
L 500 [string  ]         'output_keys': ['var']
L1206 [docstring]     Indicator class'ını import et
L1209 [docstring]         name: Indicator adı (örn: 'rsi', 'bollinger')
L1217 [string  ]             f"Indicator '{name}' bulunamadı!\n"
L1218 [string  ]             f"Mevcut: {len(available)} indicator"
L1250 [docstring]     """calculate_batch() olan indicator'lar"""
```

### components\indicators\base_indicator.py

```
L  10 [docstring]     Tüm indikatörler bu sınıftan türeyecek.
L  12 [docstring]     Görevleri:
L  14 [docstring]     - Period checking (yeterli veri var mı?)
L  18 [docstring]     - Abstract calculate() metodu (realtime için)
L  19 [docstring]     - Abstract calculate_batch() metodu (backtest için - ZORUNLU!)
L  21 [docstring]     Kullanım:
L  32 [docstring]                 # Realtime - son bar için
L  36 [docstring]                 # Backtest - TÜM barlar için (VECTORIZED!)
L  74 [docstring]     Her indikatör bu class'tan türemeli ve calculate() metodunu implement etmeli.
L  77 [docstring]         name: Indikatör adı (örn: 'rsi', 'ema')
L  98 [docstring]             name: Indikatör adı
L 124 [comment ]     # ABSTRACT METHODS (Her indikatör implement etmeli)
L 130 [docstring]         Indikatör hesaplama - REALTIME için (ZORUNLU)
L 132 [docstring]         Son bar için hesaplama yapar. Live trading'de kullanılır.
L 152 [docstring]             IndicatorResult: Son bar'ın hesaplama sonucu
L 156 [docstring]             CalculationError: Hesaplama hatası
L 163 [docstring]         ⚡ Batch hesaplama - BACKTEST için (ZORUNLU)
L 165 [docstring]         TÜM barlar için vectorized hesaplama yapar.
L 166 [docstring]         LOOP YASAK! Pandas/Numpy operations kullanılmalı.
L 172 [docstring]             pd.Series: Single value indicators için (RSI, HMA, etc.)
L 173 [docstring]                 Index: data.index ile aynı
L 174 [docstring]                 Values: Her bar için indicator değeri
L 176 [docstring]             pd.DataFrame: Multiple value indicators için (Bollinger, MACD, etc.)
L 177 [docstring]                 Index: data.index ile aynı
L 201 [docstring]             CalculationError: Hesaplama hatası
L 208 [docstring]         Minimum gerekli period sayısı (ZORUNLU)
L 211 [docstring]             int: Minimum period (örn: RSI için 14)
L 216 [comment ]     # OPTIONAL METHODS (İsteğe bağlı override)
L 223 [docstring]         Yeni kline geldiğinde sadece son değeri güncelle.
L 224 [docstring]         Override etmezsen, None döner (full recalculation gerekir).
L 320 [docstring]             bool: Parametreler geçerli mi?
L 323 [docstring]             InvalidParameterError: Geçersiz parametre
L 329 [docstring]         Değerden sinyal üret (opsiyonel override)
L 332 [docstring]             value: Indikatör değeri
L 341 [docstring]         Değerden trend belirle (opsiyonel override)
L 344 [docstring]             value: Indikatör değeri
L 363 [docstring]             ValueError: Geçersiz data format
L 394 [docstring]             InvalidParameterError: Geçersiz parametre
L 469 [docstring]         Metadata oluştur
L 488 [docstring]         Default parametreleri döndür (override edilebilir)
L 497 [docstring]         Output isimlerini döndür (override edilebilir)
L 506 [docstring]         Volume gerekli mi? (override edilebilir)
L 509 [docstring]             bool: Volume gerekli mi?
L 542 [docstring]         DataFrame'i OHLCV list'e çevir
L 565 [docstring]         Series/List'i numpy array'e çevir
L 598 [docstring]         """İstatistikler"""
```

### components\indicators\breakout\__init__.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Breakout kategorisi indikatörleri
L  10 [docstring]     Konsolidasyon tespiti, volatilite breakout'ları ve range analizi
L  12 [docstring]     İçerik (5 indikatör):
L  14 [docstring]     - VolatilityBreakout: Bollinger genişlemesi ile breakout tespiti
L  17 [docstring]     - Consolidation: Konsolidasyon tespiti ve puanı
L  19 [docstring] Kullanım:
```

### components\indicators\breakout\breakout_scanner.py

```
L   8 [docstring] Açıklama:
L  11 [docstring]     Destek/direnç seviyelerini, hacmi ve momentum'u analiz eder
L  14 [docstring]     - Fiyat range dışına çıkış (High/Low breakout)
L  15 [docstring]     - Hacim artışı (ortalama hacmin üzerinde)
L  16 [docstring]     - Momentum doğrulaması (RSI benzeri)
L  19 [docstring]     Çıktı:
L  20 [docstring]     - breakout_score: 0-100 arası breakout puanı
L  21 [docstring]     - direction: Breakout yönü (up/down/none)
L  22 [docstring]     - resistance: Direnç seviyesi
L  25 [docstring] Formül:
L  33 [docstring] Bağımlılıklar:
L  55 [docstring]     Destek/direnç seviyelerini, hacim ve momentum analizini kullanarak
L  56 [docstring]     breakout'ları tespit eder ve puanlar.
L  59 [docstring]         lookback: Geriye bakış periyodu (varsayılan: 20)
L  60 [docstring]         confirmation: Doğrulama mum sayısı (varsayılan: 2)
L  61 [docstring]         volume_threshold: Hacim eşiği (ortalama hacmin katı) (varsayılan: 1.5)
L  62 [docstring]         momentum_period: Momentum hesaplama periyodu (varsayılan: 14)
L  94 [docstring]         """Minimum gerekli periyot sayısı"""
L  98 [docstring]         """Parametreleri doğrula"""
L 102 [string  ]                 "Lookback en az 5 olmalı"
L 107 [string  ]                 "Confirmation en az 1 olmalı"
L 112 [string  ]                 "Volume threshold pozitif olmalı"
L 150 [comment ]         # Range belirleme (lookback periyodundan önceki)
L 157 [comment ]         # Son confirmation mumlarını kontrol et
L 162 [comment ]         # Breakout kontrolü
L 181 [comment ]             # Fiyat hareketi puanı (0-40)
L 185 [comment ]             # Hacim puanı (0-30)
L 188 [comment ]             # Momentum puanı (0-30)
L 196 [comment ]             # Fiyat hareketi puanı (0-40)
L 200 [comment ]             # Hacim puanı (0-30)
L 203 [comment ]             # Momentum puanı (0-30)
L 220 [comment ]         # Bufferları doldur (Incremental update için hazırlık)
L 234 [comment ]         # Son max_len kadar veriyi al
L 281 [docstring]         Batch hesaplama (Backtest için)
L 287 [docstring]             pd.DataFrame: Breakout değerleri
L 295 [comment ]         # Sonuç dizileri (calculate() ile uyumlu - sadece 5 key)
L 304 [comment ]         # Her bar için hesapla
L 307 [comment ]             # Gerekli veriyi al
L 322 [comment ]             # volume_confirm metadata'da, output'ta değil
L 334 [docstring]             IndicatorResult: Güncel Breakout değeri
L 336 [comment ]         # Buffer yönetimi
L 415 [docstring]         Breakout tipinden sinyal üret
L 418 [docstring]             breakout_type: Breakout yönü ('up', 'down', 'none')
L 419 [docstring]             score: Breakout puanı
L 422 [docstring]             SignalType: BUY, SELL veya HOLD
L 442 [docstring]             breakout_type: Breakout yönü
L 445 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 454 [docstring]         """Varsayılan parametreler"""
L 479 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 483 [docstring]     """Breakout Scanner indikatör testi"""
L 489 [comment ]     # Örnek veri oluştur
L 490 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 494 [comment ]     # Range -> Breakout simüle et
L 498 [comment ]     # İlk 40 mum: Dar range
L 508 [comment ]     # Son 30 mum: Devam veya konsolidasyon
L 514 [other   ]     volumes.extend([2000 + np.random.randint(0, 1000) for _ in range(30)])  # Yüksek hacim
L 526 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 527 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 532 [message ]     print(f"   [OK] Oluşturuldu: {scanner}")
L 534 [message ]     print(f"   [OK] Gerekli periyot: {scanner.get_required_periods()}")
L 561 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 563 [comment ]     # Test 4: Farklı parametreler
L 564 [message ]     print("\n5. Farklı parametre testi...")
L 585 [message ]     print(f"   [OK] Toplam ölçüm: {len(scores)}")
L 592 [comment ]     # Test 6: İstatistikler
L 593 [message ]     print("\n7. İstatistik testi...")
L 595 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 596 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 601 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 604 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 608 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\breakout\consolidation.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Consolidation - Konsolidasyon Tespiti ve Puanı
L  10 [docstring]     Fiyatın dar bir aralıkta hareket ettiği dönemleri tespit eder
L  11 [docstring]     ve konsolidasyon kalitesini puanlar.
L  14 [docstring]     - Volatilite (ATR): Düşük volatilite = konsolidasyon
L  15 [docstring]     - Range genişliği: Dar range = konsolidasyon
L  16 [docstring]     - Fiyat dağılımı: Uniform dağılım = kaliteli konsolidasyon
L  17 [docstring]     - Süre: Uzun süre = güçlü konsolidasyon
L  19 [docstring]     Çıktı:
L  20 [docstring]     - consolidation_score: 0-100 arası konsolidasyon puanı
L  21 [docstring]     - 0-25: Trend var, konsolidasyon yok
L  22 [docstring]     - 25-50: Zayıf konsolidasyon
L  24 [docstring]     - 75-100: Güçlü konsolidasyon
L  26 [docstring] Formül:
L  34 [docstring] Bağımlılıklar:
L  56 [docstring]     Fiyatın konsolidasyon halinde olup olmadığını tespit eder ve
L  57 [docstring]     konsolidasyon kalitesini 0-100 arası puanlar.
L  60 [docstring]         period: Analiz periyodu (varsayılan: 20)
L  61 [docstring]         atr_period: ATR hesaplama periyodu (varsayılan: 14)
L  62 [docstring]         lookback: Geçmiş karşılaştırma periyodu (varsayılan: 100)
L  63 [docstring]         min_consolidation_bars: Minimum konsolidasyon mum sayısı (varsayılan: 10)
L  95 [docstring]         """Minimum gerekli periyot sayısı"""
L  99 [docstring]         """Parametreleri doğrula"""
L 103 [string  ]                 "Periyot en az 5 olmalı"
L 108 [string  ]                 "ATR periyodu en az 2 olmalı"
L 113 [string  ]                 "Minimum konsolidasyon mum sayısı en az 3 olmalı"
L 141 [docstring]         """ATR bazlı konsolidasyon puanı (0-100)"""
L 142 [comment ]         # Mevcut ATR
L 145 [comment ]         # Geçmiş ATR ortalaması
L 168 [comment ]         # Düşük ATR = yüksek puan
L 178 [docstring]         """Range bazlı konsolidasyon puanı (0-100)"""
L 179 [comment ]         # Mevcut range
L 185 [comment ]         # Geçmiş range ortalaması
L 207 [comment ]         # Dar range = yüksek puan
L 217 [docstring]         """Fiyat dağılımı puanı (0-100)"""
L 218 [comment ]         # Son period içindeki fiyatların dağılımını analiz et
L 221 [comment ]         # Histogram oluştur (5 bin)
L 224 [comment ]         # Uniform dağılım = her bin'de eşit fiyat
L 234 [comment ]         # Düşük sapma = yüksek puan
L 242 [docstring]         """Konsolidasyon süresi puanı (0-100)"""
L 243 [comment ]         # Range yüzdesini her mum için hesapla
L 244 [other   ]         range_threshold = 3.0  # %3 eşiği
L 260 [comment ]         # Uzun süre = yüksek puan
L 273 [docstring]             IndicatorResult: Konsolidasyon puanı ve detayları
L 279 [comment ]         # Bufferları doldur (Incremental update için hazırlık)
L 291 [comment ]         # Son max_len kadar veriyi al
L 297 [comment ]         # ATR puanı (ağırlık: 0.4)
L 300 [comment ]         # Range puanı (ağırlık: 0.3)
L 303 [comment ]         # Dağılım puanı (ağırlık: 0.2)
L 306 [comment ]         # Zaman puanı (ağırlık: 0.1)
L 309 [comment ]         # Final konsolidasyon puanı
L 357 [docstring]         Batch hesaplama (Backtest için)
L 363 [docstring]             pd.DataFrame: Consolidation değerleri
L 379 [comment ]         # Historical Avg ATR (Lookback kadar geriye dönük ortalama)
L 380 [comment ]         # Bu biraz ağır olabilir: rolling(lookback).mean()
L 381 [comment ]         # Ancak logic: lookback içindeki ortalama ATR değil,
L 382 [comment ]         # lookback süresince hesaplanan ATR'lerin ortalaması.
L 407 [comment ]         # Rolling apply ile histogram hesabı yavaş olabilir.
L 408 [comment ]         # Basitleştirilmiş yaklaşım: Standart sapma / Range
L 409 [comment ]         # Uniform dağılımda std dev yüksektir (range'e göre).
L 412 [comment ]         # Bunu batch yapmak zor. Rolling apply kullanalım.
L 424 [comment ]         # Performance için sadece close üzerinde rolling apply
L 425 [comment ]         # Bu işlem yavaş olabilir, optimize edilebilir.
L 430 [comment ]         # Son X barda range < threshold olanların sayısı
L 433 [comment ]         # Her bar için range % hesapla (period bazlı değil, o anki barın range'i değil)
L 434 [comment ]         # Logic: "Range yüzdesini her mum için hesapla" diyor ama loop içinde
L 435 [comment ]         # period_high/low kullanıyor. Yani her mumda geriye dönük period kadar bakıyor.
L 436 [comment ]         # Bu zaten current_range_pct.
L 438 [comment ]         # Yani: current_range_pct < 3.0 olan ardışık mum sayısı?
L 439 [comment ]         # Hayır, loop: for i in range(min_consolidation_bars, 0, -1)
L 440 [comment ]         # Geriye dönük i kadar gidip bakıyor.
L 441 [comment ]         # Aslında mantık: Şu anki mumdan geriye doğru giderek,
L 442 [comment ]         # kaç tane mumun "kendi periodluk penceresinde" range'i düşük?
L 447 [comment ]         # Hayır, ardışık olması lazım.
L 448 [comment ]         # Basitçe: Son min_consolidation_bars içindeki is_consolidating sayısı değil.
L 449 [comment ]         # Loop mantığı: En uzundan başlayıp (min_consolidation_bars),
L 450 [comment ]         # eğer o periyotta range düşükse sayıyor.
L 452 [comment ]         # Orijinal koda bakalım:
L 457 [comment ]         # Bu mantık biraz garip. i azaldıkça pencere küçülmüyor, start_idx değişiyor.
L 459 [comment ]         # Yani kayan pencere ile geriye gidiyor.
L 461 [comment ]         # Batch için:
L 463 [comment ]         # Geriye dönük ardışık true sayısı.
L 465 [comment ]         # Pandas ile ardışık grupları bulmak:
L 467 [comment ]         # Ama biz her bar için o anki ardışık sayıyı istiyoruz.
L 471 [comment ]         # Sadece True olanları alacağız.
L 476 [comment ]         # Sadece True olanlar streak, False olanlar 0 olmalı ama cumsum boolean'ı 1/0 toplar.
L 478 [comment ]         # Daha iyi yöntem:
L 482 [comment ]         # Alternatif: Rolling sum ama sadece hepsi 1 ise? Hayır.
L 484 [comment ]         # Python loop ile hızlıca hesaplayalım (Numpy iteration)
L 533 [docstring]             IndicatorResult: Güncel Consolidation değeri
L 535 [comment ]         # Buffer yönetimi
L 538 [comment ]             # Lookback + period kadar veriye ihtiyaç olabilir (Historical avg için)
L 539 [comment ]             # Ancak historical avg hesaplamak için çok fazla veri lazım.
L 540 [comment ]             # Buffer'da sadece son period'u tutup, historical avg'yi incremental update etmek daha m...
L 541 [comment ]             # Veya buffer'ı yeterince büyük tutmak.
L 580 [comment ]         # Bufferları numpy array'e çevir (son lookback+period kadar)
L 581 [comment ]         # Tüm buffer'ı kullanmak yerine optimize edilebilir ama şimdilik güvenli yol.
L 636 [docstring]         Konsolidasyon puanından sinyal üret
L 639 [docstring]             score: Konsolidasyon puanı
L 642 [docstring]             SignalType: HOLD (konsolidasyon sırasında bekle)
L 644 [comment ]         # Yüksek konsolidasyon = bekle (breakout için hazırlan)
L 654 [docstring]         Konsolidasyon puanından trend belirle
L 657 [docstring]             score: Konsolidasyon puanı
L 660 [docstring]             TrendDirection: NEUTRAL (konsolidasyon = trend yok)
L 662 [comment ]         # Konsolidasyon sırasında trend yok
L 669 [docstring]         """Varsayılan parametreler"""
L 690 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 694 [docstring]     """Consolidation indikatör testi"""
L 700 [comment ]     # Örnek veri oluştur
L 701 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 705 [comment ]     # Trend -> Konsolidasyon -> Trend simüle et
L 709 [comment ]     # İlk 30 mum: Uptrend
L 734 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 735 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 740 [message ]     print(f"   [OK] Oluşturuldu: {consol}")
L 742 [message ]     print(f"   [OK] Gerekli periyot: {consol.get_required_periods()}")
L 745 [message ]     print(f"   [OK] Konsolidasyon Puanı: {result.value}")
L 754 [message ]     print(f"   [OK] Konsolidasyon Puanı: {result.value}")
L 762 [comment ]     # Yeterli geçmiş veri için baştan ekleme yapmamız gerekiyor
L 765 [message ]     print(f"   [OK] Konsolidasyon Puanı: {result.value}")
L 773 [comment ]     # Test 4: Breakout sonrası
L 774 [message ]     print("\n5. Breakout sonrası test (tüm data)...")
L 776 [message ]     print(f"   [OK] Konsolidasyon Puanı: {result.value}")
L 791 [message ]     print(f"   [OK] Toplam ölçüm: {len(scores)}")
L 798 [comment ]     # Test 6: Farklı parametreler
L 799 [message ]     print("\n7. Farklı parametre testi...")
L 802 [message ]     print(f"   [OK] Fast (10 period) Puanı: {result.value}")
L 804 [comment ]     # Test 7: İstatistikler
L 805 [message ]     print("\n8. İstatistik testi...")
L 807 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 808 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 813 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 819 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\breakout\range_breakout.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Fiyatın dar bir range içinde konsolide olduğu dönemleri tespit eder
L  11 [docstring]     ve breakout seviyelerini belirler.
L  13 [docstring]     Özellikler:
L  16 [docstring]     - Breakout seviyeleri (üst/alt)
L  17 [docstring]     - Hedef fiyat hesaplama (range height kadar)
L  19 [docstring]     Kullanım Alanları:
L  21 [docstring]     - Breakout alım/satım sinyalleri
L  22 [docstring]     - Risk/reward hesaplamaları
L  24 [docstring] Formül:
L  35 [docstring] Bağımlılıklar:
L  57 [docstring]     Konsolidasyon range'lerini tespit eder ve breakout seviyelerini belirler.
L  58 [docstring]     Range yüksekliği, genişliği ve hedef fiyatları hesaplar.
L  61 [docstring]         period: Range hesaplama periyodu (varsayılan: 20)
L  62 [docstring]         consolidation_threshold: Konsolidasyon eşiği (%) (varsayılan: 3.0)
L  63 [docstring]         breakout_confirmation: Breakout doğrulama mum sayısı (varsayılan: 1)
L  64 [docstring]         use_body: Gövde kullan (True) veya wick kullan (False) (varsayılan: False)
L  96 [docstring]         """Minimum gerekli periyot sayısı"""
L 100 [docstring]         """Parametreleri doğrula"""
L 104 [string  ]                 "Periyot en az 5 olmalı"
L 109 [string  ]                 "Konsolidasyon eşiği pozitif olmalı"
L 114 [string  ]                 "Breakout confirmation en az 1 olmalı"
L 132 [comment ]             # Gövde kullan (open/close)
L 148 [docstring]         """Konsolidasyon kontrolü"""
L 165 [comment ]         # Son confirmation mumlarını kontrol et
L 170 [comment ]         # Breakout kontrolü (tüm confirmation mumları range dışında olmalı)
L 174 [comment ]         # Breakout doğrulandı mı?
L 181 [docstring]         ⚡ VECTORIZED batch Range Breakout calculation - BACKTEST için
L 236 [docstring]             IndicatorResult: Range seviyeleri ve breakout durumu
L 248 [comment ]         # Konsolidasyon kontrolü
L 263 [comment ]         # Mevcut fiyatın range içindeki konumu
L 277 [comment ]         # Güç: Breakout mesafesi + konsolidasyon durumu
L 373 [docstring]         Range durumundan sinyal üret
L 376 [docstring]             breakout_up: Yukarı breakout var mı?
L 377 [docstring]             breakout_down: Aşağı breakout var mı?
L 378 [docstring]             is_consolidating: Konsolidasyon var mı?
L 379 [docstring]             position_pct: Range içindeki konum (%)
L 382 [docstring]             SignalType: BUY, SELL veya HOLD
L 389 [comment ]             # Konsolidasyon sırasında range alt/üstüne göre
L 407 [docstring]             position_pct: Range içindeki konum (%)
L 408 [docstring]             breakout_up: Yukarı breakout
L 409 [docstring]             breakout_down: Aşağı breakout
L 412 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 421 [docstring]         """Varsayılan parametreler"""
L 446 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 450 [docstring]     """Range Breakout indikatör testi"""
L 456 [comment ]     # Örnek veri oluştur
L 457 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 461 [comment ]     # Konsolidasyon -> Breakout simüle et
L 465 [comment ]     # İlk 50 mum: Dar range (konsolidasyon)
L 489 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 490 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 495 [message ]     print(f"   [OK] Oluşturuldu: {rb}")
L 497 [message ]     print(f"   [OK] Gerekli periyot: {rb.get_required_periods()}")
L 525 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 536 [comment ]     # Test 5: Farklı eşikler
L 537 [message ]     print("\n6. Farklı eşik testi...")
L 560 [message ]     print(f"   [OK] Toplam ölçüm: {(len(data) - 30) // 5}")
L 561 [message ]     print(f"   [OK] Konsolidasyon sayısı: {len(consolidation_periods)}")
L 562 [message ]     print(f"   [OK] Breakout sayısı: {len(breakout_periods)}")
L 564 [comment ]     # Test 7: İstatistikler
L 565 [message ]     print("\n8. İstatistik testi...")
L 567 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 568 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 573 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 579 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\breakout\squeeze_momentum.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     John Carter'ın Squeeze indikatörü ile momentum kombinasyonu
L  11 [docstring]     Bollinger Bands ve Keltner Channels kullanarak konsolidasyon tespiti
L  12 [docstring]     Momentum histogram ile breakout yönünü belirler
L  14 [docstring]     Squeeze Durumları:
L  15 [docstring]     - Squeeze ON (kırmızı): BB, KC içinde - konsolidasyon, bekleme
L  16 [docstring]     - Squeeze OFF (yeşil): BB, KC dışında - volatilite artışı, işlem zamanı
L  19 [docstring]     - Pozitif (yeşil): Yukarı momentum
L  20 [docstring]     - Negatif (kırmızı): Aşağı momentum
L  22 [docstring] Formül:
L  29 [docstring] Bağımlılıklar:
L  51 [docstring]     Bollinger Bands ve Keltner Channels'ı kullanarak konsolidasyon (squeeze) tespiti yapar.
L  52 [docstring]     Momentum histogram ile breakout yönünü ve gücünü belirler.
L  55 [docstring]         bb_period: Bollinger Bands periyodu (varsayılan: 20)
L  56 [docstring]         bb_std: Bollinger Bands standart sapma çarpanı (varsayılan: 2.0)
L  57 [docstring]         kc_period: Keltner Channel periyodu (varsayılan: 20)
L  58 [docstring]         kc_atr_mult: Keltner Channel ATR çarpanı (varsayılan: 1.5)
L  59 [docstring]         momentum_period: Momentum hesaplama periyodu (varsayılan: 12)
L  94 [docstring]         """Minimum gerekli periyot sayısı"""
L  99 [docstring]         ⚡ VECTORIZED batch Squeeze Momentum calculation - BACKTEST için
L 159 [docstring]         """Parametreleri doğrula"""
L 163 [string  ]                 "BB periyodu pozitif olmalı"
L 168 [string  ]                 "KC periyodu pozitif olmalı"
L 173 [string  ]                 "BB std pozitif olmalı"
L 178 [string  ]                 "KC ATR çarpanı pozitif olmalı"
L 208 [other   ]         ema = np.mean(data[:period])  # İlk SMA
L 232 [comment ]         # Fiyat ortalaması
L 238 [comment ]         # Linear regression slope (son momentum_period için)
L 253 [comment ]             # Son değer
L 269 [docstring]             IndicatorResult: Momentum değeri ve squeeze durumu
L 293 [comment ]         # Güç: Momentum'un mutlak değeri (normalize edilmiş)
L 372 [docstring]         Momentum ve squeeze durumundan sinyal üret
L 375 [docstring]             momentum: Momentum değeri
L 379 [docstring]             SignalType: BUY, SELL veya HOLD
L 382 [comment ]             # Squeeze sırasında bekleme
L 385 [comment ]         # Squeeze sona erdiğinde momentum yönüne göre
L 398 [docstring]             momentum: Momentum değeri
L 401 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 410 [docstring]         """Varsayılan parametreler"""
L 432 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 436 [docstring]     """Squeeze Momentum indikatör testi"""
L 442 [comment ]     # Örnek veri oluştur
L 443 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 447 [comment ]     # Konsolidasyon ve breakout simüle et
L 453 [other   ]         change = np.random.randn() * 0.3  # Düşük volatilite
L 458 [other   ]         change = np.random.randn() * 2.0 + 0.5  # Yüksek volatilite + trend
L 470 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 471 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 476 [message ]     print(f"   [OK] Oluşturuldu: {squeeze}")
L 478 [message ]     print(f"   [OK] Gerekli periyot: {squeeze.get_required_periods()}")
L 485 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 497 [message ]     print("\n4. Breakout testi (tüm data)...")
L 504 [comment ]     # Test 4: Farklı parametreler
L 505 [message ]     print("\n5. Farklı parametre testi...")
L 523 [message ]     print(f"   [OK] Toplam ölçüm: {len(squeeze_states)}")
L 524 [message ]     print(f"   [OK] Squeeze ON sayısı: {squeeze_count}")
L 525 [message ]     print(f"   [OK] Squeeze OFF sayısı: {len(squeeze_states) - squeeze_count}")
L 528 [comment ]     # Test 6: İstatistikler
L 529 [message ]     print("\n7. İstatistik testi...")
L 531 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 532 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 537 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 543 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\breakout\volatility_breakout.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Volatility Breakout - Bollinger Genişlemesi ile Breakout Tespiti
L  10 [docstring]     Bollinger Bands genişlemesini ve fiyat hareketini kullanarak
L  11 [docstring]     volatilite breakout'larını tespit eder.
L  14 [docstring]     - BB genişliği artar (volatilite artışı)
L  15 [docstring]     - Fiyat BB üst/alt bandını kırar
L  16 [docstring]     - Hacim ortalamanın üzerinde (opsiyonel)
L  18 [docstring]     Çıktı:
L  19 [docstring]     - Upper Band: Üst bant
L  22 [docstring]     - Width: Band genişliği
L  23 [docstring]     - %B: Fiyatın bantlar içindeki konumu
L  25 [docstring] Formül:
L  32 [docstring] Bağımlılıklar:
L  54 [docstring]     Bollinger Bands genişlemesini izleyerek volatilite breakout'larını tespit eder.
L  55 [docstring]     Band genişliği, %B ve fiyat hareketini analiz eder.
L  58 [docstring]         period: BB periyodu (varsayılan: 20)
L  59 [docstring]         std_dev: Standart sapma çarpanı (varsayılan: 2.0)
L  60 [docstring]         width_threshold: Genişlik eşik değeri (varsayılan: 4.0)
L  61 [docstring]         use_volume: Hacim kontrolü kullan (varsayılan: True)
L  93 [docstring]         """Minimum gerekli periyot sayısı"""
L  98 [docstring]         ⚡ VECTORIZED batch Volatility Breakout calculation - BACKTEST için
L 146 [docstring]         """Parametreleri doğrula"""
L 150 [string  ]                 "Periyot en az 2 olmalı"
L 155 [string  ]                 "Standart sapma pozitif olmalı"
L 160 [string  ]                 "Genişlik eşiği pozitif olmalı"
L 172 [docstring]             IndicatorResult: BB bantları, genişlik ve %B değeri
L 187 [comment ]         # %B hesapla (fiyatın bantlar içindeki konumu)
L 194 [comment ]         # Önceki genişliği hesapla (trend için)
L 206 [comment ]         # Hacim kontrolü
L 235 [comment ]         # Güç: Genişlik ve %B kombinasyonu
L 315 [docstring]         Breakout durumundan sinyal üret
L 318 [docstring]             breakout_up: Yukarı breakout var mı?
L 319 [docstring]             breakout_down: Aşağı breakout var mı?
L 320 [docstring]             percent_b: %B değeri
L 323 [docstring]             SignalType: BUY, SELL veya HOLD
L 338 [docstring]         %B ve fiyattan trend belirle
L 341 [docstring]             percent_b: %B değeri
L 342 [docstring]             price: Mevcut fiyat
L 346 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 355 [docstring]         """Varsayılan parametreler"""
L 364 [docstring]         """Volume kullanılabilir ama zorunlu değil"""
L 380 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 384 [docstring]     """Volatility Breakout indikatör testi"""
L 390 [comment ]     # Örnek veri oluştur
L 391 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 395 [comment ]     # Düşük volatilite -> Yüksek volatilite simüle et
L 399 [comment ]     # İlk 50 mum: Düşük volatilite
L 404 [comment ]     # Son 50 mum: Yüksek volatilite + trend
L 418 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 419 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 424 [message ]     print(f"   [OK] Oluşturuldu: {vb}")
L 426 [message ]     print(f"   [OK] Gerekli periyot: {vb.get_required_periods()}")
L 437 [comment ]     # Test 2: Düşük volatilite testi
L 438 [message ]     print("\n3. Düşük volatilite testi (ilk 50 mum)...")
L 446 [comment ]     # Test 3: Yüksek volatilite testi
L 447 [message ]     print("\n4. Yüksek volatilite testi (tüm data)...")
L 453 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 455 [comment ]     # Test 4: Farklı parametreler
L 456 [message ]     print("\n5. Farklı parametre testi...")
L 481 [message ]     print(f"   [OK] Toplam ölçüm: {len(width_history)}")
L 482 [message ]     print(f"   [OK] Ortalama genişlik: {np.mean(width_history):.2f}%")
L 483 [message ]     print(f"   [OK] Max genişlik: {max(width_history):.2f}%")
L 484 [message ]     print(f"   [OK] Min genişlik: {min(width_history):.2f}%")
L 486 [comment ]     # Test 7: İstatistikler
L 487 [message ]     print("\n8. İstatistik testi...")
L 489 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 490 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 495 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 501 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\combo\__init__.py

```
L   2 [docstring] indicators/combo/__init__.py - Combo (Birleşik) İndikatörler Modülü
L   8 [docstring] Açıklama:
L   9 [docstring]     Birden fazla indikatörü birleştirerek güçlü sinyaller üreten
L  10 [docstring]     kombine indikatörler koleksiyonu.
L  12 [docstring]     Bu kategori, farklı indikatör türlerini (trend, momentum, volume)
L  13 [docstring]     bir araya getirerek daha güvenilir al/sat sinyalleri sağlar.
L  15 [docstring] Mevcut İndikatörler:
L  18 [docstring]     3. EMARibbon - Çoklu EMA bantları (5,10,20,50,100,200)
L  19 [docstring]     4. TripleScreen - Elder'ın ünlü 3 ekran sistemi
L  22 [docstring] Kullanım Örnekleri:
L  45 [docstring] Özellikler:
L  46 [docstring]     - Çoklu indikatör onayı
L  47 [docstring]     - Güçlü sinyal filtreleme
L  48 [docstring]     - Risk yönetimi entegrasyonu
L  49 [docstring]     - Yüksek doğruluk oranı
L  51 [docstring] Bağımlılıklar:
L  73 [comment ]     # Combo indikatörler
L  76 [string  ]     'EMARibbon',         # Çoklu EMA bantları
L  77 [string  ]     'TripleScreen',      # Elder'ın 3 ekran sistemi
L  79 [string  ]     'SmartGrok',         # Smart Money Concept - Geliştirilmiş
L  90 [string  ] __description__ = 'Birleşik (Combo) teknik indikatörler - Çoklu indikatör kombinasyonları'
L  99 [docstring]     Tüm combo indikatörlerin listesini döndür
L 102 [docstring]         list: Combo indikatör sınıflarının listesi
L 116 [docstring]     Tüm combo indikatör isimlerini döndür
L 119 [docstring]         list: İndikatör isimlerinin listesi
L 126 [docstring]     Tüm combo indikatörlerin detaylı bilgisini döndür
L 129 [docstring]         dict: İndikatör isimleri ve açıklamaları
L 147 [string  ]             'description': 'Çoklu EMA bantları (5,10,20,50,100,200)',
L 154 [string  ]             'description': "Elder'ın 3 ekran ticaret sistemi",
L 168 [string  ]             'description': 'Smart Money Concept (SMC) - Geliştirilmiş',
L 179 [docstring]     İsme göre combo indikatör oluştur
L 182 [docstring]         name: İndikatör ismi
L 183 [docstring]         **params: İndikatör parametreleri
L 186 [docstring]         BaseIndicator: Oluşturulan indikatör
L 189 [docstring]         ValueError: Geçersiz indikatör ismi
L 207 [string  ]             f"Geçersiz combo indikatör ismi: '{name}'. "
L 208 [string  ]             f"Mevcut indikatörler: {available}"
L 218 [comment ] # Module başlatma mesajı (development mode)
```

### components\indicators\combo\ema_ribbon.py

```
L   2 [docstring] indicators/combo/ema_ribbon.py - EMA Ribbon (Çoklu EMA Bantları)
L   8 [docstring] Açıklama:
L   9 [docstring]     EMA Ribbon - Çoklu EMA bantları sistemi
L  10 [docstring]     Birden fazla EMA'yı (5, 10, 20, 50, 100, 200) aynı anda analiz ederek
L  11 [docstring]     trend gücünü, yönünü ve potansiyel giriş/çıkış noktalarını belirler
L  13 [docstring]     Özellikler:
L  14 [docstring]     - 6 farklı EMA (5, 10, 20, 50, 100, 200)
L  15 [docstring]     - EMA sıralaması ile trend gücü ölçümü
L  17 [docstring]     - Destek/direnç seviyeleri
L  20 [docstring]     GÜÇLÜ YÜKSELIŞ: Tüm EMA'lar sıralı (5>10>20>50>100>200) + Fiyat en üstte
L  21 [docstring]     YÜKSELIŞ: Çoğu EMA sıralı + Fiyat kısa vadeli EMA'ların üstünde
L  22 [docstring]     GÜÇLÜ DÜŞÜŞ: Tüm EMA'lar ters sıralı (5<10<20<50<100<200) + Fiyat en altta
L  23 [docstring]     DÜŞÜŞ: Çoğu EMA ters sıralı + Fiyat kısa vadeli EMA'ların altında
L  24 [docstring]     YATAY: EMA'lar karışık, net trend yok
L  26 [docstring] Bağımlılıklar:
L  48 [docstring]     EMA Ribbon - Çoklu EMA Bantları
L  50 [docstring]     Birden fazla EMA'yı aynı anda kullanarak trend analizi yapar.
L  51 [docstring]     EMA'ların sıralaması trend gücünü gösterir.
L  54 [docstring]         ema_periods: EMA periyotları listesi (varsayılan: [5, 10, 20, 50, 100, 200])
L  63 [comment ]         # Varsayılan periyotlar
L  67 [other   ]         self.ema_periods = sorted(ema_periods)  # Küçükten büyüğe sırala
L  69 [comment ]         # Her periyot için EMA indikatörü oluştur
L  90 [docstring]         """Minimum gerekli periyot sayısı (en uzun EMA)"""
L  94 [docstring]         """Parametreleri doğrula"""
L  98 [string  ]                 "En az bir EMA periyodu gerekli"
L 104 [string  ]                     "EMA periyotları pozitif olmalı"
L 110 [docstring]         ⚡ VECTORIZED batch EMA Ribbon calculation - BACKTEST için
L 141 [docstring]             IndicatorResult: Tüm EMA değerleri ve analizleri
L 143 [comment ]         # Tüm EMA'ları hesapla
L 149 [comment ]         # Mevcut fiyat
L 153 [comment ]         # EMA sıralamasını analiz et
L 156 [comment ]         # Trend ve sinyal belirleme
L 161 [comment ]         # Destek ve direnç seviyeleri
L 187 [docstring]         EMA sıralamasını analiz et
L 190 [docstring]             str: 'bullish', 'bearish', 'mixed' veya 'neutral'
L 192 [comment ]         # EMA değerlerini liste olarak al (küçükten büyüğe)
L 195 [comment ]         # Yükseliş sıralaması kontrolü (her EMA bir öncekinden büyük mü?)
L 207 [comment ]         # Fiyatın pozisyonu
L 211 [comment ]         # Sınıflandırma
L 227 [docstring]         EMA sıralama skorunu hesapla (0-100)
L 229 [docstring]         100: Mükemmel yükseliş sıralaması
L 230 [docstring]         0: Mükemmel düşüş sıralaması
L 231 [docstring]         50: Karışık/nötr
L 247 [docstring]         Destek ve direnç seviyelerini bul
L 254 [comment ]         # Fiyata en yakın EMA
L 257 [comment ]         # Fiyatın altındaki en yakın EMA (destek)
L 261 [comment ]         # Fiyatın üstündeki en yakın EMA (direnç)
L 273 [docstring]         Trend kalitesini değerlendir
L 320 [docstring]         EMA Ribbon'dan sinyal üret
L 323 [docstring]             alignment: EMA sıralama durumu
L 324 [docstring]             price: Güncel fiyat
L 325 [docstring]             ema_values: EMA değerleri
L 328 [docstring]             SignalType: BUY, SELL veya HOLD
L 330 [comment ]         # Kısa ve uzun vadeli EMA'lar
L 331 [string  ]         ema_short = ema_values[f'ema_{self.ema_periods[0]}']  # En kısa
L 334 [comment ]         # Güçlü sinyaller
L 352 [docstring]         Trend yönünü belirle
L 355 [docstring]             alignment: EMA sıralama durumu
L 358 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 368 [docstring]         Trend gücünü hesapla (0-100)
L 381 [docstring]         """Varsayılan parametreler"""
L 399 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 403 [docstring]     """EMA Ribbon indikatör testi"""
L 409 [comment ]     # Örnek veri oluştur
L 410 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 414 [comment ]     # Güçlü trend simülasyonu
L 419 [other   ]             trend = 0.5  # Yükseliş
L 421 [other   ]             trend = -0.3  # Düşüş
L 423 [other   ]             trend = 0.7  # Güçlü yükseliş
L 436 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 437 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 442 [message ]     print(f"   [OK] Oluşturuldu: {ribbon}")
L 445 [message ]     print(f"   [OK] Gerekli periyot: {ribbon.get_required_periods()}")
L 446 [message ]     print(f"   [OK] EMA periyotları: {ribbon.ema_periods}")
L 451 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 453 [comment ]     # Test 2: EMA değerleri
L 454 [message ]     print("\n3. EMA değerleri...")
L 459 [comment ]     # Test 3: Sıralama analizi
L 460 [message ]     print("\n4. Sıralama analizi...")
L 466 [comment ]     # Test 4: Destek/Direnç
L 467 [message ]     print("\n5. Destek/Direnç analizi...")
L 472 [comment ]     # Test 5: Trend değişimi analizi
L 473 [message ]     print("\n6. Trend değişimi analizi...")
L 484 [comment ]     # Test 6: Özel periyotlar
L 485 [message ]     print("\n7. Özel periyot testi...")
L 488 [message ]     print(f"   [OK] Özel periyotlar: {ribbon_custom.ema_periods}")
L 489 [message ]     print(f"   [OK] EMA değerleri:")
L 494 [comment ]     # Test 7: Kısa vadeli ribbon (hızlı trade için)
L 495 [message ]     print("\n8. Kısa vadeli ribbon testi...")
L 498 [message ]     print(f"   [OK] Kısa vadeli periyotlar: {ribbon_short.ema_periods}")
L 503 [comment ]     # Test 8: İstatistikler
L 504 [message ]     print("\n9. İstatistik testi...")
L 506 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 507 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 512 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 517 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\combo\macd_rsi.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     MACD + RSI Kombine indikatörü
L  10 [docstring]     MACD trend ve momentum indikatörünü RSI osilatörü ile birleştirerek
L  11 [docstring]     güçlü trend takibi ve giriş/çıkış sinyalleri üretir
L  13 [docstring]     Özellikler:
L  14 [docstring]     - MACD histogram ve crossover analizi
L  15 [docstring]     - RSI aşırı alım/satım seviyeleri
L  17 [docstring]     - Çoklu zaman dilimi konfirmasyonu
L  20 [docstring]     GÜÇLÜ AL: MACD Bullish Crossover VE RSI < 40
L  21 [docstring]     AL: MACD > Signal VE RSI < 50
L  22 [docstring]     GÜÇLÜ SAT: MACD Bearish Crossover VE RSI > 60
L  23 [docstring]     SAT: MACD < Signal VE RSI > 50
L  24 [docstring]     HOLD: Diğer durumlar
L  26 [docstring] Bağımlılıklar:
L  52 [docstring]     MACD'nin trend takibi ile RSI'ın momentum ölçümünü birleştirerek
L  53 [docstring]     daha güvenilir al/sat sinyalleri üretir.
L  56 [docstring]         macd_fast: MACD hızlı EMA periyodu (varsayılan: 12)
L  57 [docstring]         macd_slow: MACD yavaş EMA periyodu (varsayılan: 26)
L  58 [docstring]         macd_signal: MACD sinyal periyodu (varsayılan: 9)
L  59 [docstring]         rsi_period: RSI periyodu (varsayılan: 14)
L  60 [docstring]         rsi_overbought: RSI aşırı alım seviyesi (varsayılan: 70)
L  61 [docstring]         rsi_oversold: RSI aşırı satım seviyesi (varsayılan: 30)
L  82 [comment ]         # Alt indikatörleri oluştur
L 116 [docstring]         """Minimum gerekli periyot sayısı"""
L 120 [docstring]         """Parametreleri doğrula"""
L 125 [string  ]                 "MACD fast periyodu slow'dan küçük olmalı"
L 130 [string  ]                 "RSI periyodu pozitif olmalı"
L 136 [string  ]                 "RSI oversold, overbought'tan küçük olmalı"
L 148 [docstring]             IndicatorResult: Kombine MACD + RSI değerleri ve sinyalleri
L 162 [comment ]         # Kombine sinyal ve trend belirleme
L 167 [comment ]         # Crossover ve konfirmasyon durumu
L 201 [docstring]         ⚡ VECTORIZED batch MACD + RSI calculation - BACKTEST için
L 286 [docstring]             macd: MACD line değeri
L 287 [docstring]             signal: Signal line değeri
L 288 [docstring]             histogram: Histogram değeri
L 289 [docstring]             rsi: RSI değeri
L 292 [docstring]             SignalType: BUY, SELL veya HOLD
L 294 [comment ]         # GÜÇLÜ AL: MACD bullish crossover + RSI düşük
L 298 [comment ]         # AL: MACD yükseliş + RSI nötr/düşük
L 302 [comment ]         # GÜÇLÜ SAT: MACD bearish crossover + RSI yüksek
L 306 [comment ]         # SAT: MACD düşüş + RSI nötr/yüksek
L 317 [docstring]             macd: MACD line değeri
L 318 [docstring]             signal: Signal line değeri
L 319 [docstring]             rsi: RSI değeri
L 322 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 324 [comment ]         # Her iki indikatör de yükseliş gösteriyorsa
L 327 [comment ]         # Her iki indikatör de düşüş gösteriyorsa
L 335 [docstring]         Sinyal gücünü hesapla (0-100)
L 337 [docstring]         MACD histogram büyüklüğü ve RSI ekstrem değerleriyle güç artar
L 339 [comment ]         # MACD'den gelen güç (histogram büyüklüğü)
L 342 [comment ]         # RSI'dan gelen güç (50'den uzaklık)
L 346 [comment ]         # Kombine güç
L 356 [docstring]             str: 'bullish', 'bearish' veya 'none'
L 369 [docstring]             str: 'strong', 'moderate', 'weak' veya 'conflicting'
L 371 [comment ]         # Güçlü konfirmasyon (her iki indikatör de aynı yönde güçlü)
L 378 [comment ]         # Çelişkili sinyaller
L 385 [docstring]         """Varsayılan parametreler"""
L 408 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 412 [docstring]     """MACD + RSI kombine indikatör testi"""
L 418 [comment ]     # Örnek veri oluştur
L 419 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 423 [comment ]     # Trend değişimli fiyat simülasyonu
L 428 [other   ]             trend = 0.3  # Yükseliş
L 430 [other   ]             trend = -0.2  # Düşüş
L 432 [other   ]             trend = 0.5  # Güçlü yükseliş
L 445 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 446 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 451 [message ]     print(f"   [OK] Oluşturuldu: {combo}")
L 454 [message ]     print(f"   [OK] Gerekli periyot: {combo.get_required_periods()}")
L 463 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 473 [comment ]     # Test 3: Trend değişimi analizi
L 474 [message ]     print("\n4. Trend değişimi analizi...")
L 486 [comment ]     # Test 4: Özel parametreler
L 487 [message ]     print("\n5. Özel parametre testi...")
L 497 [message ]     print(f"   [OK] Özel MACD: {result.value['macd']:.4f}")
L 498 [message ]     print(f"   [OK] Özel RSI: {result.value['rsi']}")
L 502 [comment ]     # Test 5: Güç ve konfirmasyon analizi
L 503 [message ]     print("\n6. Güç ve konfirmasyon analizi...")
L 504 [message ]     print(f"   [OK] Sinyal Gücü: {result.strength:.2f}/100")
L 508 [comment ]     # Test 6: Farklı MACD periyotları
L 509 [message ]     print("\n7. Farklı MACD periyodu testi...")
L 513 [string  ]         (8, 17, 9, "Kısa vadeli")
L 527 [comment ]     # Test 7: İstatistikler
L 528 [message ]     print("\n8. İstatistik testi...")
L 530 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 531 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 536 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 541 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\combo\rsi_bollinger.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     RSI + Bollinger Bands Kombine indikatörü
L  10 [docstring]     RSI momentum osilatörünü Bollinger Bands volatilite bantları ile birleştirerek
L  11 [docstring]     güçlü al/sat sinyalleri üretir
L  13 [docstring]     Özellikler:
L  14 [docstring]     - RSI aşırı alım/satım seviyeleri
L  16 [docstring]     - Kombine sinyal üretimi
L  17 [docstring]     - Güçlü onay sistemi
L  20 [docstring]     GÜÇLÜ AL: RSI < 30 VE Fiyat Alt Banda Yakın/Altında
L  21 [docstring]     AL: RSI < 40 VE Fiyat Alt Banda Yakın
L  22 [docstring]     GÜÇLÜ SAT: RSI > 70 VE Fiyat Üst Banda Yakın/Üstünde
L  23 [docstring]     SAT: RSI > 60 VE Fiyat Üst Banda Yakın
L  24 [docstring]     HOLD: Diğer durumlar
L  26 [docstring] Bağımlılıklar:
L  52 [docstring]     RSI momentum osilatörü ile Bollinger Bands volatilite bantlarını birleştirerek
L  53 [docstring]     güçlü al/sat sinyalleri üretir.
L  56 [docstring]         rsi_period: RSI periyodu (varsayılan: 14)
L  57 [docstring]         rsi_overbought: RSI aşırı alım seviyesi (varsayılan: 70)
L  58 [docstring]         rsi_oversold: RSI aşırı satım seviyesi (varsayılan: 30)
L  59 [docstring]         bb_period: Bollinger Bands periyodu (varsayılan: 20)
L  60 [docstring]         bb_std_dev: BB standart sapma çarpanı (varsayılan: 2.0)
L  79 [comment ]         # Alt indikatörleri oluştur
L 111 [docstring]         """Minimum gerekli periyot sayısı"""
L 115 [docstring]         """Parametreleri doğrula"""
L 119 [string  ]                 "RSI periyodu pozitif olmalı"
L 124 [string  ]                 "BB periyodu en az 2 olmalı"
L 130 [string  ]                 "RSI oversold, overbought'tan küçük olmalı"
L 136 [docstring]         ⚡ VECTORIZED batch RSI + Bollinger calculation - BACKTEST için
L 183 [docstring]             IndicatorResult: Kombine RSI + BB değerleri ve sinyalleri
L 195 [comment ]         # Mevcut fiyat ve %B değeri
L 201 [comment ]         # Kombine sinyal ve trend belirleme
L 294 [docstring]             rsi: RSI değeri
L 295 [docstring]             percent_b: Bollinger %B değeri
L 296 [docstring]             price: Güncel fiyat
L 297 [docstring]             bb_upper: Üst bant
L 301 [docstring]             SignalType: BUY, SELL veya HOLD
L 303 [comment ]         # GÜÇLÜ AL sinyalleri
L 305 [other   ]             return SignalType.BUY  # Çok güçlü al
L 311 [comment ]         # GÜÇLÜ SAT sinyalleri
L 313 [other   ]             return SignalType.SELL  # Çok güçlü sat
L 326 [docstring]             rsi: RSI değeri
L 327 [docstring]             percent_b: Bollinger %B değeri
L 330 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 332 [comment ]         # Her iki indikatör de yükseliş gösteriyorsa
L 335 [comment ]         # Her iki indikatör de düşüş gösteriyorsa
L 343 [docstring]         Sinyal gücünü hesapla (0-100)
L 345 [docstring]         İki indikatörün ekstrem değerlerinde güç artar
L 347 [comment ]         # RSI'dan gelen güç
L 350 [other   ]             rsi_strength = (30 - rsi) * 2  # Aşırı satım
L 352 [other   ]             rsi_strength = (rsi - 70) * 2  # Aşırı alım
L 354 [comment ]         # %B'den gelen güç
L 365 [comment ]         # Kombine güç (ortalama)
L 375 [docstring]             str: 'strong', 'moderate', 'weak' veya 'none'
L 377 [comment ]         # Güçlü konfirmasyon (her iki indikatör de aynı yönde ekstrem)
L 381 [comment ]         # Orta konfirmasyon (bir indikatör ekstrem, diğeri onaylıyor)
L 385 [comment ]         # Zayıf konfirmasyon (indikatörler farklı yönde)
L 392 [docstring]         """Varsayılan parametreler"""
L 414 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 418 [docstring]     """RSI + Bollinger kombine indikatör testi"""
L 424 [comment ]     # Örnek veri oluştur
L 425 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 429 [comment ]     # Volatil fiyat hareketi simüle et
L 434 [other   ]             change = np.random.randn() * 1.5 - 0.5  # Düşüş trendi
L 436 [other   ]             change = np.random.randn() * 1.5 + 0.5  # Yükseliş trendi
L 450 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 451 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 456 [message ]     print(f"   [OK] Oluşturuldu: {combo}")
L 459 [message ]     print(f"   [OK] Gerekli periyot: {combo.get_required_periods()}")
L 470 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 479 [comment ]     # Test 3: Farklı senaryolar
L 480 [message ]     print("\n4. Farklı senaryo testi...")
L 482 [string  ]         (20, "Düşüş sonu"),
L 483 [string  ]         (30, "Yükseliş ortası"),
L 484 [string  ]         (45, "Yükseliş sonu")
L 496 [comment ]     # Test 4: Özel parametreler
L 497 [message ]     print("\n5. Özel parametre testi...")
L 506 [message ]     print(f"   [OK] Özel parametreli RSI: {result.value['rsi']}")
L 507 [message ]     print(f"   [OK] Özel parametreli %B: {result.value['percent_b']:.4f}")
L 510 [comment ]     # Test 5: Güç analizi
L 511 [message ]     print("\n6. Güç analizi...")
L 512 [message ]     print(f"   [OK] Sinyal Gücü: {result.strength:.2f}/100")
L 516 [comment ]     # Test 6: İstatistikler
L 517 [message ]     print("\n7. İstatistik testi...")
L 519 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 520 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 525 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 530 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\combo\smart_grok.py

```
L  15 [docstring]     Smart Money Concept (SMC) - Geliştirilmiş versiyon
L  57 [docstring]         """Minimum gerekli periyot sayısı"""
```

### components\indicators\combo\smart_money.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Smart Money Concept - Akıllı para hareketlerini takip eden gelişmiş sistem
L  10 [docstring]     Kurumsal yatırımcıların (smart money) hareketlerini tespit ederek
L  11 [docstring]     perakende yatırımcılara avantaj sağlar
L  13 [docstring]     Bileşenler:
L  14 [docstring]     1. Volume Analizi (OBV) - Hacim akışı
L  16 [docstring]     3. Trend (ADX) - Trend gücü
L  17 [docstring]     4. Price Action - Yapısal kırılmalar
L  19 [docstring]     Özellikler:
L  27 [docstring]     GÜÇLÜ AL:
L  28 [docstring]     - Güçlü trend (ADX > 25)
L  29 [docstring]     - Volume artışı (OBV yükseliyor)
L  30 [docstring]     - RSI bullish divergence veya oversold bounce
L  31 [docstring]     - Fiyat yeni yapı kırılması (Higher High)
L  33 [docstring]     GÜÇLÜ SAT:
L  34 [docstring]     - Güçlü trend (ADX > 25)
L  35 [docstring]     - Volume azalışı (OBV düşüyor)
L  36 [docstring]     - RSI bearish divergence veya overbought rejection
L  37 [docstring]     - Fiyat yeni yapı kırılması (Lower Low)
L  39 [docstring] Bağımlılıklar:
L  67 [docstring]     Kurumsal para akışını takip ederek güçlü al/sat sinyalleri üretir.
L  70 [docstring]         obv_period: OBV sinyal periyodu (varsayılan: 20)
L  71 [docstring]         rsi_period: RSI periyodu (varsayılan: 14)
L  72 [docstring]         adx_period: ADX periyodu (varsayılan: 14)
L  73 [docstring]         adx_threshold: ADX güçlü trend eşiği (varsayılan: 25)
L  74 [docstring]         structure_lookback: Yapısal analiz için geriye bakış (varsayılan: 20)
L  93 [comment ]         # Alt indikatörler
L 129 [docstring]         """Minimum gerekli periyot sayısı"""
L 138 [docstring]         """Parametreleri doğrula"""
L 142 [string  ]                 "OBV periyodu pozitif olmalı"
L 147 [string  ]                 "RSI periyodu pozitif olmalı"
L 152 [string  ]                 "ADX periyodu pozitif olmalı"
L 157 [string  ]                 "Structure lookback en az 5 olmalı"
L 169 [docstring]             IndicatorResult: Smart Money analizi ve sinyalleri
L 171 [comment ]         # Bufferları doldur (Incremental update için hazırlık)
L 185 [comment ]         # Son max_len kadar veriyi al
L 191 [comment ]         # Alt indikatörleri hesapla
L 210 [comment ]         # Market yapı analizi
L 227 [comment ]         # Trend ve güç
L 279 [docstring]         Batch hesaplama (Backtest için)
L 285 [docstring]             pd.DataFrame: Smart Money değerleri
L 287 [comment ]         # Alt indikatörlerin batch hesaplamaları
L 300 [comment ]         # Sonuç dizileri
L 322 [comment ]         # Her bar için market structure ve sinyalleri hesapla
L 335 [comment ]             # OBV trend (obv_signal ile karşılaştır)
L 392 [docstring]             IndicatorResult: Güncel Smart Money değeri
L 394 [comment ]         # Buffer yönetimi
L 436 [comment ]         # DataFrame oluştur (sub-indikatörler için)
L 445 [comment ]         # Alt indikatörleri hesapla
L 464 [comment ]         # Market yapı analizi
L 481 [comment ]         # Trend ve güç
L 524 [docstring]         Market yapısını analiz et (Higher Highs, Lower Lows, BOS)
L 531 [comment ]         # Son lookback dönemdeki high ve low'lar
L 536 [comment ]         # En yüksek ve en düşük noktalar
L 557 [other   ]             bos = True  # Yükseliş yapısı kırıldı
L 561 [other   ]             bos = True  # Düşüş yapısı kırıldı
L 583 [comment ]         # OBV trend ve sinyal karşılaştırması
L 585 [string  ]             return 'accumulation'  # Birikim (Smart Money alıyor)
L 587 [string  ]             return 'distribution'  # Dağıtım (Smart Money satıyor)
L 593 [docstring]         Smart Money akış yönünü belirle
L 598 [comment ]         # Volume ve yapı uyumlu mu?
L 600 [string  ]             return 'bullish'  # Güçlü alım
L 602 [string  ]             return 'bearish'  # Güçlü satım
L 606 [string  ]             return 'distribution'  # Sessiz dağıtım
L 620 [docstring]         Smart Money sinyali üret
L 622 [docstring]         Tüm bileşenler uyumlu olmalı
L 624 [comment ]         # Güçlü trend gerekli
L 627 [comment ]         # AL Sinyali: Güçlü yükseliş + Volume artışı + Structure BOS
L 635 [comment ]         # Orta seviye AL: Volume ve yapı uyumlu
L 641 [comment ]         # SAT Sinyali: Güçlü düşüş + Volume azalışı + Structure BOS
L 649 [comment ]         # Orta seviye SAT: Volume ve yapı uyumlu
L 661 [docstring]         Volume ve yapı aynı yönde olmalı
L 675 [docstring]         Sinyal gücünü hesapla (0-100)
L 679 [comment ]         # ADX katkısı (trend gücü)
L 682 [comment ]         # Volume trend katkısı
L 686 [comment ]         # RSI katkısı (ekstrem seviyeler)
L 690 [comment ]         # Yapı katkısı
L 711 [comment ]         # Güçlü trend onayı
L 715 [comment ]         # Volume onayı
L 719 [comment ]         # RSI onayı (ekstrem seviyeler)
L 723 [comment ]         # Yapı kırılması onayı
L 737 [docstring]         """Varsayılan parametreler"""
L 747 [docstring]         """Smart Money volume gerektirir (OBV için)"""
L 759 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 763 [docstring]     """Smart Money indikatör testi"""
L 769 [comment ]     # Örnek veri oluştur
L 770 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 774 [comment ]     # Smart Money akışlı piyasa simülasyonu
L 783 [comment ]             # Birikim fazı (sideways + volume artışı)
L 787 [comment ]             # Güçlü yükseliş (markup)
L 791 [comment ]             # Dağıtım ve düşüş
L 801 [comment ]     # İlk fiyat için high/low ekle
L 814 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 815 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 816 [message ]     print(f"   [OK] Volume aralığı: {min(volumes):,.0f} -> {max(volumes):,.0f}")
L 821 [message ]     print(f"   [OK] Oluşturuldu: {smc}")
L 824 [message ]     print(f"   [OK] Gerekli periyot: {smc.get_required_periods()}")
L 825 [message ]     print(f"   [OK] Volume gerekli: {smc.metadata.requires_volume}")
L 837 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 850 [comment ]     # Test 3: Piyasa fazları analizi
L 851 [message ]     print("\n4. Piyasa fazları analizi...")
L 853 [string  ]         (25, "Birikim fazı"),
L 854 [string  ]         (45, "Yükseliş başlangıcı"),
L 855 [string  ]         (70, "Dağıtım başlangıcı"),
L 856 [string  ]         (95, "Düşüş fazı")
L 867 [comment ]     # Test 4: Özel parametreler
L 868 [message ]     print("\n5. Özel parametre testi...")
L 877 [message ]     print(f"   [OK] Özel OBV: {result.value['obv']:,.2f}")
L 878 [message ]     print(f"   [OK] Özel RSI: {result.value['rsi']}")
L 879 [message ]     print(f"   [OK] Özel ADX: {result.value['adx']}")
L 885 [message ]     print(f"   [OK] Trend Gücü: {result.metadata['trend_strength']}")
L 887 [message ]     print(f"   [OK] Sinyal Gücü: {result.strength:.2f}/100")
L 889 [comment ]     # Test 6: İstatistikler
L 890 [message ]     print("\n7. İstatistik testi...")
L 892 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 893 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 898 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 901 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 904 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\combo\triple_screen.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Triple Screen - Dr. Alexander Elder'ın ünlü 3 ekran ticaret sistemi
L  10 [docstring]     Üç farklı zaman dilimi ve indikatörü birleştirerek güvenilir sinyaller üretir
L  13 [docstring]     1. EKRAN 1 (Trend): Uzun vadeli trend (EMA veya MACD)
L  14 [docstring]     2. EKRAN 2 (Oscillator): Orta vadeli momentum (RSI veya Stochastic)
L  15 [docstring]     3. EKRAN 3 (Entry): Kısa vadeli giriş (Price Action)
L  17 [docstring]     Özellikler:
L  18 [docstring]     - Çoklu zaman dilimi analizi
L  20 [docstring]     - Güçlü risk yönetimi
L  21 [docstring]     - Yüksek doğruluk oranı
L  25 [docstring]     - Ekran 1: Uzun vadeli yükseliş trendi (EMA > EMA_slow VEYA MACD > 0)
L  26 [docstring]     - Ekran 2: RSI aşırı satım bölgesinde (<30)
L  27 [docstring]     - Ekran 3: Fiyat önceki dip seviyesinden yüksek
L  30 [docstring]     - Ekran 1: Uzun vadeli düşüş trendi (EMA < EMA_slow VEYA MACD < 0)
L  31 [docstring]     - Ekran 2: RSI aşırı alım bölgesinde (>70)
L  32 [docstring]     - Ekran 3: Fiyat önceki tepe seviyesinden düşük
L  34 [docstring] Bağımlılıklar:
L  62 [docstring]     Üç ekran sistemi ile güvenilir al/sat sinyalleri üretir.
L  65 [docstring]         ema_fast: Hızlı EMA periyodu (varsayılan: 13)
L  66 [docstring]         ema_slow: Yavaş EMA periyodu (varsayılan: 26)
L  67 [docstring]         rsi_period: RSI periyodu (varsayılan: 13)
L  68 [docstring]         rsi_overbought: RSI aşırı alım seviyesi (varsayılan: 70)
L  69 [docstring]         rsi_oversold: RSI aşırı satım seviyesi (varsayılan: 30)
L  70 [docstring]         use_macd: MACD kullan (varsayılan: True), False ise EMA crossover
L  91 [comment ]         # Ekran 1: Trend belirleme (MACD veya EMA crossover)
L 130 [docstring]         """Minimum gerekli periyot sayısı"""
L 137 [docstring]         """Parametreleri doğrula"""
L 142 [string  ]                 "EMA fast periyodu slow'dan küçük olmalı"
L 147 [string  ]                 "RSI periyodu pozitif olmalı"
L 159 [docstring]             IndicatorResult: Üç ekran analizi ve kombine sinyal
L 180 [comment ]         # EKRAN 3: Kısa vadeli giriş noktası (Price Action)
L 185 [comment ]         # Son 5 mumun dip ve tepe seviyeleri
L 190 [comment ]         # Fiyat aksiyonu kontrolü
L 191 [other   ]         screen3_buy = current_price > recent_low  # Yeni dip oluşmuyor
L 192 [other   ]         screen3_sell = current_price < recent_high  # Yeni tepe oluşmuyor
L 196 [comment ]         # Kombine sinyal üretimi (3 ekranın hepsi onaylamalı)
L 203 [comment ]         # Sinyal gücü ve konfirmasyon
L 246 [docstring]             IndicatorResult: Güncel Triple Screen değeri
L 248 [comment ]         # Buffer yönetimi
L 288 [comment ]         # DataFrame oluştur (sub-indikatörler için)
L 315 [comment ]         # EKRAN 3: Kısa vadeli giriş noktası (Price Action)
L 320 [comment ]         # Son 5 mumun dip ve tepe seviyeleri
L 325 [comment ]         # Fiyat aksiyonu kontrolü
L 329 [comment ]         # Kombine sinyal üretimi
L 336 [comment ]         # Sinyal güçü ve konfirmasyon
L 378 [docstring]         Üç ekrandan kombine sinyal üret
L 380 [docstring]         Tüm ekranlar aynı yönde onaylamalı
L 382 [comment ]         # AL Sinyali: Ekran 1 yükseliş + Ekran 2 aşırı satım + Ekran 3 onay
L 388 [comment ]         # SAT Sinyali: Ekran 1 düşüş + Ekran 2 aşırı alım + Ekran 3 onay
L 394 [comment ]         # Kısmi onaylar (daha zayıf sinyaller)
L 411 [docstring]         Sinyal gücünü hesapla (0-100)
L 413 [docstring]         Her ekranın katkısını değerlendir
L 417 [comment ]         # Ekran 1 katkısı (trend gücü)
L 421 [comment ]         # Ekran 2 katkısı (RSI ekstrem seviyeler)
L 428 [comment ]         # Ekran 3 katkısı (price action onayı)
L 444 [docstring]             str: 'triple', 'double', 'single' veya 'none'
L 446 [comment ]         # Üç ekran da aynı yönde
L 451 [comment ]         # İki ekran aynı yönde
L 506 [docstring]         """Varsayılan parametreler"""
L 529 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 533 [docstring]     """Triple Screen indikatör testi"""
L 539 [comment ]     # Örnek veri oluştur
L 540 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 544 [comment ]     # Trend değişimli piyasa simülasyonu
L 552 [other   ]             trend = 0.5  # Yükseliş
L 554 [other   ]             trend = -0.3  # Düşüş
L 556 [other   ]             trend = 0.6  # Güçlü yükseliş
L 563 [comment ]     # İlk fiyat için high/low ekle
L 576 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 577 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 582 [message ]     print(f"   [OK] Oluşturuldu: {ts}")
L 585 [message ]     print(f"   [OK] Gerekli periyot: {ts.get_required_periods()}")
L 594 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 614 [comment ]     # Test 4: Trend değişimi analizi
L 615 [message ]     print("\n5. Trend değişimi analizi...")
L 626 [comment ]     # Test 5: Özel parametreler
L 627 [message ]     print("\n6. Özel parametre testi...")
L 637 [message ]     print(f"   [OK] Özel parametreli ekran 1: {result.value['screen1']:.4f}")
L 638 [message ]     print(f"   [OK] Özel parametreli ekran 2: {result.value['screen2']}")
L 641 [comment ]     # Test 6: Sinyal gücü ve konfirmasyon
L 642 [message ]     print("\n7. Sinyal gücü ve konfirmasyon analizi...")
L 643 [message ]     print(f"   [OK] Sinyal Gücü: {result.strength:.2f}/100")
L 648 [comment ]     # Test 7: İstatistikler
L 649 [message ]     print("\n8. İstatistik testi...")
L 651 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 652 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 657 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 662 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\community\__init__.py

```
L   8 [docstring]     TradingView'dan port edilen topluluk indikatörleri.
L  10 [docstring]     Bu klasördeki indikatörler:
L  11 [docstring]     - Orijinal PineScript kodundan Python'a çevrilmiştir
L  12 [docstring]     - SuperBot indicator sistemine entegre edilmiştir
L  13 [docstring]     - calculate(), calculate_batch() ve update() methodları uyumludur
L  16 [docstring]     - MavilimW: Kivanc Ozbilgic'in WMA tabanlı trend indikatörü
```

### components\indicators\community\mavilimw.py

```
L  16 [docstring]     MavilimW - 6 kademeli WMA zincirleme hesaplaması ile
L  17 [docstring]     trend takibi yapan indikatör.
L  19 [docstring]     Fibonacci dizisine benzer periyot artışı:
L  23 [docstring]     - MAVW > MAVW[1] = Yükseliş (Mavi)
L  24 [docstring]     - MAVW < MAVW[1] = Düşüş (Kırmızı)
L  25 [docstring]     - Crossover/Crossunder = Alım/Satım sinyali
L  27 [docstring] Formül:
L  60 [docstring]     MavilimW - Kivanc Ozbilgic'in WMA Trend Indikatörü
L  62 [docstring]     6 kademeli WMA zincirleme hesaplaması yaparak
L  63 [docstring]     gürültüyü filtreler ve temiz trend sinyalleri üretir.
L  66 [docstring]         fmal: First Moving Average length (varsayılan: 3)
L  67 [docstring]         smal: Second Moving Average length (varsayılan: 5)
L  75 [docstring]         fmal=3, smal=5 kullanıldığında:
L  80 [docstring]         - Total required: ~89 bars (tüm WMA'ların ısınması için)
L 111 [comment ]         # WMA instances - kendi WMA indikatörümüzü kullan
L 125 [docstring]         Minimum gerekli periyot sayısı
L 127 [docstring]         6 kademeli WMA zinciri için:
L 132 [other   ]         return total + 5  # Buffer için +5
L 135 [docstring]         """Parametreleri doğrula"""
L 150 [docstring]         6 kademeli WMA zinciri uygula (WMA sınıfını kullanarak)
L 158 [comment ]         # Helper: Series'i WMA'ya uygun DataFrame'e çevir
L 198 [docstring]             IndicatorResult: MAVW değeri ve sinyal
L 203 [comment ]         # 6 kademeli WMA zinciri (WMA sınıfını kullanarak)
L 207 [comment ]         # Son değerler
L 211 [comment ]         # Trend direction: 1 = up (mavi), -1 = down (kırmızı), 0 = neutral
L 257 [comment ]         # 6 kademeli WMA zinciri (WMA sınıfını kullanarak)
L 260 [comment ]         # Trend direction: 1 = up (mavi), -1 = down (kırmızı), 0 = neutral
L 276 [docstring]         Warmup buffer - update() için
L 302 [docstring]             candle: Yeni kline data (dict veya tuple)
L 306 [docstring]             IndicatorResult: Güncellenmiş MAVW
L 403 [docstring]         """Varsayılan parametreler"""
```

### components\indicators\discovery_indicators.py

```
L   6 [docstring] Görev:
L   7 [docstring]     Indicator dosyalarını tara ve components/indicators/__init__.py oluştur
L  12 [docstring]     3. calculate_batch() var mı → has_calculate_batch
L  16 [docstring] Kullanım:
L  49 [docstring]     Output keys'leri detect et (return value içindeki dict keys)
L  56 [docstring]         List of output key names (örn: ['upper', 'middle', 'lower'])
L  60 [comment ]     # ÖNCE calculate_batch() return DataFrame/Series column names'i al (EN DOĞRU)
L 129 [comment ]         # return IndicatorResult(value={...}) içindeki keys'leri bul
L 137 [comment ]     # Duplicate'leri kaldır, sırala
L 143 [docstring]     Indicator type'ını otomatik detect et
L 146 [docstring]         IndicatorType enum string (örn: 'IndicatorType.BANDS')
L 166 [comment ]     # MULTIPLE_VALUES: MACD, Stochastic, gibi birden fazla output
L 171 [comment ]     # Check return statement içinde dict var mı
L 181 [docstring]     Indicator dosyasını parse et ve metadata çıkar
L 216 [comment ]             # İlk satır veya ikinci satırı al (genelde açıklama)
L 224 [comment ]                 # Format 2: Çok satırlı header (yeni format)
L 225 [comment ]                 # Satır 1: indicators/path/file.py
L 226 [comment ]                 # Satır 2: SuperBot - X (Full Name)
L 233 [comment ]                         # Fallback: ilk satırdan çıkar
L 236 [comment ]                 # Format 3: Direkt açıklama (standart format)
L 274 [comment ]         # 4. calculate_batch() var mı?
L 278 [comment ]         # İlk olarak _requires_volume() methodunu kontrol et
L 283 [comment ]             # Fallback: volume keyword'ü var mı? (data['volume'] gibi)
L 289 [comment ]         # 7. Output keys detect et (return value içindeki dict keys)
L 295 [message ]         print(f"   HATA {file_path.name}: {e}")
L 301 [docstring]     Tüm indicator'ları tara
L 327 [message ]         print(f"\n[{category}] taranıyor...")
L 339 [message ]                 print(f"   [!] {name}: Class bulunamadı")
L 366 [docstring]     """components/indicators/__init__.py oluştur"""
L 368 [comment ]     # Kategoriye göre grupla
L 388 [docstring]         'Kullanım:',
L 450 [docstring]         '    Indicator class\'ını import et',
L 453 [docstring]         '        name: Indicator adı (örn: \'rsi\', \'bollinger\')',
L 461 [string  ]         '            f"Indicator \'{name}\' bulunamadı!\\n"',
L 462 [string  ]         '            f"Mevcut: {len(available)} indicator"',
L 494 [docstring]         '    """calculate_batch() olan indicator\'lar"""',
L 576 [message ]     print(f"\n[OK] {output_path} oluşturuldu!")
L 584 [message ]     print(f"   [BATCH] {batch_count} calculate_batch() var")
L 585 [message ]     print(f"   [VOL] {volume_count} volume gerekli")
L 618 [message ]     print("\n[INFO] Kullanım:")
```

### components\indicators\indicator_manager.py

```
L   9 [docstring]     Merkezi indikatör yöneticisi. Strategy'lerde kullanılır.
L  11 [docstring]     Görevleri:
L  12 [docstring]     1. Strategy'de kullanılacak indikatörleri yükler (lazy loading)
L  13 [docstring]     2. Birden fazla sembol için aynı indikatörleri yönetir
L  14 [docstring]     3. Indikatör state'lerini tutar (history)
L  15 [docstring]     4. Multi-timeframe desteği (1m'de RSI, 15m'de MACD)
L  16 [docstring]     5. Cache integration (son hesaplanan değerler)
L  17 [docstring]     6. Indikatör dependency yönetimi (MACD → EMA'ya bağımlı)
L  19 [docstring]     Kullanım:
L  22 [docstring]         # Config'ten yükle
L  67 [docstring]     Merkezi indikatör yöneticisi
L  69 [docstring]     Strategy'lerde kullanılır. Multi-symbol, multi-timeframe desteği.
L  71 [docstring]     Örnek:
L  75 [docstring]         # Config'ten yükle
L 157 [message ]             self.logger.info("📊 IndicatorManager başlatıldı")
L 176 [message ]             self.logger.info(f"📦 {len(indicators_config)} indikatör config'den yükleniyor...")
L 183 [message ]                     self.logger.error(f"❌ İndikatör '{name}' yüklenemedi: {e}")
L 191 [message ]             self.logger.info(f"✅ {len(self.indicators)} indikatör başarıyla yüklendi")
L 258 [message ]                 self.logger.info(f"📈 İndikatör '{name}' yüklendi (temel: '{base_name}'), parametrele...
L 260 [message ]                 self.logger.info(f"📈 İndikatör '{name}' yüklendi, parametreler: {merged_params}")
L 488 [docstring]         V2: Her timeframe için ayrı calculator'lar oluşturur.
L 506 [comment ]             # V2: Calculator key HER ZAMAN suffix alır: "ema_50_5m", "ema_50_15m"
L 549 [docstring]         V2: Timeframe-aware güncelleme. Sadece ilgili timeframe'in calculator'larını günceller.
L 567 [comment ]         # V2: Sadece bu timeframe'in calculator'larını güncelle
L 573 [comment ]             # Eğer timeframe belirtilmişse, sadece o timeframe'in calculator'larını güncelle
L 578 [comment ]                 # timeframe=None ise suffix'siz olanları güncelle (eski davranış)
L 579 [comment ]                 # Bu durumda timeframe suffix'i olan calculator'ları atla
L 774 [docstring]         Yeni indicator eklendiğinde otomatik çalışır - manuel kod gerekmez!
L 775 [docstring]         Registry'deki default_params'tan parameter sıralamasını öğrenir.
L 828 [comment ]                 # Registry'den parameter sıralamasını al
L 835 [comment ]                         # Integer veya float olarak kaydet
L 846 [comment ]         # FALLBACK: Default behavior (sadece registry'de olmayan indicator'lar için)
```

### components\indicators\indicator_types.py

```
L   9 [docstring]     Ortak type tanımlamaları (Enum, Dataclass, Exception).
L  10 [docstring]     Tüm indicator modülleri tarafından kullanılır.
L  12 [docstring]     İçerik:
L  17 [docstring]     Kullanım:
L  39 [docstring]     """Indikatör kategorileri"""
L  56 [docstring]     """Trend yönü"""
L 111 [docstring]         """Timeframe'i dakika cinsinden döndür"""
L 120 [docstring]     """Indikatör output tipi"""
L 121 [string  ]     SINGLE_VALUE = "single"      # RSI, ATR gibi tek değer
L 139 [docstring]     OHLCV veri yapısı
L 143 [docstring]         open: Açılış fiyatı
L 144 [docstring]         high: En yüksek fiyat
L 145 [docstring]         low: En düşük fiyat
L 146 [docstring]         close: Kapanış fiyatı
L 158 [docstring]         """Dict'ten OHLCV oluştur"""
L 169 [docstring]         """OHLCV'yi dict'e çevir"""
L 181 [docstring]         """Timestamp'i datetime'a çevir"""
L 188 [docstring]     Indikatör hesaplama sonucu (generic)
L 191 [docstring]         value: Ana değer (float, dict, list, etc.)
L 192 [docstring]         timestamp: Hesaplamanın yapıldığı zaman
L 195 [docstring]         trend: Trend yönü (opsiyonel)
L 196 [docstring]         strength: Sinyal gücü 0-100 arası (opsiyonel)
L 213 [docstring]         """Timestamp'i datetime'a çevir"""
L 217 [docstring]         """Dict'e çevir"""
L 231 [docstring]     Indikatör konfigürasyonu
L 234 [docstring]         name: Indikatör adı (örn: 'rsi', 'ema')
L 254 [docstring]         """Dict'e çevir"""
L 267 [docstring]     Indikatör metadata
L 269 [docstring]     Registry'de kullanılır, indikatör hakkında bilgi içerir.
L 282 [docstring]         """Dict'e çevir"""
L 301 [docstring]     """Indikatör base exception"""
L 309 [docstring]     Yetersiz veri hatası
L 311 [docstring]     Indikatör hesaplamak için yeterli data yok.
L 312 [docstring]     Örn: RSI için 14 period gerekli, sadece 10 kline var.
L 323 [docstring]     Geçersiz parametre hatası
L 325 [docstring]     Indikatör parametreleri geçersiz.
L 326 [docstring]     Örn: RSI period=-5 (negatif olamaz)
L 339 [docstring]     Hesaplama hatası
L 341 [docstring]     Indikatör hesaplama sırasında hata oluştu.
L 342 [docstring]     Örn: Division by zero, NaN values
L 351 [comment ] # Pandas DataFrame alternatifi için
L 355 [comment ] # Indikatör output tipi
```

### components\indicators\momentum\apo.py

```
L   9 [docstring] APO (Absolute Price Oscillator) - Mutlak Fiyat Osilatörü.
L  10 [docstring] İki farklı periyotlu EMA arasındaki mutlak farkı hesaplar.
L  12 [docstring] Özellikler:
L  13 [docstring] - Hızlı ve yavaş EMA farkı
L  14 [docstring] - MACD'ye benzer ancak mutlak değer kullanır
L  15 [docstring] - Trend gücünü ve yönünü gösterir
L  16 [docstring] - Pozitif değer = Bullish momentum
L  17 [docstring] - Negatif değer = Bearish momentum
L  19 [docstring] Kullanım:
L  27 [docstring] Formül:
L  30 [docstring] Bağımlılıklar:
L  62 [docstring]     İki farklı periyotlu EMA arasındaki mutlak farkı hesaplar.
L  63 [docstring]     MACD'nin mutlak değer versiyonudur.
L  66 [docstring]         fast_period: Hızlı EMA periyodu (varsayılan: 12)
L  67 [docstring]         slow_period: Yavaş EMA periyodu (varsayılan: 26)
L  86 [docstring]         """Minimum gerekli periyot sayısı"""
L  90 [docstring]         """Parametreleri doğrula"""
L  94 [string  ]                 "Hızlı periyot yavaş periyottan küçük olmalı"
L 100 [docstring]         Batch hesaplama (Backtest için)
L 102 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 103 [docstring]         TA-Lib uyumlu: SMA kullanır (varsayılan matype=0)
L 109 [docstring]             pd.DataFrame: APO değerleri
L 113 [comment ]         # TA-Lib uyumlu: SMA kullan (EMA değil!)
L 124 [docstring]         Warmup buffer - state-based update için gerekli
L 128 [docstring]             symbol: Sembol adı (opsiyonel, multi-symbol desteği için)
L 138 [comment ]             # Son slow_period kadar veriyi tut
L 150 [docstring]             symbol: Sembol adı (opsiyonel)
L 153 [docstring]             IndicatorResult: Güncel APO değeri
L 183 [comment ]                 # State güncelle
L 189 [comment ]                 # Sinyal ve trend belirleme
L 221 [docstring]         APO hesapla (son değer)
L 227 [docstring]             IndicatorResult: APO değeri
L 239 [comment ]         # Sinyal ve trend belirleme
L 263 [docstring]         """Varsayılan parametreler"""
L 287 [docstring]     """APO indikatör testi"""
L 289 [comment ]     # Windows console UTF-8 desteği
L 298 [comment ]     # Örnek veri oluştur
L 299 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 318 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 319 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 324 [message ]     print(f"   ✅ Oluşturuldu: {apo}")
L 326 [message ]     print(f"   ✅ Gerekli periyot: {apo.get_required_periods()}")
L 332 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 338 [message ]     print(f"   ✅ Son 5 APO değeri:")
L 341 [comment ]     # Test 3: Farklı periyot kombinasyonları
L 342 [message ]     print("\n4. Farklı periyot testi...")
L 354 [comment ]     # Crossover sayısı
L 371 [message ]         print("   ❌ Hata: Geçersiz periyot kombinasyonu kabul edildi!")
L 373 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 376 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\awesome.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Awesome Oscillator (AO) - Bill Williams tarafından geliştirildi
L  10 [docstring]     Aralık: Sınırsız (pozitif ve negatif değerler)
L  11 [docstring]     Pozitif değer: Bullish momentum
L  12 [docstring]     Negatif değer: Bearish momentum
L  13 [docstring]     Histogram renkleri: Yeşil (artıyor), Kırmızı (azalıyor)
L  15 [docstring] Formül:
L  19 [docstring] Bağımlılıklar:
L  41 [docstring]     Market momentum'unu ölçer. İki farklı periyotlu SMA arasındaki farkı kullanır.
L  42 [docstring]     Parametresiz indikatör (5 ve 34 periyot sabittir).
L  45 [docstring]         fast_period: 5 (SMA kısa)
L  56 [comment ]         # Sabit periyotlar (Bill Williams'ın orijinal tanımı)
L  73 [docstring]         """Minimum gerekli periyot sayısı"""
L  77 [docstring]         """Parametreleri doğrula (sabit değerler)"""
L  78 [comment ]         # Sabit değerler olduğu için her zaman True
L  89 [docstring]             IndicatorResult: AO değeri
L  97 [comment ]         # SMA(5) ve SMA(34) hesapla
L 104 [comment ]         # Önceki AO değeri (momentum değişimi için)
L 123 [other   ]             strength=min(abs(ao_value) * 10, 100),  # 0-100 arası normalize et
L 136 [docstring]         ⚡ VECTORIZED batch Awesome Oscillator calculation - BACKTEST için
L 178 [docstring]             IndicatorResult: Güncel indicator değeri
L 223 [docstring]         AO değerinden sinyal üret
L 226 [docstring]             value: AO değeri
L 229 [docstring]             SignalType: BUY, SELL veya HOLD
L 241 [docstring]         AO değerinden trend belirle
L 244 [docstring]             value: AO değeri
L 247 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 256 [docstring]         """Varsayılan parametreler"""
L 275 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 279 [docstring]     """Awesome Oscillator indikatör testi"""
L 285 [comment ]     # Örnek veri oluştur
L 286 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 290 [comment ]     # Fiyat hareketini simüle et
L 306 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 307 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 312 [message ]     print(f"   [OK] Oluşturuldu: {ao}")
L 314 [message ]     print(f"   [OK] Gerekli periyot: {ao.get_required_periods()}")
L 318 [message ]     print(f"   [OK] AO Değeri: {result.value}")
L 321 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 322 [message ]     print(f"   [OK] Momentum yönü: {result.metadata['momentum_direction']}")
L 323 [message ]     print(f"   [OK] Değişim: {result.metadata['change']}")
L 325 [comment ]     # Test 2: Momentum değişimi
L 326 [message ]     print("\n3. Momentum değişimi testi...")
L 331 [message ]             print(f"   [OK] Index {i}: AO={result.value:.4f}, Yön={result.metadata['momentum_directi...
L 333 [comment ]     # Test 3: Yükselen trend
L 334 [message ]     print("\n4. Yükselen trend testi...")
L 342 [message ]     print(f"   [OK] Yükselen trend AO: {result_up.value:.4f}")
L 345 [message ]     print(f"   [OK] Momentum yönü: {result_up.metadata['momentum_direction']}")
L 347 [comment ]     # Test 4: Düşen trend
L 348 [message ]     print("\n5. Düşen trend testi...")
L 356 [message ]     print(f"   [OK] Düşen trend AO: {result_down.value:.4f}")
L 359 [message ]     print(f"   [OK] Momentum yönü: {result_down.metadata['momentum_direction']}")
L 361 [comment ]     # Test 5: Sıfır geçişi (zero-line cross)
L 362 [message ]     print("\n6. Sıfır geçişi testi...")
L 364 [comment ]     # Median price'ı sabitle
L 371 [message ]     print(f"   [OK] Nötr AO: {result_neutral.value:.4f}")
L 374 [comment ]     # Test 6: Twin Peaks pattern (gelişmiş kullanım)
L 375 [message ]     print("\n7. Pattern tanıma testi...")
L 376 [comment ]     # Son 10 AO değerini hesapla
L 385 [message ]         print(f"   [OK] Son 10 AO değeri hesaplandı")
L 386 [message ]         print(f"   [OK] İlk 3: {[round(v, 4) for v in ao_values[:3]]}")
L 389 [comment ]     # Test 7: İstatistikler
L 390 [message ]     print("\n8. İstatistik testi...")
L 392 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 393 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 398 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 401 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 404 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\cci.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     CCI (Commodity Channel Index) - Momentum osilatörü
L  10 [docstring]     Aralık: Genellikle -100 ile +100 arası (dışına çıkabilir)
L  11 [docstring]     Aşırı Alım: > +100
L  12 [docstring]     Aşırı Satım: < -100
L  14 [docstring] Formül:
L  18 [docstring] Bağımlılıklar:
L  41 [docstring]     Fiyatın istatistiksel ortalamasından sapmasını ölçer.
L  42 [docstring]     Aşırı alım/satım koşullarını ve trend gücünü belirlemek için kullanılır.
L  45 [docstring]         period: CCI periyodu (varsayılan: 20)
L  46 [docstring]         overbought: Aşırı alım seviyesi (varsayılan: 100)
L  47 [docstring]         oversold: Aşırı satım seviyesi (varsayılan: -100)
L  76 [docstring]         """Minimum gerekli periyot sayısı"""
L  80 [docstring]         """Parametreleri doğrula"""
L  84 [string  ]                 "Periyot pozitif olmalı"
L  90 [string  ]                 "Oversold, overbought'tan küçük olmalı"
L 102 [docstring]             IndicatorResult: CCI değeri
L 111 [comment ]         # Typical Price'ın SMA'sını hesapla
L 133 [other   ]             strength=min(abs(cci_value), 100),  # 0-100 arası normalize et
L 143 [docstring]         ⚡ VECTORIZED batch CCI calculation - BACKTEST için
L 184 [docstring]         Warmup buffer - update() için gerekli
L 188 [docstring]             symbol: Sembol adı (opsiyonel)
L 195 [comment ]         # Buffer'ları oluştur ve doldur
L 260 [docstring]         CCI değerinden sinyal üret
L 263 [docstring]             value: CCI değeri
L 266 [docstring]             SignalType: BUY, SELL veya HOLD
L 276 [docstring]         CCI değerinden trend belirle
L 279 [docstring]             value: CCI değeri
L 282 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 291 [docstring]         """Varsayılan parametreler"""
L 311 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 315 [docstring]     """CCI indikatör testi - cache_manager.py tarzı"""
L 321 [comment ]     # Test data oluştur
L 322 [message ]     print("\n1️⃣  Test Verisi Oluştur")
L 341 [message ]     print(f"  ✅ {len(data)} mum oluşturuldu")
L 343 [message ]     print(f"  ✅ Değişim: {((max(prices) - min(prices)) / min(prices) * 100):.2f}%")
L 348 [message ]     print(f"  ✅ İndikatör: {cci}")
L 369 [message ]     print(f"\n  📈 CCI Sonuçları:")
L 370 [message ]     print(f"  ✅ Değer: {result.value}")
L 373 [message ]     print(f"  ✅ Güç: {result.strength:.2f}/100")
L 376 [comment ]     # Test 2: Farklı Periyotlar
L 377 [message ]     print("\n3️⃣  Farklı Periyot Karşılaştırması")
L 384 [comment ]     # Test 3: Özel Seviyeler
L 385 [message ]     print("\n4️⃣  Özel Seviyeler")
L 392 [comment ]     # Test 4: İstatistikler
L 393 [message ]     print("\n5️⃣  İstatistikler")
L 396 [message ]     print(f"  ❌ Hata: {stats['error_count']}")
L 402 [message ]     print(f"  ✅ İsim: {metadata.name}")
L 404 [message ]     print(f"  ✅ Açıklama: {metadata.description[:50]}...")
L 405 [message ]     print(f"  ✅ Volume gerekli: {metadata.requires_volume}")
L 411 [message ]         print("  🟢 ALIŞ SİNYALİ - CCI aşırı satım bölgesinde")
L 413 [message ]         print("  🔴 SATIŞ SİNYALİ - CCI aşırı alım bölgesinde")
L 415 [message ]         print("  🟡 BEKLETİN - CCI normal aralıkta")
L 418 [message ]     print(f"  ✅ Mevcut: {result.value}")
L 419 [message ]     print(f"  ✅ Aşırı alım: {cci.overbought}")
L 420 [message ]     print(f"  ✅ Aşırı satım: {cci.oversold}")
L 424 [message ]     print("✅ Tüm testler başarıyla tamamlandı!")
```

### components\indicators\momentum\cmo.py

```
L   9 [docstring] Chande Momentum Oscillator (CMO) - RSI benzeri momentum göstergesi.
L  10 [docstring] RSI'dan farkı, farklı bir normalizasyon kullanmasıdır.
L  12 [docstring] Özellikler:
L  13 [docstring] - RSI'ya benzer ama farklı hesaplama
L  14 [docstring] - -100 ile +100 arasında salınır
L  15 [docstring] - Aşırı alım/satım bölgelerini gösterir
L  16 [docstring] - CMO > +50: Aşırı alım
L  17 [docstring] - CMO < -50: Aşırı satım
L  18 [docstring] - Sıfır çizgisi önemli destek/direnç
L  20 [docstring] Kullanım:
L  28 [docstring] Formül:
L  31 [docstring]     RSI'dan farkı:
L  35 [docstring] Bağımlılıklar:
L  68 [docstring]     RSI benzeri ama farklı normalizasyon kullanan momentum göstergesi.
L  69 [docstring]     -100 ile +100 arasında salınır.
L  72 [docstring]         period: CMO periyodu (varsayılan: 14)
L  91 [docstring]         """Minimum gerekli periyot sayısı"""
L  95 [docstring]         """Parametreleri doğrula"""
L  99 [string  ]                 "Period pozitif olmalı"
L 105 [docstring]         Batch hesaplama (Backtest için)
L 107 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 108 [docstring]         TA-Lib uyumlu: Wilder smoothing (RMA) kullanır
L 114 [docstring]             pd.DataFrame: CMO değerleri
L 118 [comment ]         # Fiyat farkları
L 121 [comment ]         # Kazanç ve kayıpları ayır
L 138 [docstring]         Warmup buffer - state-based update için gerekli
L 142 [docstring]             symbol: Sembol adı (opsiyonel, multi-symbol desteği için)
L 154 [comment ]             # Wilder smoothing (RMA) için state hesapla
L 179 [docstring]             symbol: Sembol adı (opsiyonel)
L 182 [docstring]             IndicatorResult: Güncel CMO değeri
L 202 [comment ]             # Fiyat değişimi
L 207 [comment ]             # Wilder smoothing (RMA) güncelle
L 215 [comment ]             # State güncelle
L 223 [comment ]             # Sinyal ve trend belirleme
L 225 [other   ]                 signal = SignalType.BUY  # Aşırı satım
L 228 [other   ]                 signal = SignalType.SELL  # Aşırı alım
L 262 [comment ]         # Fiyat dizisini numpy array'e çevir
L 280 [comment ]         # Sinyal ve trend belirleme
L 308 [docstring]         CMO hesapla (son değer)
L 314 [docstring]             IndicatorResult: CMO değeri
L 316 [comment ]         # Buffer'ları doldur
L 331 [comment ]         # Sinyal ve trend
L 333 [other   ]             signal = SignalType.BUY  # Aşırı satım
L 336 [other   ]             signal = SignalType.SELL  # Aşırı alım
L 357 [docstring]         """Varsayılan parametreler"""
L 381 [docstring]     """CMO indikatör testi"""
L 383 [comment ]     # Windows console UTF-8 desteği
L 392 [comment ]     # Örnek veri oluştur
L 393 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 397 [comment ]     # Sinüs dalgası + noise (daha iyi CMO gösterimi için)
L 412 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 413 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 418 [message ]     print(f"   ✅ Oluşturuldu: {cmo}")
L 420 [message ]     print(f"   ✅ Gerekli periyot: {cmo.get_required_periods()}")
L 426 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 427 [message ]     print(f"   ✅ Aşırı Alım: {result.metadata.get('overbought', 'N/A')}")
L 428 [message ]     print(f"   ✅ Aşırı Satım: {result.metadata.get('oversold', 'N/A')}")
L 434 [message ]     print(f"   ✅ Son 5 CMO değeri:")
L 437 [comment ]     # Test 3: Aşırı alım/satım tespiti
L 438 [message ]     print("\n4. Aşırı alım/satım testi...")
L 442 [message ]     print(f"   ✅ Aşırı alım bölgesi: {overbought} bar")
L 443 [message ]     print(f"   ✅ Aşırı satım bölgesi: {oversold} bar")
L 466 [comment ]     # Test 5: Farklı periyotlar
L 467 [message ]     print("\n6. Farklı periyot testi...")
L 474 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\mfi.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     MFI (Money Flow Index) - Volume ağırlıklı momentum osilatörü
L  10 [docstring]     Aralık: 0-100 arası
L  11 [docstring]     Aşırı Alım: > 80
L  12 [docstring]     Aşırı Satım: < 20
L  13 [docstring]     RSI'ın volume kullanan versiyonu olarak bilinir.
L  15 [docstring] Formül:
L  21 [docstring] Bağımlılıklar:
L  43 [docstring]     Volume ağırlıklı momentum osilatörü.
L  44 [docstring]     Fiyat ve hacim ilişkisini kullanarak aşırı alım/satım koşullarını tespit eder.
L  47 [docstring]         period: MFI periyodu (varsayılan: 14)
L  48 [docstring]         overbought: Aşırı alım seviyesi (varsayılan: 80)
L  49 [docstring]         oversold: Aşırı satım seviyesi (varsayılan: 20)
L  78 [docstring]         """Minimum gerekli periyot sayısı"""
L  82 [docstring]         """Parametreleri doğrula"""
L  86 [string  ]                 "Periyot pozitif olmalı"
L  92 [string  ]                 "Oversold, overbought'tan küçük olmalı"
L  98 [string  ]                 "Seviyeler 0-100 arası olmalı"
L 110 [docstring]             IndicatorResult: MFI değeri
L 123 [comment ]         # Pozitif ve negatif money flow'ları ayır
L 124 [comment ]         # Son period kadar data kullan
L 142 [comment ]         # Toplam positive ve negative flow
L 163 [other   ]             strength=abs(mfi_value - 50) * 2,  # 0-100 arası normalize et
L 174 [docstring]         ⚡ VECTORIZED batch MFI calculation - BACKTEST için
L 224 [docstring]         Warmup buffer - update() için gerekli
L 228 [docstring]             symbol: Sembol adı (opsiyonel)
L 235 [comment ]         # Buffer'ları oluştur ve doldur
L 301 [docstring]         MFI değerinden sinyal üret
L 304 [docstring]             value: MFI değeri
L 307 [docstring]             SignalType: BUY, SELL veya HOLD
L 317 [docstring]         MFI değerinden trend belirle
L 320 [docstring]             value: MFI değeri
L 323 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 332 [docstring]         """Varsayılan parametreler"""
L 352 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 356 [docstring]     """MFI indikatör testi"""
L 362 [comment ]     # Örnek veri oluştur
L 363 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 367 [comment ]     # Fiyat hareketini simüle et
L 383 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 384 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 389 [message ]     print(f"   [OK] Oluşturuldu: {mfi}")
L 391 [message ]     print(f"   [OK] Gerekli periyot: {mfi.get_required_periods()}")
L 392 [message ]     print(f"   [OK] Volume gerekli: {mfi._requires_volume()}")
L 395 [message ]     print(f"   [OK] MFI Değeri: {result.value}")
L 398 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 401 [comment ]     # Test 2: Farklı periyotlar
L 402 [message ]     print("\n3. Farklı periyot testi...")
L 408 [comment ]     # Test 3: Özel seviyeler
L 409 [message ]     print("\n4. Özel seviye testi...")
L 412 [message ]     print(f"   [OK] Özel seviyeli MFI: {result.value}")
L 416 [comment ]     # Test 4: Volume etkisi - Yüksek volume ile test
L 423 [message ]     print(f"   [OK] Yüksek volume MFI: {result_high_vol.value}")
L 426 [comment ]     # Test 5: İstatistikler
L 427 [message ]     print("\n6. İstatistik testi...")
L 429 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 430 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 435 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 438 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 441 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\mom.py

```
L   9 [docstring] Momentum (MOM) - En basit momentum indikatörü.
L  10 [docstring] Mevcut fiyat ile N periyot önceki fiyat arasındaki farkı hesaplar.
L  12 [docstring] Özellikler:
L  13 [docstring] - Basit ve hızlı hesaplama
L  14 [docstring] - Trend yönü ve gücünü ölçer
L  15 [docstring] - Pozitif değer = Bullish momentum
L  16 [docstring] - Negatif değer = Bearish momentum
L  18 [docstring] Kullanım:
L  26 [docstring] Formül:
L  29 [docstring] Bağımlılıklar:
L  62 [docstring]     En basit momentum göstergesi. Mevcut fiyat ile N periyot önceki
L  63 [docstring]     fiyat arasındaki farkı hesaplar.
L  66 [docstring]         period: Momentum periyodu (varsayılan: 10)
L  85 [docstring]         """Minimum gerekli periyot sayısı"""
L  89 [docstring]         """Parametreleri doğrula"""
L  93 [string  ]                 "Period pozitif olmalı"
L  99 [docstring]         Batch hesaplama (Backtest için)
L 101 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 107 [docstring]             pd.DataFrame: MOM değerleri
L 115 [docstring]         Warmup buffer - update() için gerekli
L 119 [docstring]             symbol: Sembol adı (opsiyonel)
L 125 [comment ]         # Son period+1 veri gerekli
L 138 [docstring]             IndicatorResult: Güncel MOM değeri
L 162 [comment ]         # Sinyal ve trend belirleme
L 184 [docstring]         MOM hesapla (son değer)
L 190 [docstring]             IndicatorResult: MOM değeri
L 192 [comment ]         # Buffer'ları doldur
L 207 [comment ]         # Sinyal ve trend
L 231 [docstring]         """Varsayılan parametreler"""
L 255 [docstring]     """MOM indikatör testi"""
L 257 [comment ]     # Windows console UTF-8 desteği
L 266 [comment ]     # Örnek veri oluştur
L 267 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 286 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 287 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 292 [message ]     print(f"   ✅ Oluşturuldu: {mom}")
L 294 [message ]     print(f"   ✅ Gerekli periyot: {mom.get_required_periods()}")
L 300 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 306 [message ]     print(f"   ✅ Son 5 MOM değeri:")
L 328 [comment ]     # Test 4: Farklı periyotlar
L 329 [message ]     print("\n5. Farklı periyot testi...")
L 336 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\ppo.py

```
L   9 [docstring] PPO (Percentage Price Oscillator) - Yüzdelik Fiyat Osilatörü.
L  10 [docstring] İki EMA arasındaki farkı yüzde olarak hesaplar.
L  12 [docstring] Özellikler:
L  13 [docstring] - MACD'nin yüzdelik versiyonu
L  14 [docstring] - Farklı fiyat seviyelerinde karşılaştırma yapılabilir
L  15 [docstring] - PPO, Signal ve Histogram çıktıları
L  16 [docstring] - Pozitif değer = Bullish momentum
L  17 [docstring] - Negatif değer = Bearish momentum
L  20 [docstring] Kullanım:
L  28 [docstring] Formül:
L  33 [docstring] Bağımlılıklar:
L  65 [docstring]     İki EMA arasındaki farkı yüzde olarak hesaplar.
L  66 [docstring]     MACD'nin normalize edilmiş versiyonudur.
L  69 [docstring]         fast_period: Hızlı EMA periyodu (varsayılan: 12)
L  70 [docstring]         slow_period: Yavaş EMA periyodu (varsayılan: 26)
L  71 [docstring]         signal_period: Signal line periyodu (varsayılan: 9)
L  92 [docstring]         """Minimum gerekli periyot sayısı"""
L  96 [docstring]         """Parametreleri doğrula"""
L 100 [string  ]                 "Hızlı periyot yavaş periyottan küçük olmalı"
L 105 [string  ]                 "Signal period pozitif olmalı"
L 111 [docstring]         Batch hesaplama (Backtest için)
L 113 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 114 [docstring]         TA-Lib uyumlu: SMA kullanır (varsayılan matype=0)
L 120 [docstring]             pd.DataFrame: PPO, Signal ve Histogram değerleri
L 124 [comment ]         # TA-Lib uyumlu: SMA kullan (EMA değil!)
L 128 [comment ]         # Yüzdelik fark
L 145 [docstring]         Warmup buffer - state-based update için gerekli
L 149 [docstring]             symbol: Sembol adı (opsiyonel, multi-symbol desteği için)
L 159 [comment ]             # PPO hesapla ve signal EMA state'i tut
L 163 [comment ]             # Signal line için EMA state
L 179 [docstring]             symbol: Sembol adı (opsiyonel)
L 182 [docstring]             IndicatorResult: Güncel PPO değeri
L 218 [comment ]                 # State güncelle
L 271 [docstring]         PPO hesapla (son değer)
L 277 [docstring]             IndicatorResult: PPO değerleri
L 282 [comment ]         # Son değerleri al
L 325 [docstring]         """Varsayılan parametreler"""
L 349 [docstring]     """PPO indikatör testi"""
L 351 [comment ]     # Windows console UTF-8 desteği
L 360 [comment ]     # Örnek veri oluştur
L 361 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 380 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 381 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 386 [message ]     print(f"   ✅ Oluşturuldu: {ppo}")
L 388 [message ]     print(f"   ✅ Gerekli periyot: {ppo.get_required_periods()}")
L 396 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 402 [message ]     print(f"   ✅ Son 5 değer:")
L 411 [comment ]     # Crossover sayısı
L 422 [comment ]     # Test 4: Farklı periyot kombinasyonları
L 423 [message ]     print("\n5. Farklı periyot testi...")
L 435 [message ]         print("   ❌ Hata: Geçersiz periyot kombinasyonu kabul edildi!")
L 437 [message ]         print(f"   ✅ Fast/Slow period validasyonu başarılı: {e}")
L 441 [message ]         print("   ❌ Hata: Geçersiz signal period kabul edildi!")
L 443 [message ]         print(f"   ✅ Signal period validasyonu başarılı: {e}")
L 446 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\roc.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     ROC (Rate of Change) - Fiyat değişim yüzdesi
L  10 [docstring]     Aralık: Sınırsız (pozitif ve negatif değerler)
L  11 [docstring]     Pozitif ROC: Fiyat artışı
L  12 [docstring]     Negatif ROC: Fiyat düşüşü
L  13 [docstring]     0 civarı: Momentum yok
L  15 [docstring] Formül:
L  17 [docstring]     n = period (geriye bakış periyodu)
L  19 [docstring] Bağımlılıklar:
L  41 [docstring]     Fiyatın belirli bir periyot öncesine göre yüzde değişimini hesaplar.
L  42 [docstring]     Momentum gücünü ve yönünü belirlemek için kullanılır.
L  45 [docstring]         period: ROC periyodu (varsayılan: 12)
L  68 [docstring]         """Minimum gerekli periyot sayısı"""
L  72 [docstring]         """Parametreleri doğrula"""
L  76 [string  ]                 "Periyot pozitif olmalı"
L  88 [docstring]             IndicatorResult: ROC değeri
L  92 [comment ]         # Şu anki fiyat ve N period önceki fiyat
L 104 [comment ]         # Güç hesaplama - ROC'un mutlak değerini 0-100 arası normalize et
L 105 [comment ]         # Tipik ROC değerleri -20 ile +20 arası olur, bu yüzden 20'ye bölelim
L 127 [docstring]         ⚡ VECTORIZED batch ROC calculation - BACKTEST için
L 158 [docstring]         Warmup buffer - update() için gerekli
L 162 [docstring]             symbol: Sembol adı (opsiyonel)
L 208 [docstring]         ROC değerinden sinyal üret
L 211 [docstring]             value: ROC değeri
L 214 [docstring]             SignalType: BUY, SELL veya HOLD
L 216 [comment ]         # Pozitif ROC yukarı momentum, negatif ROC aşağı momentum
L 217 [comment ]         # Aşırı değerler reversal sinyali olabilir
L 219 [other   ]             return SignalType.SELL  # Aşırı pozitif, satış fırsatı
L 221 [other   ]             return SignalType.BUY  # Aşırı negatif, alış fırsatı
L 230 [docstring]         ROC değerinden trend belirle
L 233 [docstring]             value: ROC değeri
L 236 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 245 [docstring]         """Varsayılan parametreler"""
L 261 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 265 [docstring]     """ROC indikatör testi"""
L 271 [comment ]     # Örnek veri oluştur
L 272 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 276 [comment ]     # Fiyat hareketini simüle et
L 292 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 293 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 298 [message ]     print(f"   [OK] Oluşturuldu: {roc}")
L 300 [message ]     print(f"   [OK] Gerekli periyot: {roc.get_required_periods()}")
L 303 [message ]     print(f"   [OK] ROC Değeri: {result.value}%")
L 306 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 309 [comment ]     # Test 2: Farklı periyotlar
L 310 [message ]     print("\n3. Farklı periyot testi...")
L 316 [comment ]     # Test 3: Yükselen trend
L 317 [message ]     print("\n4. Yükselen trend testi...")
L 319 [comment ]     # Son 12 mumda sürekli yükseliş
L 327 [message ]     print(f"   [OK] Yükselen trend ROC: {result_up.value}%")
L 331 [comment ]     # Test 4: Düşen trend
L 332 [message ]     print("\n5. Düşen trend testi...")
L 334 [comment ]     # Son 12 mumda sürekli düşüş
L 342 [message ]     print(f"   [OK] Düşen trend ROC: {result_down.value}%")
L 346 [comment ]     # Test 5: Sabit fiyat (değişim yok)
L 358 [comment ]     # Test 6: İstatistikler
L 359 [message ]     print("\n7. İstatistik testi...")
L 361 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 362 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 367 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 370 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 373 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\rsi.py

```
L  36 [docstring]     Bu fonksiyon StochasticRSI gibi diğer indikatörler tarafından kullanılabilir.
L  39 [docstring]         close: Kapanış fiyatları (numpy array)
L  40 [docstring]         period: RSI periyodu (varsayılan: 14)
L  43 [docstring]         RSI değerleri (numpy array)
L 304 [docstring]             IndicatorResult: Güncel RSI değeri
```

### components\indicators\momentum\rsi_divergence.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     RSI Divergence - Fiyat ve RSI arasındaki uyumsuzluğu tespit eder
L  10 [docstring]     Bullish Divergence: Fiyat düşerken RSI yükselir (alım sinyali)
L  11 [docstring]     Bearish Divergence: Fiyat yükselirken RSI düşer (satım sinyali)
L  12 [docstring]     Hidden Divergence: Trend devamı sinyalleri
L  13 [docstring]     Güçlü reversal göstergesi
L  15 [docstring] Formül:
L  17 [docstring]     2. Son N periyotta fiyat pivot noktalarını bul
L  18 [docstring]     3. Aynı noktalarda RSI pivot noktalarını bul
L  19 [docstring]     4. Fiyat ve RSI hareketlerini karşılaştır
L  22 [docstring] Bağımlılıklar:
L  44 [docstring]     Fiyat ve RSI arasındaki divergence'ları tespit eder.
L  45 [docstring]     Trend dönüş noktalarını yakalamak için kullanılır.
L  48 [docstring]         rsi_period: RSI periyodu (varsayılan: 14)
L  49 [docstring]         lookback: Geriye bakış periyodu (pivot noktaları için) (varsayılan: 5)
L  50 [docstring]         min_strength: Minimum divergence gücü (0-100) (varsayılan: 30)
L  79 [docstring]         """Minimum gerekli periyot sayısı"""
L  83 [docstring]         """Parametreleri doğrula"""
L  87 [string  ]                 "RSI period pozitif olmalı"
L  92 [string  ]                 "Lookback en az 2 olmalı"
L  97 [string  ]                 "Min strength 0-100 arası olmalı"
L 106 [docstring]             close: Kapanış fiyatları
L 109 [docstring]             RSI değerleri
L 133 [docstring]         Pivot noktalarını bul (local highs ve lows)
L 137 [docstring]             lookback: Geriye bakış periyodu
L 145 [comment ]             # Local high: Sağ ve sol taraftan daha yüksek
L 154 [comment ]             # Local low: Sağ ve sol taraftan daha düşük
L 170 [docstring]             price_pivots: Fiyat pivot noktaları
L 171 [docstring]             rsi_pivots: RSI pivot noktaları
L 184 [comment ]         # Bullish Divergence: Fiyat düşer, RSI yükselir
L 189 [comment ]             # RSI pivot'larını price pivot'lara yakın olanları bul
L 199 [comment ]                 # Bullish divergence: Fiyat düşer, RSI yükselir
L 204 [comment ]         # Bearish Divergence: Fiyat yükselir, RSI düşer
L 209 [comment ]             # RSI pivot'larını price pivot'lara yakın olanları bul
L 219 [comment ]                 # Bearish divergence: Fiyat yükselir, RSI düşer
L 241 [comment ]         # Pivot noktalarını bul
L 248 [comment ]         # Sonuç değeri
L 287 [docstring]         ⚡ VECTORIZED batch RSI Divergence calculation - BACKTEST için
L 289 [docstring]         Basitleştirilmiş implementasyon:
L 291 [docstring]         - Divergence detection için simplified logic
L 397 [docstring]             IndicatorResult: Güncel indicator değeri
L 442 [docstring]         Divergence değerinden sinyal üret
L 448 [docstring]             SignalType: BUY, SELL veya HOLD
L 459 [docstring]         Divergence değerinden trend belirle
L 465 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 475 [docstring]         """Varsayılan parametreler"""
L 495 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 499 [docstring]     """RSI Divergence indikatör testi"""
L 505 [comment ]     # Örnek veri oluştur - Divergence oluşturmak için özel pattern
L 506 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 510 [comment ]     # Bullish divergence pattern oluştur
L 517 [comment ]             # Fiyat düşer
L 520 [comment ]             # Fiyat daha da düşer (lower low)
L 532 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 533 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 538 [message ]     print(f"   [OK] Oluşturuldu: {rsi_div}")
L 540 [message ]     print(f"   [OK] Gerekli periyot: {rsi_div.get_required_periods()}")
L 543 [message ]     print(f"   [OK] RSI Değeri: {result.value['rsi']}")
L 546 [message ]     print(f"   [OK] Divergence Gücü: {result.value['divergence_strength']}")
L 550 [comment ]     # Test 2: Farklı parametreler
L 551 [message ]     print("\n3. Farklı parametre testi...")
L 583 [comment ]     # Test 4: Pivot noktaları
L 584 [message ]     print("\n5. Pivot noktaları testi...")
L 590 [comment ]     # Test 5: Güç testi
L 591 [message ]     print("\n6. Divergence güç testi...")
L 593 [message ]         print(f"   [OK] Güçlü divergence tespit edildi: {result.value['divergence_strength']}")
L 595 [message ]         print(f"   [OK] Zayıf veya divergence yok: {result.value['divergence_strength']}")
L 597 [comment ]     # Test 6: İstatistikler
L 598 [message ]     print("\n7. İstatistik testi...")
L 600 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 601 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 606 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 610 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 613 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\stochastic.py

```
L 131 [docstring]         Warmup buffer - update() için gerekli
L 135 [docstring]             symbol: Sembol adı (opsiyonel)
L 142 [comment ]         # Buffer'ları oluştur ve doldur
L 209 [docstring]         ⚡ VECTORIZED batch Stochastic calculation - BACKTEST için
L 211 [docstring]         TA-Lib STOCH uyumlu: SlowK ve SlowD hesaplar
L 250 [comment ]         # Create result DataFrame (calculate() ile aynı key'ler)
```

### components\indicators\momentum\stochasticrsi.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Stochastic RSI - RSI'a uygulanan Stochastic osilatörü
L  10 [docstring]     Aralık: 0-100 arası (daha hassas)
L  11 [docstring]     Aşırı Alım: > 80
L  12 [docstring]     Aşırı Satım: < 20
L  13 [docstring]     RSI'dan daha hassas sinyaller üretir, daha fazla gürültü içerebilir.
L  15 [docstring] Formül:
L  18 [docstring]        Min/Max son N periyottan alınır
L  22 [docstring] Bağımlılıklar:
L  45 [docstring]     RSI'a Stochastic formülü uygulayarak daha hassas momentum sinyalleri üretir.
L  46 [docstring]     Aşırı alım/satım koşullarını daha erken tespit eder.
L  49 [docstring]         rsi_period: RSI periyodu (varsayılan: 14)
L  50 [docstring]         stoch_period: Stochastic periyodu (varsayılan: 14)
L  51 [docstring]         k_smooth: %K smoothing periyodu (varsayılan: 3)
L  52 [docstring]         d_smooth: %D smoothing periyodu (varsayılan: 3)
L  53 [docstring]         overbought: Aşırı alım seviyesi (varsayılan: 80)
L  54 [docstring]         oversold: Aşırı satım seviyesi (varsayılan: 20)
L  55 [docstring]         rsi_source: RSI hesaplama kaynağı (varsayılan: 0)
L 108 [docstring]         """Minimum gerekli periyot sayısı"""
L 112 [docstring]         """Parametreleri doğrula"""
L 116 [string  ]                 "RSI period pozitif olmalı"
L 121 [string  ]                 "Stochastic period pozitif olmalı"
L 126 [string  ]                 "K smooth pozitif olmalı"
L 131 [string  ]                 "D smooth pozitif olmalı"
L 137 [string  ]                 "Oversold, overbought'tan küçük olmalı"
L 143 [string  ]                 "Seviyeler 0-100 arası olmalı"
L 148 [string  ]                 f"Geçerli değerler: 0-6 (0=close, 1=open, 2=high, 3=low, 4=hl2, 5=hlc3, 6=ohlc4)"
L 153 [docstring]         """RSI için kaynak değerlerini hesapla"""
L 182 [docstring]             rsi_values: RSI değerleri
L 218 [docstring]         ⚡ Batch Stochastic RSI calculation - BACKTEST için
L 220 [docstring]         calculate() ile aynı hesaplama yöntemini kullanır:
L 234 [comment ]         # Kaynak değerlerini al (close, hl2, hlc3, ohlc4, vb.) - calculate() ile aynı
L 237 [comment ]         # 1. RSI hesapla - calculate() ile aynı fonksiyon
L 240 [comment ]         # 2. Stochastic RSI hesapla - _calculate_stochastic_rsi ile aynı mantık
L 272 [comment ]         # Warmup döneminde NaN yap
L 294 [docstring]             IndicatorResult: Stochastic RSI değerleri
L 296 [comment ]         # Kaynak değerlerini al (close, hl2, hlc3, ohlc4, vb.)
L 305 [comment ]         # Son değerler
L 337 [other   ]             strength=abs(current_k - 50) * 2,  # 0-100 arası normalize et
L 349 [docstring]         Warmup buffer - update() için gerekli
L 353 [docstring]             symbol: Sembol adı (opsiyonel)
L 360 [comment ]         # OHLC buffer'ları oluştur (rsi_source için gerekli)
L 381 [docstring]             candle: Yeni mum verisi (OHLCV dict veya list/tuple)
L 385 [docstring]             IndicatorResult: Güncel indicator değeri
L 447 [docstring]         Stochastic RSI değerinden sinyal üret
L 450 [docstring]             value: Stochastic RSI değerleri
L 453 [docstring]             SignalType: BUY, SELL veya HOLD
L 473 [docstring]         Stochastic RSI değerinden trend belirle
L 476 [docstring]             value: %K değeri
L 479 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 488 [docstring]         """Varsayılan parametreler"""
L 511 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 515 [docstring]     """Stochastic RSI indikatör testi"""
L 521 [comment ]     # Örnek veri oluştur
L 522 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 526 [comment ]     # Fiyat hareketini simüle et
L 542 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 543 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 548 [message ]     print(f"   [OK] Oluşturuldu: {stoch_rsi}")
L 550 [message ]     print(f"   [OK] Gerekli periyot: {stoch_rsi.get_required_periods()}")
L 561 [comment ]     # Test 2: Farklı parametreler
L 562 [message ]     print("\n3. Farklı parametre testi...")
L 574 [comment ]     # Test 3: Özel seviyeler
L 575 [message ]     print("\n4. Özel seviye testi...")
L 579 [message ]     print(f"   [OK] Özel seviyeli Stoch RSI: K={result.value['k']}")
L 585 [comment ]     # Son birkaç değeri kontrol et
L 595 [comment ]     # Test 5: Aşırı alım/satım koşulları
L 596 [message ]     print("\n6. Aşırı alım/satım testi...")
L 597 [comment ]     # Yükselen trend
L 604 [message ]     print(f"   [OK] Yükselen trend Stoch RSI: K={result_up.value['k']}")
L 607 [comment ]     # Düşen trend
L 614 [message ]     print(f"   [OK] Düşen trend Stoch RSI: K={result_down.value['k']}")
L 617 [comment ]     # Test 6: RSI vs Stochastic RSI karşılaştırma
L 618 [message ]     print("\n7. RSI vs Stoch RSI karşılaştırma...")
L 622 [message ]     print(f"   [OK] Hassasiyet farkı: Stoch RSI 0-100 arası normalize edilmiştir")
L 624 [comment ]     # Test 7: İstatistikler
L 625 [message ]     print("\n8. İstatistik testi...")
L 627 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 628 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 633 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 637 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 640 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\tsi.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     TSI (True Strength Index) - Çift smooth momentum osilatörü
L  10 [docstring]     Aralık: -100 ile +100 arası
L  11 [docstring]     Pozitif değer: Yükseliş momentum
L  12 [docstring]     Negatif değer: Düşüş momentum
L  13 [docstring]     0 geçişleri: Trend değişimi sinyali
L  15 [docstring] Formül:
L  21 [docstring] Bağımlılıklar:
L  43 [docstring]     Çift exponential smoothing kullanarak momentum gücünü ölçer.
L  44 [docstring]     Gürültüyü azaltır ve güvenilir sinyaller üretir.
L  47 [docstring]         long_period: Uzun EMA periyodu (varsayılan: 25)
L  48 [docstring]         short_period: Kısa EMA periyodu (varsayılan: 13)
L  49 [docstring]         signal_period: Sinyal line periyodu (varsayılan: 7)
L  78 [docstring]         """Minimum gerekli periyot sayısı"""
L  79 [comment ]         # Çift smoothing için yeterli veri gerekir
L  83 [docstring]         """Parametreleri doğrula"""
L  87 [string  ]                 "Long period pozitif olmalı"
L  92 [string  ]                 "Short period pozitif olmalı"
L  97 [string  ]                 "Signal period pozitif olmalı"
L 103 [string  ]                 "Short period, long period'tan küçük olmalı"
L 116 [docstring]             EMA değerleri
L 121 [comment ]         # İlk değer basit ortalama
L 124 [comment ]         # Sonraki değerler EMA formülü ile
L 138 [docstring]             IndicatorResult: TSI değeri ve sinyal line
L 144 [other   ]         price_change = np.insert(price_change, 0, 0)  # İlk değer 0
L 163 [comment ]         # Signal line (TSI'nin EMA'sı)
L 164 [comment ]         # TSI değerlerini hesapla (son signal_period kadar)
L 174 [comment ]         # TSI ve signal line farkından sinyal üret
L 200 [docstring]         ⚡ VECTORIZED batch TSI calculation - BACKTEST için
L 261 [docstring]         Warmup buffer - update() için gerekli state'i hazırlar
L 265 [docstring]             symbol: Sembol adı (opsiyonel)
L 316 [docstring]         TSI değerinden sinyal üret
L 319 [docstring]             value: TSI değeri veya dict
L 322 [docstring]             SignalType: BUY, SELL veya HOLD
L 324 [comment ]         # value dict ise tsi değerini al
L 332 [comment ]         # Histogram pozitif ve TSI pozitif: güçlü alım
L 335 [comment ]         # Histogram negatif ve TSI negatif: güçlü satım
L 338 [comment ]         # TSI sıfırdan yukarı: alım
L 341 [comment ]         # TSI sıfırdan aşağı: satım
L 348 [docstring]         TSI değerinden trend belirle
L 351 [docstring]             value: Histogram değeri
L 354 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 356 [comment ]         # Histogram pozitif: yükseliş
L 359 [comment ]         # Histogram negatif: düşüş
L 365 [docstring]         """Varsayılan parametreler"""
L 385 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 389 [docstring]     """TSI indikatör testi"""
L 395 [comment ]     # Örnek veri oluştur
L 396 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 400 [comment ]     # Fiyat hareketini simüle et (trend oluşturmak için)
L 404 [comment ]         # Trend + gürültü
L 418 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 419 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 424 [message ]     print(f"   [OK] Oluşturuldu: {tsi}")
L 426 [message ]     print(f"   [OK] Gerekli periyot: {tsi.get_required_periods()}")
L 429 [message ]     print(f"   [OK] TSI Değeri: {result.value['tsi']}")
L 434 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 436 [comment ]     # Test 2: Farklı periyotlar
L 437 [message ]     print("\n3. Farklı periyot testi...")
L 450 [comment ]     # Son birkaç değeri kontrol et
L 459 [comment ]     # Test 4: Yükselen trend
L 460 [message ]     print("\n5. Yükselen trend testi...")
L 467 [message ]     print(f"   [OK] Yükselen trend TSI: {result_up.value['tsi']}")
L 471 [comment ]     # Test 5: Düşen trend
L 472 [message ]     print("\n6. Düşen trend testi...")
L 479 [message ]     print(f"   [OK] Düşen trend TSI: {result_down.value['tsi']}")
L 483 [comment ]     # Test 6: İstatistikler
L 484 [message ]     print("\n7. İstatistik testi...")
L 486 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 487 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 492 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 496 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 499 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\ultimate.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Ultimate Oscillator - Larry Williams tarafından geliştirildi
L  10 [docstring]     Aralık: 0-100 arası
L  11 [docstring]     Aşırı Alım: > 70
L  12 [docstring]     Aşırı Satım: < 30
L  13 [docstring]     3 farklı timeframe'in weighted average'ını kullanır.
L  15 [docstring] Formül:
L  23 [docstring] Bağımlılıklar:
L  45 [docstring]     3 farklı periyodu birleştirerek daha güvenilir sinyaller üretir.
L  46 [docstring]     Kısa, orta ve uzun vadeli momentum'u dengeler.
L  49 [docstring]         period1: Kısa periyot (varsayılan: 7)
L  50 [docstring]         period2: Orta periyot (varsayılan: 14)
L  51 [docstring]         period3: Uzun periyot (varsayılan: 28)
L  52 [docstring]         overbought: Aşırı alım seviyesi (varsayılan: 70)
L  53 [docstring]         oversold: Aşırı satım seviyesi (varsayılan: 30)
L  88 [docstring]         """Minimum gerekli periyot sayısı"""
L  89 [other   ]         return self.period3 + 1  # En uzun periyot + önceki close için 1
L  92 [docstring]         """Parametreleri doğrula"""
L  97 [string  ]                 "Tüm periyotlar pozitif olmalı"
L 103 [string  ]                 "Periyotlar artan sırada olmalı: period1 < period2 < period3"
L 109 [string  ]                 "Oversold, overbought'tan küçük olmalı"
L 115 [string  ]                 "Seviyeler 0-100 arası olmalı"
L 127 [docstring]             IndicatorResult: UO değeri
L 133 [comment ]         # BP (Buying Pressure) ve TR (True Range) hesapla
L 149 [comment ]         # Her 3 periyot için Average hesapla
L 166 [comment ]         # Ağırlıklar: 4, 2, 1
L 176 [other   ]             strength=abs(uo_value - 50) * 2,  # 0-100 arası normalize et
L 189 [docstring]         ⚡ VECTORIZED batch Ultimate Oscillator calculation - BACKTEST için
L 251 [docstring]             IndicatorResult: Güncel indicator değeri
L 296 [docstring]         UO değerinden sinyal üret
L 299 [docstring]             value: UO değeri
L 302 [docstring]             SignalType: BUY, SELL veya HOLD
L 312 [docstring]         UO değerinden trend belirle
L 315 [docstring]             value: UO değeri
L 318 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 327 [docstring]         """Varsayılan parametreler"""
L 349 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 353 [docstring]     """Ultimate Oscillator indikatör testi"""
L 359 [comment ]     # Örnek veri oluştur
L 360 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 364 [comment ]     # Fiyat hareketini simüle et
L 380 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 381 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 386 [message ]     print(f"   [OK] Oluşturuldu: {uo}")
L 388 [message ]     print(f"   [OK] Gerekli periyot: {uo.get_required_periods()}")
L 391 [message ]     print(f"   [OK] UO Değeri: {result.value}")
L 394 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 399 [comment ]     # Test 2: Farklı periyotlar
L 400 [message ]     print("\n3. Farklı periyot testi...")
L 411 [comment ]     # Test 3: Özel seviyeler
L 412 [message ]     print("\n4. Özel seviye testi...")
L 416 [message ]     print(f"   [OK] Özel seviyeli UO: {result.value}")
L 420 [comment ]     # Test 4: Yükselen trend
L 421 [message ]     print("\n5. Yükselen trend testi...")
L 430 [message ]     print(f"   [OK] Yükselen trend UO: {result_up.value}")
L 434 [comment ]     # Test 5: Düşen trend
L 435 [message ]     print("\n6. Düşen trend testi...")
L 444 [message ]     print(f"   [OK] Düşen trend UO: {result_down.value}")
L 448 [comment ]     # Test 6: Aşırı alım/satım
L 449 [message ]     print("\n7. Aşırı alım/satım testi...")
L 450 [comment ]     # Güçlü yükseliş
L 459 [message ]     print(f"   [OK] Güçlü yükseliş UO: {result_strong_up.value}")
L 462 [comment ]     # Test 7: İstatistikler
L 463 [message ]     print("\n8. İstatistik testi...")
L 465 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 466 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 471 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 474 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 477 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\momentum\williams_r.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Williams %R - Momentum osilatörü
L  10 [docstring]     Aralık: -100 ile 0 arası
L  11 [docstring]     Aşırı Alım: > -20
L  12 [docstring]     Aşırı Satım: < -80
L  13 [docstring]     Stochastic ile benzer mantık, negatif skala kullanır.
L  15 [docstring] Formül:
L  17 [docstring]     Highest High = Son N periyodun en yüksek fiyatı
L  18 [docstring]     Lowest Low = Son N periyodun en düşük fiyatı
L  20 [docstring] Bağımlılıklar:
L  42 [docstring]     Momentum osilatörü, aşırı alım/satım koşullarını tespit eder.
L  43 [docstring]     -100 ile 0 arası değer alır.
L  46 [docstring]         period: Williams %R periyodu (varsayılan: 14)
L  47 [docstring]         overbought: Aşırı alım seviyesi (varsayılan: -20)
L  48 [docstring]         oversold: Aşırı satım seviyesi (varsayılan: -80)
L  77 [docstring]         """Minimum gerekli periyot sayısı"""
L  81 [docstring]         """Parametreleri doğrula"""
L  85 [string  ]                 "Periyot pozitif olmalı"
L  91 [string  ]                 "Oversold, overbought'tan küçük olmalı"
L  97 [string  ]                 "Seviyeler -100 ile 0 arası olmalı"
L 109 [docstring]             IndicatorResult: Williams %R değeri
L 115 [comment ]         # Son period kadar veri al
L 120 [comment ]         # Highest High ve Lowest Low hesapla
L 126 [other   ]             williams_r_value = -50.0  # Neutral değer
L 140 [other   ]             strength=abs(williams_r_value + 50) * 2,  # 0-100 arası normalize et
L 151 [docstring]         ⚡ VECTORIZED batch Williams %R calculation - BACKTEST için
L 190 [docstring]         Warmup buffer - update() için gerekli
L 194 [docstring]             symbol: Sembol adı (opsiyonel)
L 201 [comment ]         # Buffer'ları oluştur ve doldur
L 266 [docstring]         Williams %R değerinden sinyal üret
L 269 [docstring]             value: Williams %R değeri
L 272 [docstring]             SignalType: BUY, SELL veya HOLD
L 282 [docstring]         Williams %R değerinden trend belirle
L 285 [docstring]             value: Williams %R değeri
L 288 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 297 [docstring]         """Varsayılan parametreler"""
L 317 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 321 [docstring]     """Williams %R indikatör testi"""
L 327 [comment ]     # Örnek veri oluştur
L 328 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 332 [comment ]     # Fiyat hareketini simüle et
L 348 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 349 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 354 [message ]     print(f"   [OK] Oluşturuldu: {williams}")
L 356 [message ]     print(f"   [OK] Gerekli periyot: {williams.get_required_periods()}")
L 359 [message ]     print(f"   [OK] Williams %R Değeri: {result.value}")
L 362 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 365 [comment ]     # Test 2: Farklı periyotlar
L 366 [message ]     print("\n3. Farklı periyot testi...")
L 372 [comment ]     # Test 3: Özel seviyeler
L 373 [message ]     print("\n4. Özel seviye testi...")
L 376 [message ]     print(f"   [OK] Özel seviyeli Williams %R: {result.value}")
L 380 [comment ]     # Test 4: Aşırı alım/satım koşulları
L 381 [message ]     print("\n5. Aşırı alım/satım testi...")
L 382 [comment ]     # Yükselen trend simüle et
L 388 [message ]     print(f"   [OK] Yükselen trend Williams %R: {result_up.value}")
L 391 [comment ]     # Düşen trend simüle et
L 397 [message ]     print(f"   [OK] Düşen trend Williams %R: {result_down.value}")
L 400 [comment ]     # Test 5: İstatistikler
L 401 [message ]     print("\n6. İstatistik testi...")
L 403 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 404 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 409 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 412 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 415 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\patterns\candlestick_patterns.py

```
L   9 [docstring] 🎯 Görev:
L  10 [docstring]     Popüler candlestick pattern'lerini tespit eder (vectorized)
L  14 [docstring]     - Doji (ve varyantları: Dragonfly, Gravestone, Long-legged)
L  27 [docstring] 🔧 Kullanım:
L  43 [docstring] Bağımlılıklar:
L  70 [docstring]     15 popüler candlestick pattern'ini vectorized şekilde tespit eder.
L  73 [docstring]         doji_threshold: Doji için body/range oranı (default: 0.1)
L  74 [docstring]         shadow_ratio: Hammer/Shooting Star için shadow/body oranı (default: 2.0)
L 113 [docstring]             doji_threshold: Doji için body/range oranı (0.1 = %10)
L 114 [docstring]             shadow_ratio: Hammer/Star için shadow/body oranı (2.0 = 2x)
L 135 [message ]             raise ValueError(f"doji_threshold 0 ile 1 arasında olmalı, aldı: {self.doji_threshold}")
L 138 [message ]             raise ValueError(f"shadow_ratio >= 1 olmalı, aldı: {self.shadow_ratio}")
L 141 [message ]             raise ValueError(f"min_body_size >= 0 olmalı, aldı: {self.min_body_size}")
L 144 [docstring]         """Volume gerekli mi?"""
L 149 [docstring]         Minimum kaç bar gerekli?
L 151 [docstring]         Multi-candle pattern'ler için 3 bar gerekli (Morning Star, Evening Star, etc.)
L 160 [docstring]         Son bar için pattern tespit et (single bar mode)
L 162 [docstring]         NOT: Pattern detection için calculate_batch() kullanılmalı (daha hızlı)
L 163 [docstring]         Bu metod sadece geriye dönük uyumluluk için mevcut.
L 174 [comment ]         # Son 3 bar'a bak (multi-candle pattern'ler için)
L 180 [comment ]         # Son bar'ın pattern'lerini al
L 183 [comment ]         # True olan pattern'leri bul
L 199 [docstring]         Buffer'a yeni mum ekler ve yeterli veri varsa pattern hesaplar.
L 247 [docstring]         Tüm data için pattern tespit et (vectorized)
L 256 [message ]             self._log('warning', "En az 3 bar gerekli (multi-candle pattern'ler için)")
L 278 [comment ]         # 1. Doji (body çok küçük)
L 281 [comment ]         # 2. Dragonfly Doji (body küçük, üst shadow yok, alt shadow uzun)
L 288 [comment ]         # 3. Gravestone Doji (body küçük, alt shadow yok, üst shadow uzun)
L 295 [comment ]         # 4. Long-legged Doji (body küçük, her iki shadow da uzun)
L 302 [comment ]         # 5. Hammer (bullish, alt shadow uzun, üst shadow küçük)
L 310 [comment ]         # 6. Inverted Hammer (bullish, üst shadow uzun, alt shadow küçük)
L 318 [comment ]         # 7. Hanging Man (bearish, alt shadow uzun, üst shadow küçük)
L 326 [comment ]         # 8. Shooting Star (bearish, üst shadow uzun, alt shadow küçük)
L 334 [comment ]         # 9. Bullish Marubozu (shadow'lar çok küçük, body büyük, bullish)
L 342 [comment ]         # 10. Bearish Marubozu (shadow'lar çok küçük, body büyük, bearish)
L 350 [comment ]         # 11. Spinning Top (body küçük, shadow'lar orta boy)
L 509 [comment ]         # Fill NaN with False (ilk barlar için)
L 512 [string  ]         self._log('debug', f"Pattern detection tamamlandı: {len(result)} bar, {len(result.columns)} ...
L 518 [docstring]         Pattern özeti (kaç adet pattern tespit edildi)
L 531 [comment ]         # Her pattern için toplam sayı
```

### components\indicators\patterns\talib_patterns.py

```
L   9 [docstring] 🎯 Görev:
L  10 [docstring]     TA-Lib'in tüm 61 candlestick pattern'ini tespit eder
L  34 [docstring] 🔧 Kullanım:
L  41 [docstring]     # Entry condition - Pattern adı lowercase, CDL prefix yok
L  55 [docstring] Bağımlılıklar:
L 200 [docstring]         """Volume gerekli mi?"""
L 205 [docstring]         Minimum kaç bar gerekli?
L 207 [docstring]         Multi-candle pattern'ler için 5 bar güvenli
L 216 [docstring]         Son bar için pattern tespit et (single bar mode)
L 218 [docstring]         NOTE: Pattern detection için calculate_batch() kullanılmalı (daha hızlı)
L 219 [docstring]         Bu metod sadece geriye dönük uyumluluk için mevcut.
L 230 [comment ]         # Son 5 bar'a bak (multi-candle pattern'ler için)
L 236 [comment ]         # Son bar'ın pattern'lerini al
L 239 [comment ]         # Detected pattern'leri bul (100 veya -100)
L 255 [docstring]         Buffer'a yeni mum ekler ve yeterli veri varsa pattern hesaplar.
L 303 [docstring]         Tüm data için pattern tespit et (vectorized via TA-Lib)
L 312 [message ]             self._log('warning', "En az 5 bar gerekli (multi-candle pattern'ler için)")
L 339 [message ]                 self._log('warning', f"Pattern {friendly_name} hesaplanamadı: {e}")
L 351 [docstring]     Tüm 61 pattern ismini döndür (lowercase)
L 387 [docstring]     Her bar'da kaç pattern tespit edildiğini say
```

### components\indicators\realtime_calculator.py

```
L   9 [docstring]     Real-time indikatör hesaplayıcı (incremental updates).
L  10 [docstring]     Yeni kline geldiğinde tüm history'yi tekrar hesaplamaz,
L  11 [docstring]     sadece son değeri günceller (rolling window).
L  13 [docstring]     Görevleri:
L  14 [docstring]     - Incremental calculation (1000x daha hızlı)
L  16 [docstring]     - Streaming data için optimize
L  20 [docstring]     Kullanım:
L  23 [docstring]         # Warmup (ilk N kline ile hazırlık)
L  26 [docstring]         # Her yeni kline geldiğinde
L  64 [docstring]     Real-time indikatör hesaplayıcı
L  66 [docstring]     Incremental update yapar, tüm history'yi tekrar hesaplamaz.
L  67 [docstring]     Rolling window kullanarak memory efficient çalışır.
L  69 [docstring]     Örnek:
L  70 [docstring]         # Old way (her update'te tüm DF tekrar hesaplanır) ❌
L  73 [docstring]             rsi = indicator.calculate(df)  # TÜM DF TEKRAR!
L  76 [docstring]         # New way (sadece son değer güncellenir) ✅
L  78 [docstring]             rsi = calculator.update(new_kline)  # SADECE SON DEĞER!
L  82 [docstring]         indicator_name: Indikatör adı
L  87 [docstring]         warmup_complete: Hazırlık tamamlandı mı?
L 101 [docstring]             indicator_name: Indikatör adı
L 130 [comment ]     # WARMUP (İlk Hazırlık)
L 137 [docstring]         İlk N kline ile hazırlık yapar. Rolling window'u doldurur ve
L 208 [docstring]         Yeni kline geldiğinde sadece son değeri günceller.
L 209 [docstring]         Tüm DataFrame'i tekrar hesaplamaz.
L 404 [docstring]     Bu örnek gösterir ki specialized calculator'lar nasıl yazılır.
L 405 [docstring]     Gerçek incremental RSI calculation implementasyonu.
L 451 [comment ]         # Timestamp'i al (index veya column'dan)
L 455 [comment ]             # Index datetime ise timestamp'e çevir
L 542 [comment ]         # Timestamp'i al (index veya column'dan)
L 546 [comment ]             # Index datetime ise timestamp'e çevir
```

### components\indicators\statistical\__init__.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     İstatistiksel analiz indikatörleri paketi
L  11 [docstring]     İçindekiler:
L  12 [docstring]         - ZScore: Fiyatın standart sapma cinsinden konumu
L  13 [docstring]         - PercentileRank: Fiyatın yüzdelik dilimi (0-100)
L  14 [docstring]         - LinearRegression: Doğrusal regresyon analizi (slope, r², forecast)
L  15 [docstring]         - Correlation: İki varlık arasında korelasyon (-1 ile +1)
L  16 [docstring]         - Cointegration: Eş-bütünleşme analizi (spread, zscore, pairs trading)
L  19 [docstring]     - STATISTICAL: İstatistiksel analiz ve matematiksel modelleme
L  21 [docstring] Kullanım:
L  25 [docstring] Bağımlılıklar:
L  29 [docstring]     - statsmodels>=0.14.0 (opsiyonel, cointegration ADF testi için)
L  43 [comment ]     # İstatistiksel İndikatörler
L  59 [comment ] # İndikatör bilgileri
L  64 [string  ]         'description': 'Fiyatın standart sapma cinsinden konumu',
L  67 [string  ]         'use_cases': ['Mean reversion', 'Aşırı alım/satım', 'Outlier detection']
L  72 [string  ]         'description': 'Fiyatın yüzdelik dilimi (0-100)',
L  75 [string  ]         'use_cases': ['Göreceli güç', 'Aşırı alım/satım', 'Ranking']
L  80 [string  ]         'description': 'Doğrusal regresyon analizi',
L  84 [string  ]         'use_cases': ['Trend analizi', 'Fiyat tahmini', 'Trend gücü']
L  89 [string  ]         'description': 'İki varlık arasında korelasyon',
L  93 [string  ]         'use_cases': ['Pairs trading', 'Portföy diversifikasyonu', 'Risk yönetimi']
L  98 [string  ]         'description': 'Eş-bütünleşme analizi',
L 110 [docstring]     İndikatör bilgilerini getir
L 113 [docstring]         indicator_name: İndikatör adı
L 116 [docstring]         dict: İndikatör bilgileri
L 123 [docstring]     Tüm mevcut indikatörleri listele
L 126 [docstring]         list: İndikatör adları
L 132 [comment ] # KULLANIM ÖRNEKLERİ
L 145 [message ]     print(f"   [OK] Toplam indikatör: {len(__all__)}")
L 147 [message ]     print("\n2. Mevcut İndikatörler:")
L 152 [message ]         print(f"       - Açıklama: {info.get('description', 'N/A')}")
L 154 [message ]             print(f"       - Çıktılar: {', '.join(info['outputs'])}")
L 156 [message ]             print(f"       - Aralık: {info['range']}")
L 157 [message ]         print(f"       - Kullanım: {', '.join(info.get('use_cases', []))}")
L 165 [comment ]     # Test verisi oluştur
L 185 [message ]     print(f"      [OK] Import başarılı: {zscore.name}")
L 186 [message ]     print(f"      [OK] Değer: {result.value}")
L 193 [message ]     print(f"      [OK] Import başarılı: {prank.name}")
L 194 [message ]     print(f"      [OK] Değer: {result.value}%")
L 201 [message ]     print(f"      [OK] Import başarılı: {linreg.name}")
L 210 [message ]     print(f"      [OK] Import başarılı: {corr.name}")
L 212 [message ]     print(f"      [OK] İlişki: {result.metadata['relationship']}")
L 216 [comment ]     # İkinci varlık oluştur
L 233 [message ]     print(f"      [OK] Import başarılı: {coint.name}")
L 236 [message ]     print(f"      [OK] Eş-bütünleşme: {result.value['is_cointegrated']}")
L 238 [message ]     print("\n4. İndikatör Listesi:")
L 240 [message ]     print(f"   [OK] Toplam: {len(indicators)} indikatör")
L 245 [message ]     print("[BAŞARILI] TÜM PAKET TESTLERİ BAŞARILI!")
```

### components\indicators\statistical\cointegration.py

```
L   2 [docstring] indicators/statistical/cointegration.py - Cointegration (Eş-bütünleşme)
L   8 [docstring] Açıklama:
L   9 [docstring]     Cointegration - İki zaman serisinin uzun vadeli dengesini test eder
L  10 [docstring]     Çıktılar:
L  11 [docstring]         - spread: İki varlık arasındaki fark (spread)
L  13 [docstring]         - is_cointegrated: Eş-bütünleşme var mı (boolean)
L  15 [docstring]     Pairs trading stratejilerinde kritik öneme sahiptir.
L  17 [docstring] Formül:
L  27 [docstring]     4. Augmented Dickey-Fuller (ADF) testi ile durağanlık kontrolü
L  29 [docstring] Kullanım:
L  34 [docstring] Bağımlılıklar:
L  38 [docstring]     - statsmodels>=0.14.0 (ADF testi için)
L  54 [comment ] # statsmodels için optional import
L  64 [docstring]     Cointegration (Eş-bütünleşme)
L  66 [docstring]     İki varlık arasındaki uzun vadeli dengeyi ve spread'i hesaplar.
L  67 [docstring]     Pairs trading stratejileri için kullanılır.
L  70 [docstring]         period: Hesaplama periyodu (varsayılan: 50)
L  71 [docstring]         reference_data: Karşılaştırılacak referans veri (varsayılan: None)
L  72 [docstring]         entry_threshold: Spread Z-Score giriş eşiği (varsayılan: 2.0)
L  73 [docstring]         exit_threshold: Spread Z-Score çıkış eşiği (varsayılan: 0.5)
L  74 [docstring]         adf_significance: ADF test anlamlılık seviyesi (varsayılan: 0.05)
L 109 [docstring]         """Minimum gerekli periyot sayısı"""
L 113 [docstring]         """Parametreleri doğrula"""
L 117 [string  ]                 "Periyot en az 10 olmalı (cointegration için)"
L 123 [string  ]                 "Entry threshold, exit threshold'dan büyük olmalı"
L 128 [string  ]                 "ADF anlamlılık seviyesi 0-1 arası olmalı"
L 134 [docstring]         Referans veriyi ayarla (pair'in diğer varlığı)
L 143 [docstring]         Batch hesaplama (Backtest için)
L 155 [comment ]         # Indexlerin eşleştiğinden emin olmalıyız
L 166 [other   ]         var_s1 = roll.var()
L 170 [other   ]         var_s2 = roll2.var()
L 182 [comment ]         # var(e) = var(s1 - beta*s2) = var(s1) + beta^2 * var(s2) - 2*beta*cov(s1,s2)
L 190 [comment ]         # Sıfıra bölme hatasını önle
L 195 [comment ]         # ADF testi çok yavaş olduğu için batch modunda volatility ratio kullanıyoruz
L 199 [comment ]         # Sıfıra bölme hatasını önle
L 204 [comment ]         # Sonuç DataFrame
L 211 [comment ]         # Orijinal index'e reindex et (eksik yerler NaN kalır)
L 222 [docstring]             IndicatorResult: Güncel Cointegration değerleri
L 240 [comment ]         # Timestamp kontrolü
L 253 [comment ]         # Not: Bu basit bir lookup. Gerçek hayatta senkronizasyon önemli.
L 254 [comment ]         # self.reference_data'nın index'i timestamp veya datetime olmalı.
L 255 [comment ]         # Eğer range index ise timestamp kolonunda arama yapmalıyız.
L 259 [comment ]         # Timestamp ile eşleşen satırı bulmaya çalış
L 261 [comment ]             # Timestamp ms ise datetime'a çevir gerekirse
L 276 [comment ]             # Eşleşen referans veri yoksa hesaplama yapılamaz
L 286 [comment ]         # Buffer yönetimi (BaseIndicator'da standart bir buffer yok, kendimiz yönetelim veya calcula...
L 287 [comment ]         # Cointegration için buffer yönetimi karmaşık çünkü iki seri var.
L 288 [comment ]         # En kolayı: Son period kadar veriyi alıp calculate çağırmak (Incremental değil ama Realtime...
L 289 [comment ]         # Ancak performans için incremental yapmak istersek:
L 291 [comment ]         # Şimdilik güvenli yol: RealtimeCalculator zaten buffer tutuyor (data['close']).
L 292 [comment ]         # Ancak sadece ana varlık için tutuyor.
L 293 [comment ]         # Bizim referans varlık için de son period verisine ihtiyacımız var.
L 295 [comment ]         # Bu yüzden burada basitçe `calculate` metodunu son data ile çağırmak en mantıklısı.
L 296 [comment ]         # Ancak `calculate` metodu tüm datayı alıyor gibi görünüyor.
L 297 [comment ]         # BaseIndicator.update() varsayılan olarak calculate() çağırır zaten.
L 300 [comment ]         # Optimize edilmiş update için:
L 301 [comment ]         # 1. Sınıf state'inde son periodluk close1 ve close2 tutulmalı.
L 302 [comment ]         # 2. Yeni gelen close1 ve bulunan close2 eklenmeli.
L 303 [comment ]         # 3. Hesaplama yapılmalı.
L 311 [comment ]             # Eğer geçmiş veri varsa doldur (warmup)
L 312 [comment ]             # Bu kısım biraz tricky, çünkü update() tek tek çağrılır.
L 313 [comment ]             # Warmup dışarıdan yapılmalı veya ilk update'de yapılmalı.
L 353 [comment ]         # Cointegration Check (ADF veya Volatility)
L 354 [comment ]         # Realtime'da ADF çalıştırabiliriz (tek seferlik olduğu için)
L 370 [comment ]         # Sonuç
L 401 [docstring]             data: OHLCV DataFrame (birinci varlık)
L 404 [docstring]             IndicatorResult: Cointegration analizi sonuçları
L 407 [comment ]             # Referans veri yoksa dummy değerler döndür
L 426 [comment ]         # Veri hazırlığı
L 430 [comment ]         # Veri uzunluklarını eşitle
L 454 [comment ]         # Bufferları doldur (Incremental update için hazırlık)
L 460 [comment ]         # Son period kadar veriyi buffer'a at
L 461 [comment ]         # Not: calculate() genellikle tüm tarihçeyi alır ama biz son durumu state olarak saklamak is...
L 462 [comment ]         # Eğer calculate() backtest için çağrılıyorsa bu state son anı temsil eder.
L 489 [comment ]         # 4. ADF test ile durağanlık kontrolü (cointegration testi)
L 499 [comment ]                 # p-value < anlamlılık seviyesi ise spread durağan (cointegrated)
L 502 [comment ]                 # ADF test başarısız olursa basit volatilite kontrolü yap
L 506 [comment ]             # statsmodels yoksa basit volatilite kontrolü
L 512 [comment ]         # Sinyal gücü: Z-Score'un mutlak değeri
L 543 [docstring]         Spread Z-Score'dan sinyal üret
L 547 [docstring]             is_cointegrated: Eş-bütünleşme var mı
L 550 [docstring]             SignalType: BUY, SELL veya HOLD
L 552 [comment ]         # Eş-bütünleşme yoksa sinyal verme
L 556 [comment ]         # Spread çok düşük (asset1 ucuz, asset2 pahalı)
L 561 [comment ]         # Spread çok yüksek (asset1 pahalı, asset2 ucuz)
L 566 [comment ]         # Spread normale dönüyor, pozisyon kapat
L 580 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 583 [other   ]             return TrendDirection.UP  # Spread genişliyor
L 585 [other   ]             return TrendDirection.DOWN  # Spread daralıyor
L 589 [docstring]         """Varsayılan parametreler"""
L 610 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 614 [docstring]     """Cointegration indikatör testi"""
L 617 [message ]     print("COINTEGRATION (EŞ-BÜTÜNLEŞME) TEST")
L 620 [comment ]     # Test 1: Eş-bütünleşmiş varlıklar
L 621 [message ]     print("1. Eş-bütünleşmiş varlık çifti testi...")
L 625 [comment ]     # Varlık 1 - ortak trend + bireysel noise
L 640 [comment ]     # Varlık 2 - aynı ortak trend + farklı bireysel noise (eş-bütünleşik)
L 653 [message ]     print(f"   [OK] {len(data1)} mum oluşturuldu")
L 654 [message ]     print(f"   [OK] Varlık 1 fiyat: {prices1[-1]:.2f}")
L 655 [message ]     print(f"   [OK] Varlık 2 fiyat: {prices2[-1]:.2f}")
L 658 [message ]     print(f"   [OK] Oluşturuldu: {coint}")
L 660 [message ]     print(f"   [OK] statsmodels var: {HAS_STATSMODELS}")
L 665 [message ]     print(f"   [OK] Eş-bütünleşme: {result.value['is_cointegrated']}")
L 672 [comment ]     # Test 2: Eş-bütünleşmemiş varlıklar
L 673 [message ]     print("\n2. Eş-bütünleşmemiş varlık çifti testi...")
L 676 [comment ]     # Varlık 3 - tamamen bağımsız random walk
L 690 [comment ]     # Varlık 4 - başka bir bağımsız random walk
L 708 [message ]     print(f"   [OK] Eş-bütünleşme: {result.value['is_cointegrated']}")
L 712 [comment ]     # Test 3: Spread genişlemesi - trading sinyali
L 713 [message ]     print("\n3. Trading sinyal testi (spread genişlemesi)...")
L 714 [comment ]     # Spread'i yapay olarak genişlet
L 716 [other   ]     prices1_wide[-1] += 5  # Son fiyatı yükselt
L 723 [message ]     print(f"   [OK] Genişletilmiş Spread: {result.value['spread']:.4f}")
L 728 [comment ]     # Test 4: Spread daralması
L 731 [other   ]     prices1_narrow[-1] -= 3  # Son fiyatı düşür
L 737 [message ]     print(f"   [OK] Daraltılmış Spread: {result.value['spread']:.4f}")
L 741 [comment ]     # Test 5: Farklı periyotlar
L 742 [message ]     print("\n5. Farklı periyot testi...")
L 764 [comment ]     # Test 7: Özel eşikler
L 765 [message ]     print("\n7. Özel eşik testi...")
L 774 [comment ]     # Test 8: İstatistikler
L 775 [message ]     print("\n8. İstatistik testi...")
L 777 [message ]     print(f"   [OK] Hesaplama sayısı: {stats_data['calculation_count']}")
L 778 [message ]     print(f"   [OK] Hata sayısı: {stats_data['error_count']}")
L 783 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 787 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 790 [message ]     print("\n10. Referans veri yok testi...")
L 794 [message ]     print(f"   [OK] Error mesajı: {result.metadata.get('error', 'N/A')}")
L 797 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\statistical\correlation.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Correlation - İki varlık arasındaki doğrusal ilişkiyi ölçer
L  10 [docstring]     Aralık: -1 ile +1 arası
L  11 [docstring]     +1: Mükemmel pozitif korelasyon (birlikte hareket)
L  12 [docstring]     0: Korelasyon yok (bağımsız)
L  13 [docstring]     -1: Mükemmel negatif korelasyon (ters yönde hareket)
L  15 [docstring] Formül:
L  16 [docstring]     Pearson Korelasyon Katsayısı:
L  19 [docstring]     Rolling korelasyon belirli bir pencere üzerinden hesaplanır.
L  21 [docstring] Kullanım:
L  23 [docstring]     - Portföy çeşitlendirme
L  24 [docstring]     - Risk yönetimi
L  26 [docstring] Bağımlılıklar:
L  48 [docstring]     İki fiyat serisi arasındaki korelasyonu hesaplar.
L  49 [docstring]     Pairs trading ve portföy analizi için kullanılır.
L  52 [docstring]         period: Korelasyon pencere periyodu (varsayılan: 20)
L  53 [docstring]         reference_data: Karşılaştırılacak referans veri (varsayılan: None)
L  54 [docstring]         high_correlation: Yüksek korelasyon eşiği (varsayılan: 0.7)
L  55 [docstring]         low_correlation: Düşük korelasyon eşiği (varsayılan: -0.7)
L  87 [docstring]         """Minimum gerekli periyot sayısı"""
L  91 [docstring]         """Parametreleri doğrula"""
L  95 [string  ]                 "Periyot en az 2 olmalı (korelasyon için)"
L 101 [string  ]                 "Eşikler -1 ile 1 arası olmalı ve low < high"
L 107 [docstring]         Referans veriyi ayarla (karşılaştırılacak varlık)
L 119 [docstring]             data: OHLCV DataFrame (birinci varlık)
L 122 [docstring]             IndicatorResult: Korelasyon değeri
L 124 [comment ]         # Referans veri yoksa, kendi geçmiş verileriyle korelasyonu hesapla (autocorrelation)
L 129 [comment ]             # Autocorrelation: mevcut fiyat ile gecikmeli fiyat arasında
L 141 [comment ]             # İki farklı varlık arasında korelasyon
L 145 [comment ]             # Veri uzunluklarını eşitle
L 157 [comment ]         # NaN kontrolü
L 164 [comment ]         # Korelasyon gücü: mutlak değer
L 188 [docstring]         Korelasyon değerinden ilişki türünü belirle
L 191 [docstring]             correlation: Korelasyon katsayısı
L 194 [docstring]             str: İlişki açıklaması
L 199 [string  ]             strength = "Çok Güçlü"
L 201 [string  ]             strength = "Güçlü"
L 205 [string  ]             strength = "Zayıf"
L 207 [string  ]             strength = "Çok Zayıf"
L 215 [docstring]         ⚡ VECTORIZED batch Correlation calculation - BACKTEST için
L 266 [docstring]         """Warmup buffer - update() için gerekli state'i hazırlar"""
L 311 [docstring]         Korelasyon değerinden sinyal üret
L 314 [docstring]             value: Korelasyon değeri
L 317 [docstring]             SignalType: BUY, SELL veya HOLD
L 319 [comment ]         # Yüksek pozitif korelasyon: varlıklar birlikte hareket ediyor
L 323 [comment ]         # Yüksek negatif korelasyon: varlıklar ters hareket ediyor
L 331 [docstring]         Korelasyon değerinden trend belirle
L 334 [docstring]             value: Korelasyon değeri
L 337 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 343 [other   ]         return TrendDirection.NEUTRAL  # Düşük/yok korelasyon
L 346 [docstring]         """Varsayılan parametreler"""
L 366 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 370 [docstring]     """Correlation indikatör testi"""
L 377 [message ]     print("1. Autocorrelation testi (kendi gecikmiş haliyle)...")
L 381 [comment ]     # Trend + momentum içeren fiyat serisi
L 399 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 400 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 403 [message ]     print(f"   [OK] Oluşturuldu: {corr}")
L 408 [message ]     print(f"   [OK] İlişki: {result.metadata['relationship']}")
L 412 [comment ]     # Test 2: Pozitif korelasyon - iki benzer varlık
L 416 [comment ]     # Varlık 1
L 431 [comment ]     # Varlık 2 - Varlık 1 ile yüksek korelasyonlu
L 434 [comment ]         # Aynı trend + küçük noise
L 449 [message ]     print(f"   [OK] İlişki: {result.metadata['relationship']}")
L 472 [message ]     print(f"   [OK] İlişki: {result.metadata['relationship']}")
L 475 [comment ]     # Test 4: Sıfır korelasyon - bağımsız hareketler
L 476 [message ]     print("\n4. Sıfır korelasyon testi (bağımsız hareketler)...")
L 491 [message ]     print(f"   [OK] Sıfır Korelasyon: {result.value}")
L 492 [message ]     print(f"   [OK] İlişki: {result.metadata['relationship']}")
L 495 [comment ]     # Test 5: Farklı periyotlar
L 496 [message ]     print("\n5. Farklı periyot testi...")
L 501 [message ]         print(f"   [OK] Corr({period}): {result.value:.4f} | İlişki: {result.metadata['relationship'...
L 513 [string  ]                   f"İlişki = {result.metadata['relationship']:20s} | "
L 516 [comment ]     # Test 7: Özel eşikler
L 517 [message ]     print("\n7. Özel eşik testi...")
L 521 [message ]     print(f"   [OK] Özel eşikli Korelasyon: {result.value}")
L 526 [comment ]     # Test 8: İstatistikler
L 527 [message ]     print("\n8. İstatistik testi...")
L 529 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 530 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 535 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 538 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 541 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\statistical\linear_regression.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Numba JIT ile 50-100x hız artışı!
L  12 [docstring]     Önceki performans: 2000 bars → 0.15-0.2 saniye
L  14 [docstring]     HIZ ARTIŞI: 50-100x! 🔥
L  15 [docstring] Açıklama:
L  16 [docstring]     Linear Regression - Fiyat hareketinin doğrusal trendini analiz eder
L  17 [docstring]     Çıktılar:
L  18 [docstring]         - slope: Eğim (pozitif=yükseliş, negatif=düşüş)
L  19 [docstring]         - intercept: Y-kesişim noktası
L  20 [docstring]         - r_squared: Korelasyon katsayısı karesi (0-1, yüksek=güçlü trend)
L  21 [docstring]         - forecast: Bir sonraki periyot için tahmin
L  23 [docstring] Formül:
L  28 [docstring]     r_squared = (korelasyon katsayısı)²
L  29 [docstring] Bağımlılıklar:
L  32 [docstring]     - scipy>=1.10.0 (sadece realtime için)
L  33 [docstring]     - numba>=0.58.0 (backtest için)
L  79 [docstring]     Manuel formül kullanarak scipy'den 50-100x daha hızlı!
L  81 [docstring]     Formül:
L 192 [docstring]     Linear Regression (Doğrusal Regresyon) - OPTIMIZED VERSION 🚀
L 195 [docstring]     - Numba JIT compilation ile 50-100x hız artışı!
L 199 [docstring]         period: Regresyon periyodu (varsayılan: 20)
L 200 [docstring]         forecast_periods: Kaç periyot ilerisi tahmin edilecek (varsayılan: 1)
L 201 [docstring]         min_r_squared: Minimum R² değeri (trend güvenilirliği, varsayılan: 0.5)
L 230 [docstring]         """Minimum gerekli periyot sayısı"""
L 234 [docstring]         """Parametreleri doğrula"""
L 238 [string  ]                 "Periyot en az 2 olmalı (regresyon için)"
L 243 [string  ]                 "Forecast periyodu en az 1 olmalı"
L 248 [string  ]                 "Min R² değeri 0-1 arası olmalı"
L 254 [docstring]         Linear Regression hesapla (realtime - scipy kullanır)
L 256 [docstring]         NOT: calculate() scipy.stats kullanır (daha esnek)
L 257 [docstring]         calculate_batch() ise Numba kullanır (50-100x daha hızlı!)
L 263 [docstring]             IndicatorResult: Regresyon analizi sonuçları
L 267 [comment ]         # Son period kadar veriyi al
L 270 [comment ]         # X değerleri (zaman ekseni)
L 274 [comment ]         # Linear regression hesapla (scipy - realtime için)
L 280 [comment ]         # Mevcut değer (fitted value)
L 286 [comment ]         # Üst ve alt bantlar (standart hata ile)
L 292 [comment ]         # Fiyat ile fitted value arasındaki fark
L 299 [comment ]         # Trend gücü: R² ve eğimin büyüklüğüne göre
L 346 [comment ]         # ✅ OPTİMİZASYON 1: Numba JIT ile regresyon hesaplama
L 362 [comment ]         # ✅ OPTİMİZASYON 2: Fitted values ve residuals (opsiyonel - bands için)
L 376 [docstring]         Warmup buffer - update() için gerekli
L 380 [docstring]             symbol: Sembol adı (opsiyonel)
L 430 [docstring]         """Regresyon parametrelerinden sinyal üret"""
L 431 [comment ]         # Güçlü trend yoksa sinyal verme
L 435 [comment ]         # Fiyat regresyon çizgisinin altındaysa ve trend yukarıysa
L 439 [comment ]         # Fiyat regresyon çizgisinin üstündeyse ve trend aşağıysa
L 446 [docstring]         """Eğimden trend belirle"""
L 447 [comment ]         # Zayıf korelasyon varsa trend belirsiz
L 451 [comment ]         # Eğim pozitifse yükseliş, negatifse düşüş
L 460 [docstring]         """Varsayılan parametreler"""
L 494 [message ]     print("📊 Test senaryoları:")
L 528 [message ]         print(f"✅ Test verisi oluşturuldu: {len(data)} bar")
L 529 [message ]         print(f"   Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}\n")
L 538 [message ]             print("   [OK] JIT compilation tamamlandı!\n")
L 541 [message ]         print("⏱️  Performance test başlıyor...")
L 552 [message ]         print(f"\n📈 SONUÇLAR:")
L 553 [message ]         print(f"   • Süre: {elapsed_time*1000:.3f} ms ({elapsed_time:.6f} saniye)")
L 554 [message ]         print(f"   • Hız: {size/elapsed_time:.0f} bar/saniye")
L 569 [message ]     print("📊 PERFORMANS ÖZET")
L 581 [message ]         print("\n🚀 HIZ KARŞILAŞTIRMASI:")
L 582 [message ]         print("   • ESKİ VERSİYON (scipy loop): ~0.15-0.2 saniye (2000 bar)")
L 583 [message ]         print(f"   • YENİ VERSİYON (Numba JIT): {results[3]['time']:.6f} saniye (2000 bar)")
L 585 [message ]         print(f"   • HIZ ARTIŞI: {speedup:.1f}x daha hızlı! 🔥")
L 588 [message ]     print("✅ [BAŞARILI] BENCHMARK TAMAMLANDI!")
L 592 [message ]     print("   • İlk run JIT compilation içerir (daha yavaş)")
L 593 [message ]     print("   • Sonraki run'lar JIT cache kullanır (çok hızlı!)")
L 594 [message ]     print("   • Manuel formül scipy.stats'dan 50-100x daha hızlı!")
```

### components\indicators\statistical\percentile_rank.py

```
L   2 [docstring] indicators/statistical/percentile_rank.py - Percentile Rank (Yüzdelik Dilim)
L   8 [docstring] Açıklama:
L   9 [docstring]     Percentile Rank - Fiyatın belirli bir periyottaki yüzdelik dilimini hesaplar
L  10 [docstring]     Aralık: 0 ile 100 arası
L  11 [docstring]     0: En düşük fiyat
L  13 [docstring]     100: En yüksek fiyat
L  15 [docstring] Formül:
L  16 [docstring]     Percentile Rank = (Mevcut fiyattan düşük olan değer sayısı / Toplam değer sayısı) × 100
L  18 [docstring]     Yüksek percentile: Fiyat periyot içinde üst sıralarda
L  19 [docstring]     Düşük percentile: Fiyat periyot içinde alt sıralarda
L  21 [docstring] Bağımlılıklar:
L  43 [docstring]     Percentile Rank (Yüzdelik Dilim)
L  45 [docstring]     Fiyatın belirli bir periyot içindeki göreceli konumunu 0-100 arası değer olarak verir.
L  46 [docstring]     Overbought/oversold koşullarını belirlemek için kullanılır.
L  49 [docstring]         period: Hesaplama periyodu (varsayılan: 20)
L  50 [docstring]         overbought: Aşırı alım seviyesi, percentile (varsayılan: 80)
L  51 [docstring]         oversold: Aşırı satım seviyesi, percentile (varsayılan: 20)
L  80 [docstring]         """Minimum gerekli periyot sayısı"""
L  84 [docstring]         """Parametreleri doğrula"""
L  88 [string  ]                 "Periyot en az 2 olmalı"
L  94 [string  ]                 "Oversold ve overbought 0-100 arası olmalı ve oversold < overbought"
L 106 [docstring]             IndicatorResult: Percentile Rank değeri (0-100)
L 110 [comment ]         # Son period kadar veriyi al
L 115 [comment ]         # Mevcut fiyattan küçük değerlerin yüzdesi
L 118 [comment ]         # Min ve max değerleri bul
L 123 [comment ]         # Fiyatın aralık içindeki pozisyonu (yüzde olarak)
L 139 [string  ]             strength=abs(percentile_rank - 50) * 2,  # 0-100 arası, 50'den uzaklaşma
L 152 [docstring]         ⚡ VECTORIZED batch Percentile Rank calculation - BACKTEST için
L 190 [docstring]         """Warmup buffer - update() için gerekli state'i hazırlar"""
L 235 [docstring]         Percentile Rank değerinden sinyal üret
L 238 [docstring]             value: Percentile Rank değeri (0-100)
L 241 [docstring]             SignalType: BUY, SELL veya HOLD
L 244 [comment ]             # Fiyat alt bölgede, alım fırsatı
L 247 [comment ]             # Fiyat üst bölgede, satış fırsatı
L 253 [docstring]         Percentile Rank değerinden trend belirle
L 256 [docstring]             value: Percentile Rank değeri
L 259 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 268 [docstring]         """Varsayılan parametreler"""
L 288 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 292 [docstring]     """Percentile Rank indikatör testi"""
L 295 [message ]     print("PERCENTILE RANK (YÜZDELİK DİLİM) TEST")
L 298 [comment ]     # Örnek veri oluştur
L 299 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 303 [comment ]     # Fiyat hareketini simüle et - trend + noise
L 307 [other   ]         trend = 0.1  # Hafif yükseliş trendi
L 320 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 321 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 327 [message ]     print(f"   [OK] Oluşturuldu: {prank}")
L 329 [message ]     print(f"   [OK] Gerekli periyot: {prank.get_required_periods()}")
L 335 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 341 [comment ]     # Test 2: Farklı periyotlar
L 342 [message ]     print("\n3. Farklı periyot testi...")
L 348 [comment ]     # Test 3: Ekstrem değerler testi
L 349 [message ]     print("\n4. Ekstrem değer testi...")
L 350 [comment ]     # En yüksek fiyat
L 354 [message ]     print(f"   [OK] En yüksek fiyat (150): Percentile = {result_high.value}%")
L 357 [comment ]     # En düşük fiyat
L 361 [message ]     print(f"   [OK] En düşük fiyat (50): Percentile = {result_low.value}%")
L 372 [comment ]     # Test 4: Özel seviyeler
L 373 [message ]     print("\n5. Özel seviye testi...")
L 376 [message ]     print(f"   [OK] Özel seviyeli Percentile Rank: {result.value}%")
L 390 [comment ]     # Test 6: Dağılım analizi
L 391 [message ]     print("\n7. Dağılım analizi testi...")
L 394 [message ]     print("   [OK] Son 20 mumun fiyat dağılımı:")
L 399 [comment ]     # Test 7: İstatistikler
L 400 [message ]     print("\n8. İstatistik testi...")
L 402 [message ]     print(f"   [OK] Hesaplama sayısı: {stats_data['calculation_count']}")
L 403 [message ]     print(f"   [OK] Hata sayısı: {stats_data['error_count']}")
L 408 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 411 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 414 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\statistical\tsf.py

```
L  12 [docstring] Özellikler:
L  13 [docstring] - Lineer regresyon ile trend tahmini
L  14 [docstring] - Bir sonraki bar için fiyat tahmini
L  15 [docstring] - Trend yönü ve gücünü gösterir
L  16 [docstring] - Fiyat-TSF farkı sinyal üretir
L  17 [docstring] - Destek/direnç seviyesi olarak kullanılabilir
L  19 [docstring] Kullanım:
L  27 [docstring] Formül:
L  30 [docstring]     (Bir sonraki değer tahmini)
L  32 [docstring] Bağımlılıklar:
L  65 [docstring]     Bir sonraki bar için fiyat projeksiyonu.
L  68 [docstring]         period: TSF periyodu (varsayılan: 14)
L  86 [docstring]         """Minimum gerekli periyot sayısı"""
L  90 [docstring]         """Parametreleri doğrula"""
L  94 [string  ]                 "Period en az 2 olmalı"
L 100 [docstring]         Batch hesaplama (Backtest için)
L 102 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 108 [docstring]             pd.DataFrame: TSF değerleri
L 117 [comment ]                 # Son period kadar veriyi al
L 124 [comment ]                 # Bir sonraki değer tahmini
L 132 [docstring]         Warmup buffer - update() için gerekli
L 136 [docstring]             symbol: Sembol adı (opsiyonel)
L 155 [docstring]             IndicatorResult: TSF değeri
L 190 [docstring]         TSF hesapla (son değer)
L 196 [docstring]             IndicatorResult: TSF değeri
L 209 [comment ]         # Sinyal belirleme: TSF > Close = forecast yükselecek (BUY)
L 220 [comment ]         # Güç: Tahmin ile gerçek arasındaki yüzde fark
L 223 [comment ]         # Forecast farkını metadata'ya ekle
L 242 [docstring]         """Varsayılan parametreler"""
L 266 [docstring]     """TSF indikatör testi"""
L 268 [comment ]     # Windows console UTF-8 desteği
L 277 [comment ]     # Örnek veri oluştur
L 278 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 282 [comment ]     # Güçlü trend + noise
L 297 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 298 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 303 [message ]     print(f"   ✅ Oluşturuldu: {tsf}")
L 305 [message ]     print(f"   ✅ Gerekli periyot: {tsf.get_required_periods()}")
L 310 [message ]     print(f"   ✅ Forecast farkı: {result.metadata['forecast_diff']:.2f}")
L 313 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 319 [message ]     print(f"   ✅ Son 5 TSF değeri:")
L 322 [comment ]     # Test 3: Farklı periyotlar
L 323 [message ]     print("\n4. Farklı periyot testi...")
L 330 [comment ]     # Test 4: Tahmin doğruluğu analizi
L 331 [message ]     print("\n5. Tahmin doğruluğu analizi...")
L 335 [comment ]     # TSF'in bir sonraki bar'ı ne kadar doğru tahmin ettiğini kontrol et
L 344 [message ]         print(f"   ✅ Ortalama tahmin hatası: {np.mean(errors):.4f}")
L 345 [message ]         print(f"   ✅ Min hata: {min(errors):.4f}")
L 346 [message ]         print(f"   ✅ Max hata: {max(errors):.4f}")
L 347 [message ]         print(f"   ✅ Hata std sapması: {np.std(errors):.4f}")
L 349 [comment ]     # Test 5: Trend çizgisi ile karşılaştırma
L 350 [message ]     print("\n6. Fiyat ile TSF karşılaştırması...")
L 355 [comment ]     # TSF ne kadar fiyatın üstünde/altında
L 363 [comment ]     # Test 6: Trend gücü analizi
L 364 [message ]     print("\n7. Trend gücü analizi...")
L 365 [comment ]     # Son N bar için trend eğimini hesapla
L 371 [message ]     print(f"   ✅ Son {last_n} bar trend eğimi: {slope:.4f}")
L 372 [message ]     print(f"   ✅ Trend yönü: {'Yükseliş' if slope > 0 else 'Düşüş'}")
L 378 [message ]         print("   ❌ Hata: Geçersiz period kabul edildi!")
L 380 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 383 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\statistical\typprice.py

```
L  10 [docstring] High, Low ve Close fiyatlarının ortalaması.
L  12 [docstring] Özellikler:
L  13 [docstring] - Basit ve hızlı hesaplama
L  14 [docstring] - Bar'ın temsili fiyatını verir
L  15 [docstring] - Volume göstergelerinde sıkça kullanılır
L  16 [docstring] - Her bar için bağımsız hesaplama
L  17 [docstring] - Medyan fiyat yaklaşımı
L  19 [docstring] Kullanım:
L  27 [docstring] Formül:
L  30 [docstring] Bağımlılıklar:
L  62 [docstring]     High, Low ve Close fiyatlarının ortalaması.
L  63 [docstring]     Her bar için bağımsız hesaplanan temsili fiyat.
L  81 [docstring]         """Minimum gerekli periyot sayısı"""
L  85 [docstring]         """Parametreleri doğrula"""
L  90 [docstring]         Batch hesaplama (Backtest için)
L  92 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L  98 [docstring]             pd.DataFrame: TYPPRICE değerleri
L 111 [docstring]             IndicatorResult: Güncel TYPPRICE değeri
L 127 [comment ]         # Typical price kendisi sinyal üretmez
L 139 [docstring]         TYPPRICE hesapla (son değer)
L 145 [docstring]             IndicatorResult: TYPPRICE değeri
L 152 [comment ]         # Typical price kendisi sinyal üretmez
L 166 [docstring]         """Varsayılan parametreler"""
L 190 [docstring]     """TYPPRICE indikatör testi"""
L 192 [comment ]     # Windows console UTF-8 desteği
L 201 [comment ]     # Örnek veri oluştur
L 202 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 212 [comment ]     # OHLC oluştur
L 226 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 227 [message ]     print(f"   ✅ Fiyat aralığı: {min(close_prices):.2f} -> {max(close_prices):.2f}")
L 232 [message ]     print(f"   ✅ Oluşturuldu: {typprice}")
L 234 [message ]     print(f"   ✅ Gerekli periyot: {typprice.get_required_periods()}")
L 246 [message ]     print(f"   ✅ Son 5 TYPPRICE değeri:")
L 253 [comment ]     # Son 5 bar için update
L 265 [comment ]     # Test 4: Close ile karşılaştırma
L 266 [message ]     print("\n5. Close fiyat ile karşılaştırma...")
L 278 [comment ]     # Test 5: Manuel hesaplama doğrulama
L 279 [message ]     print("\n6. Manuel hesaplama doğrulama...")
L 285 [message ]     print(f"   ✅ İndikatör hesaplama: {calc_typprice:.2f}")
L 286 [message ]     print(f"   ✅ Eşit mi: {abs(manual_typprice - calc_typprice) < 0.01}")
L 288 [comment ]     # Test 6: İstatistik analizi
L 289 [message ]     print("\n7. İstatistik analizi...")
L 296 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\statistical\var.py

```
L   3 [docstring] indicators/statistical/var.py - VAR (Variance)
L   9 [docstring] VAR (Variance) - Varyans İndikatörü.
L  10 [docstring] Fiyat dağılımının standart sapmasının karesi.
L  12 [docstring] Özellikler:
L  13 [docstring] - Volatilite ölçümü
L  14 [docstring] - Fiyat dağılımının genişliği
L  15 [docstring] - Yüksek VAR = Yüksek volatilite
L  16 [docstring] - Düşük VAR = Düşük volatilite
L  17 [docstring] - Risk yönetimi için kullanılır
L  19 [docstring] Kullanım:
L  22 [docstring]     VAR = get_indicator_class('var')
L  23 [docstring]     var = VAR(period=20)
L  24 [docstring]     result = var.calculate(data)
L  25 [docstring]     print(result.value['var'])
L  27 [docstring] Formül:
L  28 [docstring]     VAR = Σ(Close - Mean)² / N
L  30 [docstring] Bağımlılıklar:
L  59 [other   ] class VAR(BaseIndicator):
L  61 [docstring]     VAR - Variance
L  63 [docstring]     Fiyat dağılımının standart sapmasının karesi.
L  64 [docstring]     Volatilite ve risk ölçümü için kullanılır.
L  67 [docstring]         period: VAR periyodu (varsayılan: 20)
L  77 [string  ]             name='var',
L  86 [docstring]         """Minimum gerekli periyot sayısı"""
L  90 [docstring]         """Parametreleri doğrula"""
L  94 [string  ]                 "Period en az 2 olmalı"
L 100 [docstring]         Batch hesaplama (Backtest için)
L 102 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 103 [docstring]         TA-Lib uyumlu: population variance (ddof=0) kullanır
L 109 [docstring]             pd.DataFrame: VAR değerleri
L 112 [string  ]         var = data['close'].rolling(window=self.period).var(ddof=0)
L 113 [string  ]         return pd.DataFrame({'var': var}, index=data.index)
L 117 [docstring]         Warmup buffer - update() için gerekli
L 121 [docstring]             symbol: Sembol adı (opsiyonel)
L 137 [docstring]             IndicatorResult: Güncel VAR değeri
L 160 [other   ]         var_val = np.var(list(self.prices), ddof=0)
L 162 [comment ]         # VAR kendisi sinyal üretmez ama yüksek volatiliteyi gösterir
L 164 [string  ]             value={'var': round(var_val, 4)},
L 174 [docstring]         VAR hesapla (son değer)
L 180 [docstring]             IndicatorResult: VAR değeri
L 184 [string  ]         valid_values = batch_result['var'].dropna().values
L 196 [string  ]             value={'var': round(var_val, 4)},
L 205 [docstring]         """Varsayılan parametreler"""
L 210 [string  ]         return ['var']
L 213 [docstring]         """VAR volume gerektirmez"""
L 221 [string  ] __all__ = ['VAR']
L 229 [docstring]     """VAR indikatör testi"""
L 231 [comment ]     # Windows console UTF-8 desteği
L 237 [message ]     print("🧪 VAR (VARIANCE) TEST")
L 240 [comment ]     # Örnek veri oluştur
L 241 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 245 [comment ]     # İki farklı volatilite dönemi
L 246 [other   ]     low_vol = np.random.randn(75) * 1  # Düşük volatilite
L 247 [other   ]     high_vol = np.random.randn(75) * 5  # Yüksek volatilite
L 263 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 264 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 268 [other   ]     var = VAR(period=20)
L 269 [message ]     print(f"   ✅ Oluşturuldu: {var}")
L 270 [message ]     print(f"   ✅ Kategori: {var.category.value}")
L 271 [message ]     print(f"   ✅ Gerekli periyot: {var.get_required_periods()}")
L 273 [other   ]     result = var(data)
L 274 [message ]     print(f"   ✅ VAR: {result.value['var']}")
L 275 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 279 [other   ]     batch_result = var.calculate_batch(data)
L 281 [message ]     print(f"   ✅ Son 5 VAR değeri:")
L 282 [message ]     print(batch_result['var'].tail())
L 286 [other   ]     var2 = VAR(period=20)
L 298 [message ]             print(f"   ✅ Bar {i}: VAR={update_result.value['var']:.4f}")
L 300 [comment ]     # Test 4: Volatilite dönemleri analizi
L 301 [message ]     print("\n5. Volatilite dönemleri analizi...")
L 302 [other   ]     batch_result = var.calculate_batch(data)
L 303 [string  ]     var_values = batch_result['var'].dropna()
L 305 [comment ]     # İlk ve ikinci yarı
L 310 [message ]     print(f"   ✅ İlk yarı ortalama VAR: {first_half.mean():.4f}")
L 311 [message ]     print(f"   ✅ İkinci yarı ortalama VAR: {second_half.mean():.4f}")
L 312 [message ]     print(f"   ✅ Volatilite artışı: {(second_half.mean() / first_half.mean()):.2f}x")
L 314 [comment ]     # Test 5: Farklı periyotlar
L 315 [message ]     print("\n6. Farklı periyot testi...")
L 317 [other   ]         var_test = VAR(period=period)
L 319 [message ]         print(f"   ✅ VAR({period}): {result.value['var']:.4f}")
L 321 [comment ]     # Test 6: Std sapma ile ilişki
L 322 [message ]     print("\n7. Standart sapma ile ilişki...")
L 323 [other   ]     batch_result = var.calculate_batch(data)
L 324 [string  ]     var_values = batch_result['var'].dropna()
L 327 [comment ]     # VAR = STD²
L 333 [comment ]         # Son değerleri karşılaştır
L 338 [message ]         print(f"   ✅ VAR: {last_var:.4f}")
L 345 [other   ]         invalid_var = VAR(period=1)
L 346 [message ]         print("   ❌ Hata: Geçersiz period kabul edildi!")
L 348 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 351 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\statistical\zscore.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Z-Score - Fiyatın ortalamadan kaç standart sapma uzakta olduğunu ölçer
L  10 [docstring]     Aralık: Genellikle -3 ile +3 arası (normalleştirilmiş)
L  11 [docstring]     Aşırı Alım: > +2
L  12 [docstring]     Aşırı Satım: < -2
L  14 [docstring] Formül:
L  17 [docstring]     Pozitif değer: Fiyat ortalamadan yüksek
L  18 [docstring]     Negatif değer: Fiyat ortalamadan düşük
L  20 [docstring] Bağımlılıklar:
L  42 [docstring]     Fiyatın istatistiksel olarak ne kadar aşırı olduğunu ölçer.
L  43 [docstring]     Ortalamaya dönüş stratejileri için kullanılır.
L  46 [docstring]         period: Hesaplama periyodu (varsayılan: 20)
L  47 [docstring]         overbought: Aşırı alım seviyesi (varsayılan: 2.0)
L  48 [docstring]         oversold: Aşırı satım seviyesi (varsayılan: -2.0)
L  77 [docstring]         """Minimum gerekli periyot sayısı"""
L  81 [docstring]         """Parametreleri doğrula"""
L  85 [string  ]                 "Periyot en az 2 olmalı (standart sapma için)"
L  91 [string  ]                 "Oversold, overbought'tan küçük olmalı"
L 103 [docstring]             IndicatorResult: Z-Score değeri
L 107 [comment ]         # Son period kadar veriyi al
L 110 [comment ]         # Ortalama ve standart sapma hesapla
L 130 [other   ]             strength=min(abs(z_score_value) * 50, 100),  # 0-100 arası normalize et
L 142 [docstring]         ⚡ VECTORIZED batch Z-Score calculation - BACKTEST için
L 177 [docstring]         """Warmup buffer - update() için gerekli state'i hazırlar"""
L 222 [docstring]         Z-Score değerinden sinyal üret
L 225 [docstring]             value: Z-Score değeri
L 228 [docstring]             SignalType: BUY, SELL veya HOLD
L 231 [comment ]             # Fiyat çok düşük, ortalamaya dönüş beklentisi
L 234 [comment ]             # Fiyat çok yüksek, ortalamaya dönüş beklentisi
L 240 [docstring]         Z-Score değerinden trend belirle
L 243 [docstring]             value: Z-Score değeri
L 246 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 255 [docstring]         """Varsayılan parametreler"""
L 275 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 279 [docstring]     """Z-Score indikatör testi"""
L 285 [comment ]     # Örnek veri oluştur
L 286 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 290 [comment ]     # Fiyat hareketini simüle et - ortalamaya dönüş yapan bir seri
L 295 [comment ]         # Mean reversion simülasyonu
L 309 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 310 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 316 [message ]     print(f"   [OK] Oluşturuldu: {zscore}")
L 318 [message ]     print(f"   [OK] Gerekli periyot: {zscore.get_required_periods()}")
L 321 [message ]     print(f"   [OK] Z-Score Değeri: {result.value}")
L 324 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 329 [comment ]     # Test 2: Farklı periyotlar
L 330 [message ]     print("\n3. Farklı periyot testi...")
L 336 [comment ]     # Test 3: Aşırı değerler testi
L 337 [message ]     print("\n4. Aşırı değer testi...")
L 338 [comment ]     # Aşırı yüksek fiyat
L 342 [message ]     print(f"   [OK] Aşırı yüksek fiyat (120): Z-Score = {result_high.value:.4f}")
L 345 [comment ]     # Aşırı düşük fiyat
L 349 [message ]     print(f"   [OK] Aşırı düşük fiyat (80): Z-Score = {result_low.value:.4f}")
L 352 [comment ]     # Test 4: Özel seviyeler
L 353 [message ]     print("\n5. Özel seviye testi...")
L 356 [message ]     print(f"   [OK] Özel seviyeli Z-Score: {result.value:.4f}")
L 360 [comment ]     # Test 5: Son 10 mumun Z-Score'ları
L 370 [comment ]     # Test 6: İstatistikler
L 371 [message ]     print("\n7. İstatistik testi...")
L 373 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 374 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 379 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 382 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 385 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\__init__.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Smart Money Concepts (SMC) yapı indikatörleri
L  20 [docstring] Kullanım:
```

### components\indicators\structure\bos.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Piyasa yapısının kırılma noktalarını tespit eder
L  13 [docstring]     - Yükseliş trendinde: Önceki swing high'ın kırılması
L  14 [docstring]     - Düşüş trendinde: Önceki swing low'un kırılması
L  15 [docstring]     - Trend devamını gösterir (güçlü hareket)
L  17 [docstring] Formül:
L  18 [docstring]     1. Swing High/Low tespiti (SwingPoints kullanır - TradingView uyumlu)
L  20 [docstring]     3. Fiyat seviyeyi geçerse -> BOS
L  25 [docstring] Bağımlılıklar:
L  43 [comment ] # SwingPoints'i lazy import ile kullan (circular import önlemek için)
L  50 [docstring]     Piyasa yapısının kırılma noktalarını tespit eder.
L  51 [docstring]     Trend devamı sinyali verir.
L  64 [docstring]         left_bars: Sol taraf bar sayısı (varsayılan: 5)
L  65 [docstring]         right_bars: Sağ taraf bar sayısı (varsayılan: 5)
L  66 [docstring]         max_levels: Maksimum seviye sayısı (varsayılan: 3)
L  67 [docstring]         trend_strength: Trend gücü eşiği (varsayılan: 3) - for trend detection
L  84 [comment ]         # SwingPoints'i lazy import ile oluştur
L 102 [docstring]         """Minimum gerekli periyot sayısı"""
L 106 [docstring]         """Parametreleri doğrula"""
L 110 [string  ]                 "Left bars pozitif olmalı"
L 115 [string  ]                 "Right bars pozitif olmalı"
L 120 [string  ]                 "Max levels pozitif olmalı"
L 125 [docstring]         """SwingPoints instance'ını lazy load et"""
L 129 [comment ]             # components/indicators'i 'indicators' olarak ekle (eski import uyumluluğu için)
L 144 [docstring]         SwingPoints kullanarak swing high/low noktalarını tespit et (alternating filtreli)
L 146 [docstring]         SwingPoints TradingView uyumlu pivot algoritması kullanır:
L 148 [docstring]         - Sağ taraf: greater/less or equal (ilk oluşan pivot kazanır)
L 149 [docstring]         - Alternating filter: High-Low-High-Low pattern zorunlu
L 155 [docstring]             tuple: (swing_highs, swing_lows) - Her biri List[Dict] formatında
L 160 [comment ]         # Önce tüm swing'leri topla (index, type, value)
L 168 [comment ]         # Index'e göre sırala (kronolojik)
L 177 [comment ]                 # Farklı tip - ekle
L 180 [comment ]                 # Aynı tip - daha ekstrem olanı tut
L 187 [comment ]         # Filtrelenmiş swing'lerden ayrı listeler oluştur
L 204 [docstring]         Mevcut trend yönünü tespit et
L 206 [docstring]         SMC Approach (structure_detector.py ile aynı logic):
L 209 [docstring]         - Daha esnek - sadece son 2 swing'e bakıyor
L 221 [comment ]         # Son 2-3 swing'e bak (structure_detector.py gibi)
L 225 [comment ]         # En son swing yönünü kontrol et
L 257 [docstring]         BOS tespiti - TEK BAR için trend kontrolü ile.
L 273 [docstring]             Dict: BOS bilgisi veya None
L 355 [docstring]         BOS tespiti - Son bar için (calculate() için wrapper)
L 365 [docstring]             Dict: BOS bilgisi veya None
L 412 [comment ]         # BOS yoksa (kırılma yok) - pending olarak son swing level'ı döndür
L 418 [comment ]             # Hangi seviye daha yakın?
L 444 [docstring]             IndicatorResult: BOS değeri
L 445 [docstring]                 - value: Sinyal değeri (1=bullish, -1=bearish, 0=none)
L 446 [docstring]                 - metadata: BOS seviyesi ve detayları
L 458 [comment ]         # Değer: Sinyal (1=bullish, -1=bearish, 0=none/pending)
L 459 [comment ]         # calculate_batch() ile tutarlı!
L 468 [comment ]         # Metadata: Tüm BOS seviyeleri ve fiyat bilgisi
L 571 [docstring]         BOS gücünü hesapla (0-100)
L 575 [docstring]             current_close: Güncel close fiyatı
L 578 [docstring]             float: Güç skoru
L 586 [comment ]         # Kırılma mesafesine göre güç hesapla
L 649 [other   ]                 value=0,  # Sinyal yok (calculate() ile tutarlı)
L 670 [docstring]         BOS'tan sinyal üret
L 676 [docstring]             SignalType: BUY, SELL veya HOLD
L 698 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 713 [docstring]         """Varsayılan parametreler"""
L 734 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 738 [docstring]     """BOS indikatör testi"""
L 744 [comment ]     # Örnek veri oluştur
L 745 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 749 [comment ]     # Trend simülasyonu (yükseliş -> düşüş -> yükseliş)
L 754 [comment ]             # Yükseliş
L 757 [comment ]             # Düşüş
L 760 [comment ]             # Yükseliş
L 772 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 773 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 778 [message ]     print(f"   [OK] Oluşturuldu: {bos}")
L 780 [message ]     print(f"   [OK] Gerekli periyot: {bos.get_required_periods()}")
L 783 [message ]     print(f"   [OK] BOS Değeri: {result.value}")
L 786 [message ]     print(f"   [OK] Güç: {result.strength}")
L 791 [comment ]     # Test 2: Swing seviyelerini göster
L 798 [comment ]     # Test 3: Farklı parametreler
L 799 [message ]     print("\n4. Farklı parametre testi...")
L 805 [comment ]     # Test 4: İstatistikler
L 806 [message ]     print("\n5. İstatistik testi...")
L 808 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 809 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 814 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 817 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 820 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\choch.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Piyasa karakterinin değişimini tespit eder
L  13 [docstring]     - Yükseliş trendinde: Swing low'un kırılması (trend zayıflıyor)
L  14 [docstring]     - Düşüş trendinde: Swing high'ın kırılması (trend zayıflıyor)
L  15 [docstring]     - Potansiyel trend değişimini gösterir
L  17 [docstring] Formül:
L  18 [docstring]     1. Swing High/Low tespiti (SwingPoints kullanır - TradingView uyumlu)
L  19 [docstring]     2. Trend yönünü tespit et
L  20 [docstring]     3. Ters yönde swing kırılması -> CHoCH
L  22 [docstring]     Bullish CHoCH (Düşüş -> Yükseliş): Close > Previous Swing High (in downtrend)
L  23 [docstring]     Bearish CHoCH (Yükseliş -> Düşüş): Close < Previous Swing Low (in uptrend)
L  25 [docstring] Bağımlılıklar:
L  49 [docstring]     Piyasa karakterinin değişim noktalarını tespit eder.
L  50 [docstring]     Trend değişimi sinyali verir.
L  53 [docstring]         left_bars: Sol taraf bar sayısı (varsayılan: 5)
L  54 [docstring]         right_bars: Sağ taraf bar sayısı (varsayılan: 5)
L  55 [docstring]         max_levels: Maksimum seviye sayısı (varsayılan: 3)
L  56 [docstring]         trend_strength: Trend gücü eşiği (varsayılan: 3)
L  73 [comment ]         # SwingPoints'i lazy import ile oluştur
L  91 [docstring]         """Minimum gerekli periyot sayısı"""
L  95 [docstring]         """Parametreleri doğrula"""
L  99 [string  ]                 "Left bars pozitif olmalı"
L 104 [string  ]                 "Right bars pozitif olmalı"
L 109 [string  ]                 "Max levels pozitif olmalı"
L 114 [string  ]                 "Trend strength pozitif olmalı"
L 119 [docstring]         """SwingPoints instance'ını lazy load et"""
L 123 [comment ]             # components/indicators'i 'indicators' olarak ekle (eski import uyumluluğu için)
L 137 [docstring]         """SwingPoints kullanarak swing high/low noktalarını tespit et (alternating filtreli)"""
L 141 [comment ]         # Önce tüm swing'leri topla (index, type, value)
L 149 [comment ]         # Index'e göre sırala (kronolojik)
L 158 [comment ]                 # Farklı tip - ekle
L 161 [comment ]                 # Aynı tip - daha ekstrem olanı tut
L 168 [comment ]         # Filtrelenmiş swing'lerden ayrı listeler oluştur
L 185 [docstring]         Mevcut trend yönünü tespit et
L 187 [docstring]         SMC Approach (structure_detector.py ile aynı logic):
L 190 [docstring]         - Daha esnek - sadece son 2 swing'e bakıyor
L 202 [comment ]         # Son 2-3 swing'e bak (structure_detector.py gibi)
L 206 [comment ]         # En son swing yönünü kontrol et
L 238 [docstring]         CHoCH tespiti - TEK BAR için trend kontrolü ile.
L 254 [docstring]             Dict: CHoCH bilgisi veya None
L 337 [docstring]         CHoCH tespiti - Son bar için (calculate() için wrapper)
L 345 [docstring]             trend: Mevcut trend
L 348 [docstring]             Dict: CHoCH bilgisi veya None
L 419 [docstring]             IndicatorResult: CHoCH değeri
L 420 [docstring]                 - value: Sinyal değeri (1=bullish, -1=bearish, 0=none)
L 421 [docstring]                 - metadata: CHoCH seviyesi ve detayları
L 425 [comment ]         # Swing High/Low tespiti (SwingPoints kullanır)
L 436 [comment ]         # Değer: Sinyal (1=bullish, -1=bearish, 0=none/pending)
L 437 [comment ]         # calculate_batch() ile tutarlı!
L 446 [comment ]         # Metadata: Tüm CHoCH seviyeleri ve fiyat bilgisi
L 488 [comment ]         # Find all swing highs/lows upfront (SwingPoints kullanır)
L 503 [comment ]         # State: keep previous trend (structure_detector.py gibi)
L 539 [comment ]                     # CHoCH sonrası trend değişir - bullish CHoCH = artık uptrend
L 543 [comment ]                     # CHoCH sonrası trend değişir - bearish CHoCH = artık downtrend
L 549 [docstring]         """CHoCH gücünü hesapla (0-100)"""
L 556 [comment ]         # Kırılma mesafesine göre güç hesapla
L 619 [other   ]                 value=0,  # Sinyal yok (calculate() ile tutarlı)
L 640 [docstring]         CHoCH'tan sinyal üret
L 646 [docstring]             SignalType: BUY, SELL veya HOLD
L 653 [comment ]         # CHoCH trend değişimini gösterir
L 655 [other   ]             return SignalType.BUY  # Düşüş -> Yükseliş
L 657 [other   ]             return SignalType.SELL  # Yükseliş -> Düşüş
L 667 [docstring]             current_trend: Mevcut trend
L 670 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 673 [comment ]             # Mevcut trendi döndür
L 682 [comment ]         # CHoCH sonrası yeni trend
L 691 [docstring]         """Varsayılan parametreler"""
L 712 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 716 [docstring]     """CHoCH indikatör testi"""
L 722 [comment ]     # Örnek veri oluştur
L 723 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 727 [comment ]     # Trend değişimi simülasyonu
L 732 [comment ]             # Güçlü yükseliş (uptrend)
L 735 [comment ]             # Zayıflama (CHoCH hazırlığı)
L 738 [comment ]             # Düşüş (downtrend)
L 741 [comment ]             # Yeniden yükseliş (CHoCH)
L 753 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 754 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 759 [message ]     print(f"   [OK] Oluşturuldu: {choch}")
L 761 [message ]     print(f"   [OK] Gerekli periyot: {choch.get_required_periods()}")
L 764 [message ]     print(f"   [OK] CHoCH Değeri: {result.value}")
L 767 [message ]     print(f"   [OK] Güç: {result.strength}")
L 769 [message ]     print(f"   [OK] Mevcut Trend: {result.metadata['current_trend']}")
L 770 [message ]     print(f"   [OK] Önceki Trend: {result.metadata['previous_trend']}")
L 772 [comment ]     # Test 2: Swing seviyelerini göster
L 779 [comment ]     # Test 3: Farklı parametreler
L 780 [message ]     print("\n4. Farklı parametre testi...")
L 786 [comment ]     # Test 4: İstatistikler
L 787 [message ]     print("\n5. İstatistik testi...")
L 789 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 790 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 795 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 798 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 801 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\fvg.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Fiyat boşluklarını (imbalance) tespit eder
L  13 [docstring]     - 3 mum arasında oluşan fiyat boşluğu
L  14 [docstring]     - Hızlı fiyat hareketi sonucu oluşur
L  15 [docstring]     - Genellikle bu boşluklar "fill" edilir (doldurulur)
L  17 [docstring] Formül:
L  27 [docstring]     - Open: Boşluk henüz doldurulmadı
L  28 [docstring]     - Partial: Kısmen doldu
L  31 [docstring] Bağımlılıklar:
L  54 [docstring]     Fiyat boşluklarını tespit eder ve takip eder.
L  55 [docstring]     Potansiyel destek/direnç bölgeleri olarak kullanılır.
L  58 [docstring]         min_gap_percent: Minimum boşluk yüzdesi (varsayılan: 0.1)
L  59 [docstring]         max_zones: Maksimum açık zone sayısı (varsayılan: 5)
L  60 [docstring]         fill_threshold: Doldurulma eşiği (varsayılan: 0.5, %50)
L  88 [comment ]         # State: Açık FVG'leri takip et
L  92 [docstring]         """Minimum gerekli periyot sayısı"""
L  96 [docstring]         """Parametreleri doğrula"""
L 105 [string  ]                 "Max zones pozitif olmalı"
L 110 [string  ]                 "Fill threshold 0-1 arası olmalı"
L 187 [docstring]         FVG dolum durumunu güncelle
L 191 [docstring]             current_high: Güncel high
L 192 [docstring]             current_low: Güncel low
L 195 [docstring]             Dict: Güncellenmiş FVG
L 201 [comment ]         # Fiyat FVG içine girdi mi?
L 203 [comment ]             # Dolum miktarını hesapla
L 205 [comment ]                 # Aşağıdan dolduruluyor
L 208 [comment ]                 # Yukarıdan dolduruluyor
L 214 [comment ]             # Status güncelle
L 244 [comment ]         # Mevcut FVG'lerin durumunu güncelle
L 251 [comment ]         # Tamamen dolmuş FVG'leri kaldır
L 257 [comment ]         # Maksimum zone sayısını uygula (en yeni olanları tut)
L 263 [comment ]         # Değer: Açık FVG'lerin listesi
L 435 [docstring]         FVG'lerden sinyal üret
L 438 [docstring]             zones: FVG zone'ları
L 439 [docstring]             current_price: Güncel fiyat
L 442 [docstring]             SignalType: BUY, SELL veya HOLD
L 447 [comment ]         # Fiyat bir FVG zone'una yaklaştı mı?
L 456 [comment ]             # %1 içindeyse sinyal ver
L 459 [string  ]                     return SignalType.BUY  # Bullish FVG'ye yakın
L 461 [string  ]                     return SignalType.SELL  # Bearish FVG'ye yakın
L 470 [docstring]             zones: FVG zone'ları
L 473 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 489 [docstring]         """Varsayılan parametreler"""
L 509 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 513 [docstring]     """FVG indikatör testi"""
L 519 [comment ]     # Örnek veri oluştur
L 520 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 524 [comment ]     # FVG oluşturacak fiyat hareketi
L 532 [comment ]             # Bullish FVG oluştur (hızlı yükseliş)
L 537 [comment ]             # Bearish FVG oluştur (hızlı düşüş)
L 556 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 557 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 562 [message ]     print(f"   [OK] Oluşturuldu: {fvg}")
L 564 [message ]     print(f"   [OK] Gerekli periyot: {fvg.get_required_periods()}")
L 572 [message ]     print(f"   [OK] Güç: {result.strength}")
L 574 [comment ]     # Test 2: Zone detayları
L 575 [message ]     print("\n3. Zone detayları...")
L 585 [message ]         print("   [OK] Açık zone bulunamadı")
L 587 [comment ]     # Test 3: Farklı parametreler
L 588 [message ]     print("\n4. Farklı parametre testi...")
L 594 [comment ]     # Test 4: İstatistikler
L 595 [message ]     print("\n5. İstatistik testi...")
L 597 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 598 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 603 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 607 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 610 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\gap.py

```
L  10 [docstring] Açıklama:
L  11 [docstring]     İki mum arasındaki fiyat boşluklarını (gap) tespit eder.
L  12 [docstring]     FVG'den farklı olarak 3 mum pattern gerektirmez, sadece 2 mum arası boşluk.
L  15 [docstring]     - İki ardışık mum arasında oluşan fiyat boşluğu
L  16 [docstring]     - Hızlı fiyat hareketi sonucu oluşur
L  17 [docstring]     - Genellikle bu boşluklar "fill" edilir (doldurulur)
L  19 [docstring] Formül:
L  20 [docstring]     Bullish Gap (Yukarı Boşluk):
L  24 [docstring]     Bearish Gap (Aşağı Boşluk):
L  29 [docstring]     - open: Boşluk henüz doldurulmadı (dolu kutu)
L  30 [docstring]     - filled: Tamamen doldu (sadece çerçeve)
L  32 [docstring] Kullanım:
L  41 [docstring] Bağımlılıklar:
L  74 [docstring]     Gap Zone veri yapısı
L  77 [docstring]         type: 'bullish' veya 'bearish'
L  78 [docstring]         top: Üst fiyat seviyesi
L  80 [docstring]         created_index: Oluşturulduğu bar index
L  81 [docstring]         created_time: Oluşturulduğu timestamp
L  83 [docstring]         filled_index: Doldurulduğu bar index (varsa)
L  84 [docstring]         filled_time: Doldurulduğu timestamp (varsa)
L 102 [docstring]         """Gap orta noktası"""
L 106 [docstring]         """Dict'e çevir"""
L 125 [docstring]     İki mum arasındaki fiyat boşluklarını tespit eder ve takip eder.
L 128 [docstring]         min_gap_percent: Minimum boşluk yüzdesi (varsayılan: 0.05 = %0.05)
L 129 [docstring]         max_zones: Maksimum takip edilecek zone sayısı (varsayılan: 50)
L 130 [docstring]         max_age: Maksimum yaş (bar sayısı, varsayılan: 500)
L 158 [comment ]         # State: Tüm gap'leri takip et (filled dahil)
L 160 [other   ]         self._active_gaps: List[GapZone] = []  # Henüz doldurulmamış
L 163 [docstring]         """Minimum gerekli periyot sayısı"""
L 167 [docstring]         """Parametreleri doğrula"""
L 176 [string  ]                 "Max zones pozitif olmalı"
L 181 [string  ]                 "Max age pozitif olmalı"
L 195 [docstring]         İki mum arasında gap tespit et
L 198 [docstring]             prev_high: Önceki mumun high'ı
L 199 [docstring]             prev_low: Önceki mumun low'u
L 200 [docstring]             curr_high: Şimdiki mumun high'ı
L 201 [docstring]             curr_low: Şimdiki mumun low'u
L 202 [docstring]             curr_index: Şimdiki bar index
L 203 [docstring]             curr_time: Şimdiki timestamp
L 206 [docstring]             GapZone veya None
L 210 [comment ]         # Bullish Gap: Şimdiki mumun low'u > Önceki mumun high'ı
L 225 [comment ]         # Bearish Gap: Önceki mumun low'u > Şimdiki mumun high'ı
L 251 [docstring]         Gap dolum durumunu güncelle
L 253 [docstring]         Gap doldurulma koşulu:
L 254 [docstring]         - Bullish gap: Fiyat gap'in bottom'una (veya altına) inerse
L 255 [docstring]         - Bearish gap: Fiyat gap'in top'una (veya üstüne) çıkarsa
L 261 [comment ]             # Bullish gap: Fiyat aşağı inip gap'i doldurmalı
L 267 [comment ]             # Bearish gap: Fiyat yukarı çıkıp gap'i doldurmalı
L 275 [docstring]         Tüm veri üzerinde gap hesapla
L 291 [comment ]         # Her bar için gap tespit et ve güncelle
L 307 [comment ]             # Mevcut gap'lerin durumunu güncelle
L 309 [string  ]                 if gap.created_index < i:  # Oluşturulduğu bar'da güncelleme yapma
L 318 [comment ]             # Doldurulmuş gap'leri active listesinden çıkar
L 321 [comment ]             # Çok eski gap'leri active listesinden çıkar (ama all'da kalsın)
L 327 [comment ]         # Max zones limiti (en yeni olanları tut)
L 333 [comment ]         # Tüm zone'ları döndür (filled dahil - WebUI'da farklı gösterilecek)
L 347 [string  ]                 'zones': zones,  # Tüm gap'ler (filled dahil)
L 362 [docstring]             pd.Series: Net gap değeri (bullish - bearish aktif gap sayısı)
L 389 [comment ]             # Mevcut gap'lerin durumunu güncelle
L 400 [comment ]             # Doldurulmuş ve eski gap'leri çıkar
L 406 [comment ]             # Net gap değeri
L 487 [comment ]         # Mevcut gap'leri güncelle
L 519 [docstring]         """Gap'lerden sinyal üret"""
L 523 [comment ]         # Fiyata en yakın gap'i bul
L 538 [comment ]             # %0.5 içindeyse sinyal ver
L 563 [docstring]         """Aktif (doldurulmamış) gap'ler"""
L 567 [docstring]         """Tüm gap'ler (filled dahil)"""
L 592 [docstring]         """Varsayılan parametreler"""
L 620 [comment ]     # Test verisi oluştur - gap'ler içeren
L 621 [message ]     print("\n1. Test verisi oluşturuluyor...")
L 634 [comment ]     # Gap oluştur (belirli noktalarda)
L 642 [comment ]             # Bullish gap oluştur
L 648 [comment ]             # Bearish gap oluştur
L 668 [message ]     print(f"   ✅ {len(data)} bar oluşturuldu")
L 682 [comment ]     # Test 3: Zone detayları
L 683 [message ]     print("\n3. Zone detayları...")
L 692 [message ]     print(f"   ✅ Series uzunluğu: {len(batch_result)}")
L 693 [message ]     print(f"   ✅ Son değer: {batch_result.iloc[-1]}")
L 699 [comment ]     # İlk birkaç mumu ekle
L 711 [message ]     print(f"   ✅ Update sonrası aktif gap: {res.metadata.get('active_gaps', 0)}")
L 714 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\ifvg.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Ters yönlü FVG tespiti - potansiyel reversal sinyali
L  13 [docstring]     - FVG oluştuktan sonra ters yönde oluşan FVG
L  14 [docstring]     - Trend zayıflama/reversal sinyali
L  15 [docstring]     - Stop loss avı veya trend değişimi gösterebilir
L  17 [docstring]     Örnek:
L  18 [docstring]     1. Bullish FVG oluşur (yükseliş)
L  19 [docstring]     2. Ardından Bearish FVG oluşur (iFVG) -> Yükseliş zayıflıyor
L  21 [docstring]     3. Bearish FVG oluşur (düşüş)
L  22 [docstring]     4. Ardından Bullish FVG oluşur (iFVG) -> Düşüş zayıflıyor
L  24 [docstring] Formül:
L  25 [docstring]     1. Son N bar içinde FVG tespiti
L  26 [docstring]     2. Ters yönde FVG oluşumu -> iFVG
L  30 [docstring]     - Son N barda Bearish FVG vardı
L  31 [docstring]     - Şimdi Bullish FVG oluştu -> Reversal up
L  34 [docstring]     - Son N barda Bullish FVG vardı
L  35 [docstring]     - Şimdi Bearish FVG oluştu -> Reversal down
L  37 [docstring] Bağımlılıklar:
L  60 [docstring]     Ters yönlü FVG tespiti ile reversal sinyali verir.
L  61 [docstring]     Trend zayıflama noktalarını tespit eder.
L  64 [docstring]         min_gap_percent: Minimum boşluk yüzdesi (varsayılan: 0.1)
L  65 [docstring]         lookback_bars: Kaç bar geriye bakılacak (varsayılan: 10)
L  66 [docstring]         min_distance: FVG'ler arası minimum mesafe (bar) (varsayılan: 3)
L  98 [docstring]         """Minimum gerekli periyot sayısı"""
L 102 [docstring]         """Parametreleri doğrula"""
L 111 [string  ]                 "Lookback bars pozitif olmalı"
L 116 [string  ]                 "Min distance pozitif olmalı"
L 127 [docstring]         FVG tespiti (tek FVG döndürür)
L 135 [docstring]             Dict: Tespit edilen FVG veya None
L 189 [docstring]             current_fvg: Güncel FVG
L 193 [docstring]             Dict: iFVG bilgisi veya None
L 201 [comment ]         # Ters yönlü FVG ara (lookback period içinde)
L 203 [comment ]             # Minimum mesafe kontrolü
L 208 [comment ]             # Lookback period içinde mi?
L 212 [comment ]             # Ters yön kontrolü
L 245 [docstring]             IndicatorResult: iFVG değeri
L 258 [comment ]         # Eski FVG'leri temizle (lookback period dışı)
L 272 [comment ]         # Değer: iFVG tipi (dict format)
L 406 [docstring]         iFVG'den sinyal üret
L 412 [docstring]             SignalType: BUY, SELL veya HOLD
L 419 [other   ]             return SignalType.BUY  # Düşüş -> Yükseliş
L 421 [other   ]             return SignalType.SELL  # Yükseliş -> Düşüş
L 433 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 438 [comment ]         # iFVG yeni trend yönünü gösterir
L 447 [docstring]         """Varsayılan parametreler"""
L 467 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 471 [docstring]     """iFVG indikatör testi"""
L 477 [comment ]     # Örnek veri oluştur
L 478 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 482 [comment ]     # iFVG simülasyonu (Yükseliş -> Düşüş -> iFVG)
L 490 [comment ]             # Bullish FVG (hızlı yükseliş)
L 500 [comment ]             # Bearish FVG (hızlı düşüş)
L 524 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 525 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 530 [message ]     print(f"   [OK] Oluşturuldu: {ifvg}")
L 532 [message ]     print(f"   [OK] Gerekli periyot: {ifvg.get_required_periods()}")
L 535 [message ]     print(f"   [OK] iFVG Değeri: {result.value}")
L 538 [message ]     print(f"   [OK] Güç: {result.strength}")
L 547 [message ]     print(f"   [OK] Batch sonuç uzunluğu: {len(batch_result)}")
L 548 [message ]     print(f"   [OK] Bullish iFVG sayısı: {int((batch_result == 1).sum())}")
L 549 [message ]     print(f"   [OK] Bearish iFVG sayısı: {int((batch_result == -1).sum())}")
L 551 [comment ]     # iFVG tespit edilen indexleri göster
L 557 [comment ]     # Test 3: Farklı parametreler
L 558 [message ]     print("\n4. Farklı parametre testi...")
L 565 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\liquidityzones.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Likidite havuzlarını (Stop-loss yoğunluğu) tespit eder
L  13 [docstring]     - Swing High/Low seviyeleri = Stop-loss yoğunluğu
L  14 [docstring]     - Equal Highs/Lows = Çoklu stop-loss seviyesi
L  17 [docstring] Formül:
L  19 [docstring]     2. Equal seviye tespiti (±tolerance aralığında)
L  20 [docstring]     3. Likidite havuzları oluştur
L  21 [docstring]     4. "Sweep" tespiti (kısa süreli kırılma)
L  24 [docstring]     - Fiyat likidite seviyesinin üstüne/altına çıkar
L  25 [docstring]     - Hemen geri döner (1-3 mum içinde)
L  26 [docstring]     - "Stop hunt" veya "liquidity grab"
L  28 [docstring] Bağımlılıklar:
L  51 [docstring]     Likidite havuzlarını tespit eder.
L  52 [docstring]     Smart Money'nin stop-loss'ları tetiklediği bölgeleri gösterir.
L  55 [docstring]         left_bars: Sol taraf bar sayısı (varsayılan: 5)
L  56 [docstring]         right_bars: Sağ taraf bar sayısı (varsayılan: 5)
L  57 [docstring]         equal_tolerance: Equal seviye toleransı (%) (varsayılan: 0.1)
L  58 [docstring]         max_zones: Maksimum zone sayısı (varsayılan: 5)
L  59 [docstring]         sweep_lookback: Sweep kontrolü için geriye bakış (varsayılan: 3)
L  93 [comment ]         # State: Aktif likidite zone'ları
L  97 [docstring]         """Minimum gerekli periyot sayısı"""
L 101 [docstring]         """Parametreleri doğrula"""
L 105 [string  ]                 "Left bars pozitif olmalı"
L 110 [string  ]                 "Right bars pozitif olmalı"
L 120 [string  ]                 "Max zones pozitif olmalı"
L 125 [string  ]                 "Sweep lookback pozitif olmalı"
L 130 [docstring]         """Swing High noktalarını tespit et"""
L 159 [docstring]         """Swing Low noktalarını tespit et"""
L 189 [docstring]         Equal (eşit) seviyeleri tespit et
L 192 [docstring]             swings: Swing noktaları
L 206 [comment ]                 # Tolerance içinde mi?
L 224 [docstring]         Likidite zone'ları oluştur
L 231 [docstring]             List[Dict]: Likidite zone'ları
L 235 [comment ]         # Swing High'lardan likidite zone'ları (Sell-side liquidity)
L 238 [string  ]                 'type': 'sell_side',  # Üstte stop-loss'lar (long pozisyonlar)
L 245 [comment ]         # Swing Low'lardan likidite zone'ları (Buy-side liquidity)
L 255 [comment ]         # Equal level'lardan likidite zone'ları (güçlü)
L 263 [string  ]                 'strength': len(group),  # Equal sayısı
L 291 [docstring]             zones: Likidite zone'ları
L 295 [docstring]             List[Dict]: Güncellenmiş zone'lar
L 302 [other   ]                 continue  # Zaten sweep edilmiş
L 305 [comment ]                 # Sell-side sweep (üst taraf)
L 307 [comment ]                     # High seviyeyi geçti mi?
L 309 [comment ]                         # Close seviyenin altında mı? (geri döndü)
L 317 [comment ]                     # Low seviyeyi geçti mi?
L 319 [comment ]                         # Close seviyenin üstünde mi? (geri döndü)
L 345 [comment ]         # Likidite zone'ları oluştur
L 353 [comment ]         # Swept olmamış zone'ları filtrele (aktif zone'lar)
L 356 [comment ]         # En güçlü zone'ları seç
L 362 [comment ]         # Değer: Aktif likidite zone'ları
L 413 [docstring]             IndicatorResult: Güncel Liquidity Zones
L 415 [comment ]         # Buffer yönetimi
L 464 [comment ]         # Likidite zone'ları oluştur
L 470 [comment ]         # Swept olmamış zone'ları filtrele
L 475 [comment ]         # Değer: Aktif likidite zone'ları
L 552 [docstring]         Liquidity zone'lardan sinyal üret
L 556 [docstring]             swept_zones: Yakın zamanda sweep edilmiş zone'lar
L 557 [docstring]             current_price: Güncel fiyat
L 560 [docstring]             SignalType: BUY, SELL veya HOLD
L 562 [comment ]         # Sweep sonrası ters yönde sinyal
L 566 [comment ]             # Sell-side sweep -> Bullish (aşağı dönüş)
L 570 [comment ]             # Buy-side sweep -> Bearish (yukarı dönüş)
L 574 [comment ]         # Zone'a yaklaşma
L 578 [other   ]             if distance_percent < 1.0:  # %1 içinde
L 582 [other   ]                     return SignalType.SELL  # Direnç
L 591 [docstring]             zones: Likidite zone'ları
L 594 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 607 [other   ]             return TrendDirection.UP  # Daha fazla aşağı likidite
L 609 [other   ]             return TrendDirection.DOWN  # Daha fazla yukarı likidite
L 614 [docstring]         """Varsayılan parametreler"""
L 636 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 640 [docstring]     """Liquidity Zones indikatör testi"""
L 646 [comment ]     # Örnek veri oluştur
L 647 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 651 [comment ]     # Liquidity sweep simülasyonu
L 659 [comment ]             # Swing high oluştur
L 665 [comment ]             # Liquidity sweep (yanlış kırılma)
L 666 [string  ]             price = base_price + 5.5  # Swing high'ı geç
L 667 [other   ]             prices.append(base_price + 4.8)  # Geri dön
L 686 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 687 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 698 [message ]     print(f"   [OK] Oluşturuldu: {liq}")
L 700 [message ]     print(f"   [OK] Gerekli periyot: {liq.get_required_periods()}")
L 706 [message ]     print(f"   [OK] Yakın Sweep: {result.metadata['recent_sweeps']}")
L 709 [message ]     print(f"   [OK] Güç: {result.strength}")
L 711 [comment ]     # Test 2: Zone detayları
L 712 [message ]     print("\n3. Zone detayları...")
L 718 [message ]             print(f"       - Güç: {zone['strength']}")
L 721 [message ]         print("   [OK] Aktif zone bulunamadı")
L 732 [message ]         print("   [OK] Yakın zamanda sweep bulunamadı")
L 734 [comment ]     # Test 4: Farklı parametreler
L 735 [message ]     print("\n5. Farklı parametre testi...")
L 741 [comment ]     # Test 5: İstatistikler
L 742 [message ]     print("\n6. İstatistik testi...")
L 744 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 745 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 750 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 754 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 757 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\lvvoid.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     FVG + düşük volume kombinasyonu
L  11 [docstring]     Likiditenin az olduğu boşluk bölgelerini tespit eder
L  14 [docstring]     - Fair Value Gap (FVG) + Düşük volume
L  15 [docstring]     - Likidite eksikliği olan bölgeler
L  16 [docstring]     - Fiyat hızla geçer (slippage riski yüksek)
L  17 [docstring]     - Genellikle "fill" edilmek için geri dönülür
L  19 [docstring] Formül:
L  21 [docstring]     2. Gap içindeki volume < Average Volume * threshold
L  32 [docstring] Bağımlılıklar:
L  56 [docstring]     Likidite eksikliği olan boşluk bölgelerini tespit eder.
L  59 [docstring]         min_gap_percent: Minimum boşluk yüzdesi (varsayılan: 0.1)
L  60 [docstring]         volume_threshold: Volume eşiği (varsayılan: 0.5, avg volume'un %50'si)
L  61 [docstring]         volume_period: Volume ortalaması periyodu (varsayılan: 20)
L  62 [docstring]         max_zones: Maksimum açık zone sayısı (varsayılan: 5)
L  93 [comment ]         # State: Açık LV Void'leri takip et
L  97 [docstring]         """Minimum gerekli periyot sayısı"""
L 101 [docstring]         """Parametreleri doğrula"""
L 110 [string  ]                 "Volume threshold 0-1 arası olmalı"
L 115 [string  ]                 "Volume period pozitif olmalı"
L 120 [string  ]                 "Max zones pozitif olmalı"
L 161 [comment ]         # Volume düşük mü?
L 216 [docstring]         LV Void dolum durumunu güncelle
L 220 [docstring]             current_high: Güncel high
L 221 [docstring]             current_low: Güncel low
L 224 [docstring]             Dict: Güncellenmiş void
L 230 [comment ]         # Fiyat void içine girdi mi?
L 232 [comment ]             # Dolum miktarını hesapla
L 234 [comment ]                 # Aşağıdan dolduruluyor
L 237 [comment ]                 # Yukarıdan dolduruluyor
L 243 [comment ]             # Status güncelle
L 274 [comment ]         # Mevcut void'lerin durumunu güncelle
L 281 [comment ]         # Tamamen dolmuş void'leri kaldır
L 287 [comment ]         # Maksimum zone sayısını uygula
L 293 [comment ]         # Değer: Açık LV Void'lerin listesi
L 315 [string  ]             strength=len(zones) * 25,  # Her zone 25 puan (FVG'den daha güçlü)
L 426 [docstring]         LV Void'lerden sinyal üret
L 429 [docstring]             zones: LV Void zone'ları
L 430 [docstring]             current_price: Güncel fiyat
L 433 [docstring]             SignalType: BUY, SELL veya HOLD
L 438 [comment ]         # Fiyat bir void zone'una yaklaştı mı?
L 447 [comment ]             # %0.5 içindeyse sinyal ver (FVG'den daha hassas)
L 461 [docstring]             zones: LV Void zone'ları
L 464 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 480 [docstring]         """Varsayılan parametreler"""
L 501 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 505 [docstring]     """LV Void indikatör testi"""
L 511 [comment ]     # Örnek veri oluştur
L 512 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 516 [comment ]     # FVG + düşük volume simülasyonu
L 525 [comment ]             # Bullish LV Void oluştur (hızlı yükseliş + düşük volume)
L 527 [other   ]             volumes.append(500)  # Düşük volume
L 531 [comment ]             # Bearish LV Void oluştur (hızlı düşüş + düşük volume)
L 533 [other   ]             volumes.append(600)  # Düşük volume
L 552 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 553 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 554 [message ]     print(f"   [OK] Volume aralığı: {min(volumes)} -> {max(volumes)}")
L 559 [message ]     print(f"   [OK] Oluşturuldu: {lvvoid}")
L 561 [message ]     print(f"   [OK] Gerekli periyot: {lvvoid.get_required_periods()}")
L 570 [message ]     print(f"   [OK] Güç: {result.strength}")
L 572 [comment ]     # Test 2: Zone detayları
L 573 [message ]     print("\n3. Zone detayları...")
L 584 [message ]         print("   [OK] Açık zone bulunamadı")
L 589 [message ]     print(f"   [OK] Batch sonuç uzunluğu: {len(batch_result)}")
L 590 [message ]     print(f"   [OK] Max aktif zone sayısı: {int(batch_result.max())}")
L 594 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\market_structure.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Tüm SMC indikatörlerini birleştirir
L  12 [docstring]     İçerik:
L  19 [docstring]     Kullanım:
L  20 [docstring]     Tek bir indikatör çağrısıyla tüm SMC analizi
L  22 [docstring] Formül:
L  23 [docstring]     Her alt indikatörü ayrı ayrı hesaplar ve birleştirir.
L  24 [docstring]     Genel piyasa yapısı analizi sunar.
L  26 [docstring] Bağımlılıklar:
L  45 [comment ] # Alt indikatörleri import et
L  57 [docstring]     Tüm Smart Money Concepts indikatörlerini birleştirir.
L  58 [docstring]     Kapsamlı piyasa yapısı analizi sağlar.
L  61 [docstring]         enable_bos: BOS hesapla (varsayılan: True)
L  62 [docstring]         enable_choch: CHoCH hesapla (varsayılan: True)
L  63 [docstring]         enable_fvg: FVG hesapla (varsayılan: True)
L  64 [docstring]         enable_ob: Order Blocks hesapla (varsayılan: True)
L  65 [docstring]         enable_liq: Liquidity Zones hesapla (varsayılan: True)
L  66 [docstring]         left_bars: Swing tespiti sol bar (varsayılan: 5)
L  67 [docstring]         right_bars: Swing tespiti sağ bar (varsayılan: 5)
L  90 [comment ]         # Alt indikatörleri oluştur (super().__init__ çağrısından ÖNCE)
L 115 [docstring]         """Minimum gerekli periyot sayısı"""
L 131 [docstring]         """Parametreleri doğrula"""
L 135 [string  ]                 "Left bars pozitif olmalı"
L 140 [string  ]                 "Right bars pozitif olmalı"
L 143 [comment ]         # En az bir indikatör aktif olmalı
L 147 [string  ]                 "En az bir indikatör aktif olmalı"
L 160 [docstring]             IndicatorResult: Tüm SMC indikatörleri
L 236 [comment ]         # Genel sinyal ve trend hesapla
L 261 [docstring]         Tüm indikatörlerden genel sinyal hesapla
L 264 [docstring]             results: Alt indikatör sonuçları
L 278 [comment ]         # Sinyal sayımı
L 282 [comment ]         # Çoğunluk kararı
L 292 [docstring]         Tüm indikatörlerden genel trend hesapla
L 295 [docstring]             results: Alt indikatör sonuçları
L 309 [comment ]         # Trend sayımı
L 322 [docstring]         Genel güç skoru hesapla
L 325 [docstring]             results: Alt indikatör sonuçları
L 328 [docstring]             float: Güç skoru (0-100)
L 330 [comment ]         # Hesaplanan indikatör sayısına göre güç ver
L 350 [docstring]             IndicatorResult: Güncel market structure değeri
L 395 [docstring]         Değerden sinyal üret (zaten calculate içinde hesaplanıyor)
L 398 [docstring]             value: Indikatör değeri
L 401 [docstring]             SignalType: HOLD (çünkü zaten hesaplandı)
L 407 [docstring]         Değerden trend belirle (zaten calculate içinde hesaplanıyor)
L 410 [docstring]             value: Indikatör değeri
L 413 [docstring]             TrendDirection: NEUTRAL (çünkü zaten hesaplandı)
L 418 [docstring]         """Varsayılan parametreler"""
L 434 [docstring]         """Output isimlerini döndür"""
L 439 [docstring]         Batch hesaplama - Her bar için market structure hesapla
L 445 [docstring]             pd.DataFrame: Her bar için market structure sonuçları
L 447 [comment ]         # Market structure bulk calculation desteklemiyor çünkü:
L 448 [comment ]         # Her bar için tüm historical data'ya bağımlı
L 449 [comment ]         # Bu yüzden calculate() metodunu döndür
L 452 [comment ]         # Sonuçları DataFrame formatına çevir
L 455 [comment ]         # Her alt indicator için sonuçları ekle
L 478 [comment ]         # Genel sonuçlar
L 494 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 498 [docstring]     """Market Structure indikatör testi"""
L 504 [comment ]     # Örnek veri oluştur
L 505 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 509 [comment ]     # Karmaşık piyasa yapısı simülasyonu
L 514 [comment ]             # Yükseliş
L 520 [comment ]             # Düşüş
L 523 [comment ]             # Yeniden yükseliş
L 535 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 536 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 538 [comment ]     # Test 1: Tüm indikatörlerle hesaplama
L 539 [message ]     print("\n2. Tüm indikatörler aktif testi...")
L 549 [message ]     print(f"   [OK] Oluşturuldu: {ms}")
L 551 [message ]     print(f"   [OK] Gerekli periyot: {ms.get_required_periods()}")
L 554 [message ]     print(f"   [OK] Hesaplanan indikatör: {result.metadata['calculated_count']}")
L 557 [message ]     print(f"   [OK] Genel Güç: {result.strength}")
L 559 [comment ]     # Test 2: Her indikatörün durumu
L 560 [message ]     print("\n3. İndikatör detayları...")
L 567 [message ]                 print(f"       - Zone sayısı: {len(indicator_result['zones'])}")
L 569 [message ]                 print(f"       - Değer: {indicator_result['value']}")
L 571 [message ]             print(f"   [!] {indicator_name.upper()}: Hesaplanamadı")
L 573 [comment ]     # Test 3: Kısmi indikatörler
L 574 [message ]     print("\n4. Kısmi indikatör testi (sadece BOS ve FVG)...")
L 584 [message ]     print(f"   [OK] Aktif indikatörler:")
L 588 [comment ]     # Test 4: BOS detayı
L 589 [message ]     print("\n5. BOS detayı...")
L 592 [message ]         print(f"   [OK] BOS Değer: {bos_data['value']}")
L 597 [comment ]     # Test 5: FVG detayı
L 598 [message ]     print("\n6. FVG detayı...")
L 605 [comment ]     # Test 6: Order Blocks detayı
L 606 [message ]     print("\n7. Order Blocks detayı...")
L 613 [comment ]     # Test 7: İstatistikler
L 614 [message ]     print("\n8. İstatistik testi...")
L 616 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 617 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 622 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 625 [message ]     print(f"   [OK] Output sayısı: {len(metadata.output_names)}")
L 627 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 630 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\orderblocks.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Kurumsal emirlerin bıraktığı izleri tespit eder
L  13 [docstring]     - Güçlü fiyat hareketinden önceki son zıt hareket mumunun bölgesi
L  14 [docstring]     - Smart Money'nin emir bıraktığı bölge
L  15 [docstring]     - Güçlü destek/direnç oluşturur
L  17 [docstring] Formül:
L  19 [docstring]     1. Güçlü yükseliş hareketi tespit et (threshold üzeri)
L  20 [docstring]     2. Bu hareketten önceki son düşüş mumunu bul
L  21 [docstring]     3. O mumun low-high aralığı = Order Block
L  24 [docstring]     1. Güçlü düşüş hareketi tespit et
L  25 [docstring]     2. Bu hareketten önceki son yükseliş mumunu bul
L  26 [docstring]     3. O mumun high-low aralığı = Order Block
L  29 [docstring]     - Fiyat OB'ye döndüğünde genellikle reaksiyon alır
L  30 [docstring]     - Break edilirse geçerliliğini kaybeder
L  32 [docstring] Bağımlılıklar:
L  55 [docstring]     Kurumsal emirlerin bıraktığı bölgeleri tespit eder.
L  56 [docstring]     Güçlü destek/direnç seviyeleri olarak kullanılır.
L  59 [docstring]         strength_threshold: Güçlü hareket eşiği (% değişim) (varsayılan: 1.0)
L  60 [docstring]         max_blocks: Maksimum aktif block sayısı (varsayılan: 5)
L  61 [docstring]         lookback: Geriye bakış periyodu (varsayılan: 20)
L  89 [comment ]         # State: Aktif Order Block'ları takip et
L  93 [docstring]         """Minimum gerekli periyot sayısı"""
L  97 [docstring]         """Parametreleri doğrula"""
L 101 [string  ]                 "Strength threshold pozitif olmalı"
L 106 [string  ]                 "Max blocks pozitif olmalı"
L 111 [string  ]                 "Lookback en az 5 olmalı"
L 124 [docstring]         """Mum değişim yüzdesi"""
L 137 [docstring]         Güçlü fiyat hareketlerini tespit et
L 146 [docstring]             List[Dict]: Güçlü hareketler
L 150 [comment ]         # Son lookback period içinde tara
L 156 [comment ]             # Güçlü yükseliş
L 166 [comment ]             # Güçlü düşüş
L 187 [docstring]         Güçlü hareketten order block çıkar
L 190 [docstring]             move: Güçlü hareket bilgisi
L 199 [comment ]         # Geriye doğru tara
L 204 [comment ]             # Bullish move için son bearish mum
L 217 [comment ]             # Bearish move için son bullish mum
L 240 [docstring]         Order block durumunu güncelle
L 244 [docstring]             current_high, current_low, current_close: Güncel fiyatlar
L 247 [docstring]             Dict: Güncellenmiş block
L 249 [comment ]         # Fiyat block içine girdi mi?
L 255 [comment ]         # Block kırıldı mı?
L 257 [comment ]             # Bullish OB altına kapanış -> broken
L 261 [comment ]             # Bearish OB üstüne kapanış -> broken
L 282 [comment ]         # Güçlü hareketleri tespit et
L 285 [comment ]         # Her güçlü hareketten order block çıkar
L 290 [comment ]                 # Duplicate kontrolü
L 298 [comment ]         # Yeni block'ları ekle
L 301 [comment ]         # Mevcut block'ların durumunu güncelle
L 309 [comment ]         # Kırılmış block'ları kaldır
L 315 [comment ]         # Maksimum block sayısını uygula (en güçlü olanları tut)
L 322 [comment ]         # Değer: Aktif order block'ların listesi
L 361 [docstring]             IndicatorResult: Güncel Order Blocks
L 363 [comment ]         # Buffer yönetimi
L 411 [comment ]         # Güçlü hareketleri tespit et
L 414 [comment ]         # Her güçlü hareketten order block çıkar
L 419 [comment ]                 # Duplicate kontrolü
L 427 [comment ]         # Yeni block'ları ekle
L 430 [comment ]         # Mevcut block'ların durumunu güncelle
L 438 [comment ]         # Kırılmış block'ları kaldır
L 444 [comment ]         # Maksimum block sayısını uygula
L 449 [comment ]         # Değer: Aktif order block'lar
L 509 [docstring]         Order Block'lardan sinyal üret
L 512 [docstring]             zones: Order block zone'ları
L 513 [docstring]             current_price: Güncel fiyat
L 516 [docstring]             SignalType: BUY, SELL veya HOLD
L 521 [comment ]         # Fiyat bir OB zone'una yakın mı?
L 523 [comment ]             # Zone ortası
L 528 [comment ]             # Zone içindeyse veya %2 yakınındaysa
L 533 [string  ]                     return SignalType.SELL  # Bearish OB'de direnç bekle
L 542 [docstring]             zones: Order block zone'ları
L 545 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 553 [comment ]         # Güçlü block'lar daha fazla ağırlık taşır
L 569 [docstring]         """Varsayılan parametreler"""
L 589 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 593 [docstring]     """Order Blocks indikatör testi"""
L 599 [comment ]     # Örnek veri oluştur
L 600 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 604 [comment ]     # Güçlü hareketli fiyat simülasyonu
L 613 [comment ]             # Güçlü yükseliş (Order Block oluşturur)
L 615 [other   ]             close_p = base_price + 2.5  # %2.5 yükseliş
L 622 [comment ]             # Güçlü düşüş (Order Block oluşturur)
L 624 [other   ]             close_p = base_price - 2.0  # %2 düşüş
L 649 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 650 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 655 [message ]     print(f"   [OK] Oluşturuldu: {ob}")
L 657 [message ]     print(f"   [OK] Gerekli periyot: {ob.get_required_periods()}")
L 665 [message ]     print(f"   [OK] Güç: {result.strength}")
L 667 [comment ]     # Test 2: Block detayları
L 668 [message ]     print("\n3. Block detayları...")
L 675 [message ]             print(f"       - Güç: {block['strength']:.2f}%")
L 679 [message ]         print("   [OK] Aktif block bulunamadı")
L 681 [comment ]     # Test 3: Farklı parametreler
L 682 [message ]     print("\n4. Farklı parametre testi...")
L 688 [comment ]     # Test 4: İstatistikler
L 689 [message ]     print("\n5. İstatistik testi...")
L 691 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 692 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 697 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 701 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 704 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\structure\qml.py

```
L   8 [docstring] Açıklama:
L  12 [docstring]     ÇÖZÜM: Agresif optimizasyonlar → 30-60 saniye! 🔥
L  14 [docstring]     HIZ ARTIŞI: 12-24x DAHA HIZLI!
L  18 [docstring]     2. ✅ Early termination - İlk QML bulunca dur
L  23 [docstring] Bağımlılıklar:
L 234 [docstring]     - 4.3M bars: 12 dakika → 30-60 saniye! (12-24x hızlandırma!)
L 239 [docstring]         left_bars: Sol taraf bar sayısı (varsayılan: 5)
L 240 [docstring]         right_bars: Sağ taraf bar sayısı (varsayılan: 5)
L 241 [docstring]         lookback_bars: Pattern araması için geriye bakış (varsayılan: 30)
L 242 [docstring]         break_threshold: Kırılma eşiği (%) (varsayılan: 0.1)
L 280 [string  ]                 "Left bars pozitif olmalı"
L 285 [string  ]                 "Right bars pozitif olmalı"
L 290 [string  ]                 "Lookback bars en az 10 olmalı"
```

### components\indicators\structure\smc.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Smart Money Concepts (SMC) - Tüm bileşenler tek indicator'de
L  11 [docstring]     Bileşenler:
L  13 [docstring]     2. BOS (Break of Structure) - Yapı kırılması
L  14 [docstring]     3. CHoCH (Change of Character) - Trend değişimi
L  15 [docstring]     4. FVG (Fair Value Gap) - Boşluk bölgeleri
L  16 [docstring]     5. Order Blocks - Kurumsal emir bölgeleri (opsiyonel)
L  29 [docstring]     - Tek indicator ekleme ile tüm SMC analizi
L  30 [docstring]     - calculate_batch() ile optimize backtest
L  31 [docstring]     - Internal hesaplamalar - ayrı indicator dependency yok
L  34 [docstring] Bağımlılıklar:
L  59 [docstring]     Tüm SMC bileşenlerini tek bir indicator'de birleştirir.
L  60 [docstring]     Backtest için optimize edilmiş calculate_batch() methodu ile.
L  63 [docstring]         left_bars: Swing point için sol bar sayısı (varsayılan: 5)
L  64 [docstring]         right_bars: Swing point için sağ bar sayısı (varsayılan: 5)
L  65 [docstring]         max_levels: Takip edilecek maksimum swing seviyesi (varsayılan: 5)
L  66 [docstring]         trend_strength: Trend tespiti için minimum swing sayısı (varsayılan: 2)
L  67 [docstring]         fvg_min_size_pct: Minimum FVG boyutu % (varsayılan: 0.1)
L  68 [docstring]         fvg_max_age: FVG maksimum yaşı (bar) (varsayılan: 50)
L  69 [docstring]         ob_strength_threshold: Order Block güç eşiği % (varsayılan: 1.0)
L  70 [docstring]         ob_max_blocks: Maksimum aktif OB sayısı (varsayılan: 3)
L  71 [docstring]         ob_enabled: Order Block tespiti aktif mi (varsayılan: True)
L 128 [docstring]         """Minimum gerekli periyot sayısı"""
L 136 [docstring]         """Parametreleri doğrula"""
L 140 [string  ]                 "Left bars en az 1 olmalı"
L 145 [string  ]                 "Right bars en az 1 olmalı"
L 150 [string  ]                 "Max levels en az 1 olmalı"
L 164 [docstring]         Swing high ve swing low noktalarını tespit et
L 175 [comment ]             # Swing High kontrolü
L 193 [comment ]             # Swing Low kontrolü
L 223 [docstring]         Mevcut trendi tespit et (swing yapısına göre)
L 231 [comment ]         # Son swing high'ları karşılaştır (Higher Highs?)
L 235 [comment ]         # Son swing low'ları karşılaştır (Higher Lows?)
L 239 [comment ]         # Lower Lows ve Lower Highs?
L 340 [docstring]         CHoCH: Trend değişimi - uptrend'de swing low kırılması veya
L 341 [docstring]                downtrend'de swing high kırılması
L 424 [docstring]         FVG: 3 mum arasındaki boşluk
L 425 [docstring]         - Bullish FVG: Mum 1'in high'ı < Mum 3'ün low'u
L 426 [docstring]         - Bearish FVG: Mum 1'in low'u > Mum 3'ün high'ı
L 600 [docstring]         Kombine SMC sinyal üret
L 603 [docstring]         - Bullish BOS veya Bullish CHoCH + FVG >= 0 -> 1 (bullish)
L 604 [docstring]         - Bearish BOS veya Bearish CHoCH + FVG <= 0 -> -1 (bearish)
L 629 [docstring]         Real-time hesaplama (son bar için)
L 637 [comment ]         # Batch hesapla ve son değerleri döndür
L 642 [comment ]         # Son değerleri al
L 698 [docstring]         Batch hesaplama (Backtest için optimize edilmiş)
L 704 [docstring]             pd.DataFrame: Tüm SMC değerleri
L 806 [docstring]             IndicatorResult: Güncel SMC değeri
L 876 [docstring]         """Varsayılan parametreler"""
L 912 [comment ]     # Örnek veri oluştur
L 913 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 917 [comment ]     # Trend simülasyonu
L 947 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 949 [comment ]     # Test 1: Indicator oluşturma
L 950 [message ]     print("\n2. Indicator oluşturma testi...")
L 952 [message ]     print(f"   [OK] {smc.name} oluşturuldu")
L 954 [message ]     print(f"   [OK] Gerekli periyot: {smc.get_required_periods()}")
L 962 [comment ]     # BOS/CHoCH sayıları
L1008 [message ]     print(f"   [OK] İsim: {metadata.name}")
L1013 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\__init__.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Support/Resistance (Destek/Direnç) indikatörleri paketi.
L  10 [docstring]     Bu paket, destek ve direnç seviyelerini tespit eden indikatörleri içerir.
L  12 [docstring] İçindekiler:
L  14 [docstring]     - FibonacciPivot: Fibonacci oranlarıyla pivot seviyeleri
L  15 [docstring]     - Camarilla: Camarilla pivot formülü
L  16 [docstring]     - Woodie: Woodie pivot formülü
L  17 [docstring]     - ZigZag: Swing high/low noktaları
L  18 [docstring]     - SupportResistance: Otomatik destek/direnç tespiti
L  19 [docstring]     - FibonacciRetracement: Fibonacci geri çekilme seviyeleri
L  20 [docstring]     - SwingPoints: Swing high ve low seviyeleri
L  22 [docstring] Kullanım:
L  34 [docstring]     # Pivot Points örneği
L  39 [docstring]     # Fibonacci Retracement örneği
L  44 [docstring] Bağımlılıklar:
L  61 [comment ] # Export edilen sınıflar
L  63 [comment ]     # Pivot tabanlı indikatörler
L  69 [comment ]     # Swing tabanlı indikatörler
L  73 [comment ]     # Seviye tespit indikatörleri
L  78 [comment ] # İndikatör kategorisi bilgisi
L  81 [string  ] CATEGORY_DESCRIPTION = 'Destek ve direnç seviyelerini tespit eden indikatörler'
L  83 [comment ] # İndikatör listesi ve açıklamaları
L  93 [string  ]         'description': 'Fibonacci oranlarıyla pivot seviyeleri',
L  99 [string  ]         'description': 'Camarilla pivot formülü (R1-R4, S1-S4)',
L 105 [string  ]         'description': 'Woodie pivot formülü (Close ağırlıklı)',
L 111 [string  ]         'description': 'Swing high/low noktaları',
L 117 [string  ]         'description': 'Swing high ve low seviyeleri',
L 123 [string  ]         'description': 'Otomatik destek/direnç tespiti',
L 129 [string  ]         'description': 'Fibonacci geri çekilme seviyeleri (0-100%)',
L 137 [docstring]     """Kategorideki tüm indikatörlerin listesini döndür"""
L 143 [docstring]     Belirtilen indikatörün bilgilerini döndür
L 146 [docstring]         indicator_name: İndikatör adı
L 149 [docstring]         dict: İndikatör bilgileri
L 155 [docstring]     """Kategori bilgilerini döndür"""
L 166 [comment ] # KULLANIM ÖRNEĞİ
L 170 [docstring]     """Support/Resistance paketi test ve bilgi"""
L 180 [message ]     print(f"   Açıklama: {cat_info['description']}")
L 181 [message ]     print(f"   İndikatör Sayısı: {cat_info['indicator_count']}")
L 183 [comment ]     # İndikatör listesi
L 184 [message ]     print("\n2. Mevcut İndikatörler:")
L 188 [message ]         print(f"      - Açıklama: {info['description']}")
L 192 [comment ]     # İndikatör gruplaması
L 193 [message ]     print("\n3. İndikatör Grupları:")
L 196 [message ]     print(f"\n   a) Pivot Tabanlı ({len(pivot_indicators)}):")
L 202 [message ]     print(f"\n   b) Swing Tabanlı ({len(swing_indicators)}):")
L 213 [comment ]     # Kullanım örnekleri
L 214 [message ]     print("\n4. Hızlı Kullanım Örnekleri:")
L 232 [message ]     print("      print(result.value)  # Son pivot değeri")
L 240 [comment ]     # İpuçları
L 241 [message ]     print("\n5. Kullanım İpuçları:")
L 242 [message ]     print("   - Pivot indikatörleri genellikle günlük verilerle kullanılır")
L 243 [message ]     print("   - Fibonacci Retracement trend hareketleri için uygundur")
L 244 [message ]     print("   - ZigZag gürültüyü filtrelemek için kullanılır")
L 245 [message ]     print("   - Support/Resistance otomatik seviye tespiti için idealdir")
L 246 [message ]     print("   - Swing Points yerel max/min noktaları için kullanılır")
L 247 [message ]     print("   - Birden fazla indikatörü birlikte kullanarak doğruluk artar")
L 250 [message ]     print(f"Toplam {len(INDICATORS)} Support/Resistance indikatörü hazır!")
```

### components\indicators\support_resistance\camarilla.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Camarilla Pivot Points - Camarilla formülü ile pivot seviyeleri
L  10 [docstring]     Kısa vadeli destek ve direnç seviyelerini belirlemek için kullanılır.
L  11 [docstring]     Genellikle intraday trading için tercih edilir.
L  13 [docstring] Formül:
L  23 [docstring] Bağımlılıklar:
L  45 [docstring]     Önceki periyodun High, Low ve Close değerlerini kullanarak
L  49 [docstring]         period: Pivot hesaplama periyodu (varsayılan: 1 - günlük)
L  72 [docstring]         """Minimum gerekli periyot sayısı"""
L  76 [docstring]         """Parametreleri doğrula"""
L  80 [string  ]                 "Periyot pozitif olmalı"
L  94 [comment ]         # Önceki periyodun H, L, C değerlerini al
L 118 [comment ]         # Seviyeleri sözlük olarak oluştur
L 151 [docstring]         ⚡ VECTORIZED batch Camarilla Pivot Points calculation - BACKTEST için
L 275 [docstring]         Fiyatın camarilla seviyelerine göre sinyal üret
L 278 [docstring]             price: Güncel fiyat
L 282 [docstring]             SignalType: BUY, SELL veya HOLD
L 284 [comment ]         # S3 altında güçlü alım
L 287 [comment ]         # R3 üstünde güçlü satış
L 294 [docstring]         Fiyatın önceki kapanışa göre trend belirle
L 297 [docstring]             price: Güncel fiyat
L 298 [docstring]             close: Önceki kapanış
L 301 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 311 [docstring]         Fiyatın seviyelere göre güç hesapla
L 314 [docstring]             price: Güncel fiyat
L 318 [docstring]             float: Güç değeri (0-100)
L 325 [comment ]             # Yukarı yönde güç
L 328 [comment ]             # Aşağı yönde güç
L 334 [docstring]         """Varsayılan parametreler"""
L 352 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 356 [docstring]     """Camarilla Pivot Points indikatör testi"""
L 362 [comment ]     # Örnek veri oluştur
L 363 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 367 [comment ]     # Fiyat hareketini simüle et
L 383 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 384 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 389 [message ]     print(f"   [OK] Oluşturuldu: {camarilla}")
L 392 [message ]     print(f"   [OK] Gerekli periyot: {camarilla.get_required_periods()}")
L 400 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 403 [comment ]     # Test 2: Farklı periyotlar
L 404 [message ]     print("\n3. Farklı periyot testi...")
L 415 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 416 [message ]     print(f"   [OK] Önceki kapanış: {close_prev}")
L 419 [comment ]     # En yakın seviyeleri bul
L 422 [message ]         print(f"   [OK] Fiyat yükseliyor (Bullish)")
L 425 [message ]         print(f"   [OK] R3: {result.value['R3']} (kritik direnç)")
L 428 [message ]         print(f"   [OK] Fiyat düşüyor (Bearish)")
L 434 [comment ]     # Test 4: İstatistikler
L 435 [message ]     print("\n5. İstatistik testi...")
L 437 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 438 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 443 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 447 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 450 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\fib_retracement.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Fibonacci Retracement - Fibonacci geri çekilme seviyeleri
L  10 [docstring]     Trend hareketi sonrası olası geri çekilme seviyelerini belirler.
L  11 [docstring]     Standart Fibonacci oranları: 0%, 23.6%, 38.2%, 50%, 61.8%, 78.6%, 100%
L  13 [docstring] Formül:
L  18 [docstring] Bağımlılıklar:
L  40 [docstring]     Belirli bir periyottaki en yüksek ve en düşük fiyat arasında
L  41 [docstring]     Fibonacci oranlarına göre geri çekilme seviyelerini hesaplar.
L  44 [docstring]         lookback: Yüksek/düşük arama periyodu (varsayılan: 50)
L  47 [comment ]     # Standart Fibonacci oranları
L  78 [docstring]         """Minimum gerekli periyot sayısı"""
L  82 [docstring]         """Parametreleri doğrula"""
L  86 [string  ]                 "Lookback en az 10 olmalı"
L 100 [comment ]         # Son lookback periyotundaki en yüksek ve en düşük
L 107 [comment ]         # Trend yönünü belirle (high mı low mu önce geldi)
L 114 [comment ]             # Yükseliş trendi - high'dan aşağı doğru retracement
L 119 [comment ]             # Düşüş trendi - low'dan yukarı doğru retracement
L 150 [docstring]         ⚡ VECTORIZED batch Fibonacci Retracement calculation - BACKTEST için
L 278 [docstring]         Fiyatın fibonacci seviyelerine göre sinyal üret
L 281 [docstring]             price: Güncel fiyat
L 283 [docstring]             is_uptrend: Yükseliş trendi mi
L 286 [docstring]             SignalType: BUY, SELL veya HOLD
L 288 [comment ]         # Önemli Fibonacci seviyeleri (38.2, 50.0, 61.8)
L 294 [comment ]             # Yükseliş trendinde geri çekilme alım fırsatı
L 298 [other   ]                 return SignalType.SELL  # Trend zayıfladı
L 300 [comment ]             # Düşüş trendinde geri çekilme satış fırsatı
L 304 [other   ]                 return SignalType.BUY  # Trend zayıfladı
L 310 [docstring]         Trend yönü (calculate içinde belirleniyor)
L 313 [docstring]             value: Değer
L 316 [docstring]             TrendDirection: Trend yönü
L 322 [docstring]         Fiyatın range içindeki konumuna göre güç hesapla
L 325 [docstring]             price: Güncel fiyat
L 330 [docstring]             float: Güç değeri (0-100)
L 335 [comment ]         # Fiyatın range içindeki yüzde konumu
L 340 [docstring]         """Varsayılan parametreler"""
L 358 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 362 [docstring]     """Fibonacci Retracement indikatör testi"""
L 368 [comment ]     # Örnek veri oluştur
L 369 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 373 [comment ]     # Yükseliş trendi simüle et
L 377 [comment ]     # İlk 50 mum: yükseliş
L 379 [other   ]         change = np.random.randn() * 0.5 + 0.3  # Yukarı bias
L 382 [comment ]     # Son 50 mum: geri çekilme
L 384 [other   ]         change = np.random.randn() * 0.5 - 0.1  # Hafif düşüş bias
L 396 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 397 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 402 [message ]     print(f"   [OK] Oluşturuldu: {fib}")
L 405 [message ]     print(f"   [OK] Gerekli periyot: {fib.get_required_periods()}")
L 413 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 416 [comment ]     # Test 2: Farklı lookback değerleri
L 417 [message ]     print("\n3. Farklı lookback testi...")
L 436 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 437 [message ]     print(f"\n   [OK] Önemli Fibonacci Seviyeleri:")
L 439 [message ]     print(f"        23.6% (Zayıf destek): {result.value.get('Fib_23.6', 'N/A')}")
L 441 [message ]     print(f"        50.0% (Güçlü destek): {result.value.get('Fib_50.0', 'N/A')}")
L 442 [message ]     print(f"        61.8% (Altın oran): {result.value.get('Fib_61.8', 'N/A')}")
L 444 [message ]     print(f"        100% (Başlangıç): {result.value.get('Fib_100.0', 'N/A')}")
L 446 [comment ]     # Fiyatın hangi seviye arasında olduğunu bul
L 452 [message ]             print(f"\n   [OK] Fiyat {level1_name} ile {level2_name} arasında")
L 455 [comment ]     # Test 4: Trading stratejisi önerisi
L 458 [message ]         print(f"   [OK] Yükseliş trendinde geri çekilme")
L 459 [message ]         print(f"   [OK] Alım için önemli seviyeler:")
L 460 [message ]         print(f"        - 38.2%: {result.value['Fib_38.2']} (ilk alım)")
L 461 [message ]         print(f"        - 50.0%: {result.value['Fib_50.0']} (ana alım)")
L 462 [message ]         print(f"        - 61.8%: {result.value['Fib_61.8']} (son alım)")
L 463 [message ]         print(f"   [OK] Stop loss: {result.value['Fib_78.6']} altı")
L 465 [message ]         print(f"   [OK] Düşüş trendinde toparlanma")
L 466 [message ]         print(f"   [OK] Satış için önemli seviyeler:")
L 467 [message ]         print(f"        - 38.2%: {result.value['Fib_38.2']} (ilk satış)")
L 468 [message ]         print(f"        - 50.0%: {result.value['Fib_50.0']} (ana satış)")
L 469 [message ]         print(f"        - 61.8%: {result.value['Fib_61.8']} (son satış)")
L 471 [comment ]     # Test 5: İstatistikler
L 472 [message ]     print("\n6. İstatistik testi...")
L 474 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 475 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 480 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 484 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 487 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\fibonacci_pivot.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Fibonacci Pivot Points - Fibonacci oranlarını kullanarak pivot seviyeleri
L  10 [docstring]     Fibonacci ratios (0.382, 0.618, 1.000) ile destek ve direnç seviyeleri hesaplanır.
L  12 [docstring] Formül:
L  21 [docstring] Bağımlılıklar:
L  43 [docstring]     Önceki periyodun High, Low ve Close değerlerini kullanarak
L  44 [docstring]     Fibonacci oranlarıyla pivot seviyeleri (P, R1-R3, S1-S3) hesaplar.
L  47 [docstring]         period: Pivot hesaplama periyodu (varsayılan: 1 - günlük)
L  70 [docstring]         """Minimum gerekli periyot sayısı"""
L  74 [docstring]         """Parametreleri doğrula"""
L  78 [string  ]                 "Periyot pozitif olmalı"
L  92 [comment ]         # Önceki periyodun H, L, C değerlerini al
L 114 [comment ]         # Seviyeleri sözlük olarak oluştur
L 143 [docstring]         ⚡ VECTORIZED batch Fibonacci Pivot Points calculation - BACKTEST için
L 216 [docstring]             IndicatorResult: Güncel indicator değeri
L 261 [docstring]         Fiyatın fibonacci pivot seviyelerine göre sinyal üret
L 264 [docstring]             price: Güncel fiyat
L 268 [docstring]             SignalType: BUY, SELL veya HOLD
L 278 [docstring]         Fiyatın pivot'a göre trend belirle
L 281 [docstring]             price: Güncel fiyat
L 285 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 295 [docstring]         Fiyatın seviyelere göre güç hesapla
L 298 [docstring]             price: Güncel fiyat
L 302 [docstring]             float: Güç değeri (0-100)
L 309 [comment ]             # Yukarı yönde güç
L 312 [comment ]             # Aşağı yönde güç
L 318 [docstring]         """Varsayılan parametreler"""
L 336 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 340 [docstring]     """Fibonacci Pivot Points indikatör testi"""
L 346 [comment ]     # Örnek veri oluştur
L 347 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 351 [comment ]     # Fiyat hareketini simüle et
L 367 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 368 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 373 [message ]     print(f"   [OK] Oluşturuldu: {fib_pivot}")
L 376 [message ]     print(f"   [OK] Gerekli periyot: {fib_pivot.get_required_periods()}")
L 384 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 387 [comment ]     # Test 2: Farklı periyotlar
L 388 [message ]     print("\n3. Farklı periyot testi...")
L 398 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 402 [message ]         print(f"   [OK] Fiyat pivot üstünde (Bullish)")
L 407 [message ]         print(f"   [OK] Fiyat pivot altında (Bearish)")
L 412 [comment ]     # Test 4: İstatistikler
L 413 [message ]     print("\n5. İstatistik testi...")
L 415 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 416 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 421 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 425 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 428 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\pivotpoints.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Destek ve direnç seviyelerini belirlemek için kullanılır.
L  11 [docstring]     Pivot (P), Resistance (R1, R2, R3) ve Support (S1, S2, S3) seviyeleri hesaplanır.
L  13 [docstring] Formül:
L  22 [docstring] Bağımlılıklar:
L  44 [docstring]     Önceki periyodun High, Low ve Close değerlerini kullanarak
L  48 [docstring]         period: Pivot hesaplama periyodu (varsayılan: 1 - günlük)
L  71 [docstring]         """Minimum gerekli periyot sayısı"""
L  75 [docstring]         """Parametreleri doğrula"""
L  79 [string  ]                 "Periyot pozitif olmalı"
L  93 [comment ]         # Önceki periyodun H, L, C değerlerini al
L 114 [comment ]         # Seviyeleri sözlük olarak oluştur (lowercase keys for consistency)
L 145 [docstring]         ⚡ VECTORIZED batch Pivot Points calculation - BACKTEST için
L 282 [docstring]         Fiyatın pivot seviyelerine göre sinyal üret
L 285 [docstring]             price: Güncel fiyat
L 289 [docstring]             SignalType: BUY, SELL veya HOLD
L 299 [docstring]         Fiyatın pivot'a göre trend belirle
L 302 [docstring]             price: Güncel fiyat
L 306 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 316 [docstring]         Fiyatın seviyelere göre güç hesapla
L 319 [docstring]             price: Güncel fiyat
L 323 [docstring]             float: Güç değeri (0-100)
L 331 [comment ]                 # Yukarı yönde güç
L 337 [comment ]                 # Aşağı yönde güç
L 348 [docstring]         """Varsayılan parametreler"""
L 366 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 370 [docstring]     """Pivot Points indikatör testi"""
L 376 [comment ]     # Örnek veri oluştur
L 377 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 381 [comment ]     # Fiyat hareketini simüle et
L 397 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 398 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 403 [message ]     print(f"   [OK] Oluşturuldu: {pivot}")
L 406 [message ]     print(f"   [OK] Gerekli periyot: {pivot.get_required_periods()}")
L 414 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 417 [comment ]     # Test 2: Farklı periyotlar
L 418 [message ]     print("\n3. Farklı periyot testi...")
L 428 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 431 [message ]         print(f"   [OK] Fiyat pivot üstünde (Bullish)")
L 432 [message ]         print(f"   [OK] İlk direnç (R1): {result.value['r1']}")
L 434 [message ]         print(f"   [OK] Fiyat pivot altında (Bearish)")
L 435 [message ]         print(f"   [OK] İlk destek (S1): {result.value['s1']}")
L 437 [comment ]     # Test 4: İstatistikler
L 438 [message ]     print("\n5. İstatistik testi...")
L 440 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 441 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 446 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 450 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 453 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\sr.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Support and Resistance - Otomatik destek ve direnç seviyesi tespiti
L  10 [docstring]     Geçmiş fiyat verilerinden swing high/low noktalarını bularak
L  11 [docstring]     önemli destek ve direnç seviyelerini belirler.
L  13 [docstring] Formül:
L  14 [docstring]     - Yerel maksimum ve minimumları bul
L  15 [docstring]     - Birbirine yakın seviyeleri birleştir
L  16 [docstring]     - Frekansa göre önem sıralaması yap
L  17 [docstring]     - En güçlü N seviyeyi döndür
L  19 [docstring] Bağımlılıklar:
L  41 [docstring]     Geçmiş fiyat verilerinden swing high/low noktalarını bularak
L  42 [docstring]     otomatik olarak destek ve direnç seviyelerini tespit eder.
L  45 [docstring]         lookback: Geriye dönük arama periyodu (varsayılan: 50)
L  46 [docstring]         num_levels: Döndürülecek seviye sayısı (varsayılan: 5)
L  47 [docstring]         tolerance: Seviye birleştirme toleransı % (varsayılan: 0.5)
L  76 [docstring]         """Minimum gerekli periyot sayısı"""
L  80 [docstring]         """Parametreleri doğrula"""
L  84 [string  ]                 "Lookback en az 10 olmalı"
L  89 [string  ]                 "Num levels pozitif olmalı"
L  94 [string  ]                 "Tolerance pozitif olmalı"
L 106 [docstring]             IndicatorResult: Destek ve direnç seviyeleri
L 114 [comment ]         # Bufferları doldur (Incremental update için hazırlık)
L 129 [comment ]         # Swing noktalarını bul
L 133 [comment ]         # Seviyeleri birleştir
L 137 [comment ]         # En güçlü seviyeleri seç
L 143 [comment ]         # Destek ve direnç olarak ayır
L 147 [comment ]         # Seviyeleri oluştur (her zaman 6 key - R1,R2,R3,S1,S2,S3)
L 188 [docstring]         Batch hesaplama (Backtest için)
L 201 [comment ]         # 1. Tüm swing noktalarını önceden bul (Vectorized)
L 202 [comment ]         # Window=5 varsayımıyla
L 207 [comment ]         # Bu tam olarak _find_swing_highs mantığı ama tüm seri için
L 208 [comment ]         # argrelextrema kullanılabilir ama numpy ile sliding window max daha hızlı olabilir
L 210 [comment ]         # Basit döngü ile tüm swingleri bulmak (tüm veri için bir kere)
L 211 [comment ]         # Veya _find_swing_highs metodunu tüm data için çağır
L 215 [comment ]         # Not: _find_swing_highs değer döndürüyor, index değil. Bize index lazım.
L 216 [comment ]         # O yüzden kodu buraya inline edelim veya index döndüren versiyon yapalım.
L 227 [comment ]         # Sonuç arrayleri
L 231 [comment ]         # Her bar için hesapla (Lookback kadar geriye bakarak)
L 232 [comment ]         # Bu kısım loop olmak zorunda çünkü cluster ve select logic karmaşık
L 233 [comment ]         # Ancak sadece swing pointlerin olduğu indexlerde işlem yapmıyoruz, her bar için o anki wind...
L 239 [comment ]             # Bu aralıktaki swingleri filtrele
L 240 [comment ]             # np.searchsorted ile hızlıca aralık bulabiliriz
L 244 [other   ]             h_end = np.searchsorted(all_swing_highs_idx, end_idx) # end_idx dahil değil
L 252 [comment ]             # Birleştir ve Cluster
L 266 [comment ]             # Sonuçları kaydet
L 282 [docstring]             IndicatorResult: Güncel S/R seviyeleri
L 284 [comment ]         # Buffer yönetimi
L 321 [comment ]         # Hesaplama (Mevcut calculate mantığını buffer üzerinde çalıştır)
L 326 [comment ]         # Swing noktalarını bul
L 330 [comment ]         # Seviyeleri birleştir
L 334 [comment ]         # En güçlü seviyeleri seç
L 338 [comment ]         # Destek ve direnç olarak ayır
L 342 [comment ]         # Seviyeleri oluştur (her zaman 6 key - R1,R2,R3,S1,S2,S3)
L 377 [docstring]         Swing high noktalarını bul
L 380 [docstring]             high: High fiyatları
L 394 [docstring]         Swing low noktalarını bul
L 397 [docstring]             low: Low fiyatları
L 411 [docstring]         Birbirine yakın seviyeleri birleştir
L 417 [docstring]             np.ndarray: Birleştirilmiş seviyeler
L 427 [comment ]             # Önceki seviyeyle yüzde farkı hesapla
L 431 [comment ]                 # Aynı cluster'a ekle
L 434 [comment ]                 # Yeni cluster başlat
L 438 [comment ]         # Son cluster'ı ekle
L 446 [docstring]         En güçlü seviyeleri seç
L 450 [docstring]             current_price: Güncel fiyat
L 453 [docstring]             list: Seçilmiş seviyeler
L 458 [comment ]         # Güncel fiyata yakınlığa göre sırala ve seç
L 462 [comment ]         # En yakın num_levels kadar seviye seç
L 468 [docstring]         Fiyatın S/R seviyelerine göre sinyal üret
L 471 [docstring]             price: Güncel fiyat
L 472 [docstring]             levels: Destek/Direnç seviyeleri
L 475 [docstring]             SignalType: BUY, SELL veya HOLD
L 477 [comment ]         # En yakın destek ve dirençleri bul
L 482 [comment ]             # Destek seviyesine yakın
L 485 [comment ]             # Direnç seviyesine yakın
L 492 [docstring]         Fiyatın S/R seviyelerine göre trend belirle
L 495 [docstring]             price: Güncel fiyat
L 497 [docstring]             resistances: Direnç seviyeleri
L 500 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 503 [other   ]             return TrendDirection.UP  # Tüm seviyeler altında kaldı
L 505 [other   ]             return TrendDirection.DOWN  # Tüm seviyeler üstüne çıktı
L 511 [docstring]         Fiyatın seviyelere göre güç hesapla
L 514 [docstring]             price: Güncel fiyat
L 515 [docstring]             levels: Destek/Direnç seviyeleri
L 518 [docstring]             float: Güç değeri (0-100)
L 533 [comment ]         # Fiyatın seviyeler arasındaki konumu
L 538 [docstring]         """Varsayılan parametreler"""
L 558 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 562 [docstring]     """Support/Resistance indikatör testi"""
L 568 [comment ]     # Örnek veri oluştur
L 569 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 573 [comment ]     # Trend değişimleriyle fiyat hareketi simüle et
L 592 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 593 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 598 [message ]     print(f"   [OK] Oluşturuldu: {sr}")
L 601 [message ]     print(f"   [OK] Gerekli periyot: {sr.get_required_periods()}")
L 606 [string  ]         level_type = "Direnç" if level.startswith('R') else "Destek"
L 610 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 613 [comment ]     # Test 2: Farklı lookback değerleri
L 614 [message ]     print("\n3. Farklı lookback testi...")
L 621 [comment ]     # Test 3: Farklı seviye sayıları
L 622 [message ]     print("\n4. Farklı seviye sayısı testi...")
L 632 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 640 [message ]         print(f"   [OK] En yakın destek: {nearest_support:.2f} (Uzaklık: {distance_to_support:.2f}%)...
L 645 [message ]         print(f"   [OK] En yakın direnç: {nearest_resistance:.2f} (Uzaklık: {distance_to_resistance:...
L 647 [comment ]     # Test 5: İstatistikler
L 648 [message ]     print("\n6. İstatistik testi...")
L 650 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 651 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 656 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 660 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 663 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\swing_points.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Swing Points - Swing high ve swing low noktalarını tespit eder
L  10 [docstring]     Yerel maksimum ve minimum noktaları belirleyerek potansiyel
L  11 [docstring]     destek ve direnç seviyelerini gösterir.
L  13 [docstring] Formül:
L  14 [docstring]     Swing High: Ortadaki mum, solundaki ve sağındaki N mumdan yüksek
L  15 [docstring]     Swing Low: Ortadaki mum, solundaki ve sağındaki N mumdan düşük
L  16 [docstring]     N = left_bars veya right_bars
L  18 [docstring] Bağımlılıklar:
L  40 [docstring]     Yerel maksimum (swing high) ve minimum (swing low) noktalarını
L  41 [docstring]     tespit eder. Her swing noktası, belirtilen sayıda önceki ve sonraki
L  42 [docstring]     mumdan daha yüksek veya düşük olmalıdır.
L  45 [docstring]         left_bars: Sol taraftaki karşılaştırma mum sayısı (varsayılan: 5)
L  46 [docstring]         right_bars: Sağ taraftaki karşılaştırma mum sayısı (varsayılan: 5)
L  47 [docstring]         lookback: Geriye dönük arama periyodu (varsayılan: 50)
L  76 [docstring]         """Minimum gerekli periyot sayısı"""
L  80 [docstring]         """Parametreleri doğrula"""
L  84 [string  ]                 "Left bars pozitif olmalı"
L  89 [string  ]                 "Right bars pozitif olmalı"
L  95 [string  ]                 f"Lookback en az {min_lookback} olmalı (left_bars + right_bars)"
L 107 [docstring]             IndicatorResult: Swing high ve low seviyeleri
L 109 [comment ]         # Lookback periyodu + sağ taraf için extra veri al
L 114 [comment ]         # Swing noktalarını bul
L 121 [comment ]         # Swing seviyelerini oluştur (son swing high ve low - calculate_batch ile tutarlı)
L 150 [docstring]         Swing high noktalarını bul
L 153 [docstring]             high: High fiyatları
L 160 [comment ]         # Sadece tamamlanmış swing'leri kontrol et (sağ taraf için veri olmalı)
L 162 [comment ]             # Sol taraf kontrolü
L 165 [comment ]             # Sağ taraf kontrolü
L 175 [docstring]         Swing low noktalarını bul
L 178 [docstring]             low: Low fiyatları
L 185 [comment ]         # Sadece tamamlanmış swing'leri kontrol et (sağ taraf için veri olmalı)
L 187 [comment ]             # Sol taraf kontrolü
L 190 [comment ]             # Sağ taraf kontrolü
L 278 [docstring]         Fiyatın swing noktalarına göre sinyal üret
L 281 [docstring]             price: Güncel fiyat
L 286 [docstring]             SignalType: BUY, SELL veya HOLD
L 294 [comment ]         # En yakın swing seviyesine yakınlık kontrolü
L 298 [other   ]         if distance_to_low < 0.01:  # %1 içinde
L 300 [other   ]         elif distance_to_high < 0.01:  # %1 içinde
L 307 [docstring]         Swing noktalarına göre trend belirle
L 314 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 319 [comment ]         # Yükselen dip ve yükselen tepe = yükseliş trendi
L 320 [comment ]         # Alçalan dip ve alçalan tepe = düşüş trendi
L 335 [docstring]         Fiyatın swing noktalarına göre güç hesapla
L 338 [docstring]             price: Güncel fiyat
L 343 [docstring]             float: Güç değeri (0-100)
L 354 [comment ]         # Fiyatın swing range içindeki konumu
L 359 [docstring]         """Varsayılan parametreler"""
L 372 [docstring]         ⚡ VECTORIZED batch Swing Points calculation - BACKTEST için
L 455 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 459 [docstring]     """Swing Points indikatör testi"""
L 465 [comment ]     # Örnek veri oluştur
L 466 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 470 [comment ]     # Dalgalı fiyat hareketi simüle et
L 475 [comment ]         # Sinüs dalgası + noise
L 489 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 490 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 495 [message ]     print(f"   [OK] Oluşturuldu: {swing}")
L 498 [message ]     print(f"   [OK] Gerekli periyot: {swing.get_required_periods()}")
L 507 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 510 [comment ]     # Test 2: Farklı left/right bar kombinasyonları
L 511 [message ]     print("\n3. Farklı bar kombinasyonu testi...")
L 518 [comment ]     # Test 3: Farklı lookback değerleri
L 519 [message ]     print("\n4. Farklı lookback testi...")
L 533 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 541 [message ]         print(f"   [OK] Fiyat konumu: {position:.1f}% (range içinde)")
L 544 [message ]             print(f"   [OK] Fiyat swing range'in üst bölgesinde (direnç yakını)")
L 546 [message ]             print(f"   [OK] Fiyat swing range'in alt bölgesinde (destek yakını)")
L 548 [message ]             print(f"   [OK] Fiyat swing range'in orta bölgesinde")
L 554 [message ]         print(f"   [OK] Yükselen dipler ve tepeler - Yükseliş trendi")
L 555 [message ]         print(f"   [OK] Strateji: Swing low seviyelerinde alım ara")
L 557 [message ]         print(f"   [OK] Alçalan dipler ve tepeler - Düşüş trendi")
L 558 [message ]         print(f"   [OK] Strateji: Swing high seviyelerinde satış ara")
L 560 [message ]         print(f"   [OK] Net bir trend yok - Yatay hareket")
L 561 [message ]         print(f"   [OK] Strateji: Range trading (destek/dirençten işlem)")
L 563 [comment ]     # Test 6: İstatistikler
L 564 [message ]     print("\n7. İstatistik testi...")
L 566 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 567 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 572 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 576 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 579 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\woodie.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Woodie Pivot Points - Woodie formülü ile pivot seviyeleri
L  10 [docstring]     Close fiyatına daha fazla ağırlık veren pivot hesaplama yöntemi.
L  11 [docstring]     Günlük trading için yaygın olarak kullanılır.
L  13 [docstring] Formül:
L  20 [docstring] Bağımlılıklar:
L  42 [docstring]     Önceki periyodun High, Low ve Close değerlerini kullanarak
L  44 [docstring]     Close fiyatına daha fazla ağırlık verir.
L  47 [docstring]         period: Pivot hesaplama periyodu (varsayılan: 1 - günlük)
L  70 [docstring]         """Minimum gerekli periyot sayısı"""
L  74 [docstring]         """Parametreleri doğrula"""
L  78 [string  ]                 "Periyot pozitif olmalı"
L  92 [comment ]         # Önceki periyodun H, L, C değerlerini al
L  97 [comment ]         # Woodie Pivot Point hesapla (Close'a daha fazla ağırlık)
L 111 [comment ]         # Seviyeleri sözlük olarak oluştur
L 140 [docstring]         ⚡ VECTORIZED batch Woodie Pivot Points calculation - BACKTEST için
L 248 [docstring]         Fiyatın woodie pivot seviyelerine göre sinyal üret
L 251 [docstring]             price: Güncel fiyat
L 255 [docstring]             SignalType: BUY, SELL veya HOLD
L 265 [docstring]         Fiyatın pivot'a göre trend belirle
L 268 [docstring]             price: Güncel fiyat
L 272 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 282 [docstring]         Fiyatın seviyelere göre güç hesapla
L 285 [docstring]             price: Güncel fiyat
L 289 [docstring]             float: Güç değeri (0-100)
L 296 [comment ]             # Yukarı yönde güç
L 299 [comment ]             # Aşağı yönde güç
L 305 [docstring]         """Varsayılan parametreler"""
L 323 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 327 [docstring]     """Woodie Pivot Points indikatör testi"""
L 333 [comment ]     # Örnek veri oluştur
L 334 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 338 [comment ]     # Fiyat hareketini simüle et
L 354 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 355 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 360 [message ]     print(f"   [OK] Oluşturuldu: {woodie}")
L 363 [message ]     print(f"   [OK] Gerekli periyot: {woodie.get_required_periods()}")
L 371 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 374 [comment ]     # Test 2: Farklı periyotlar
L 375 [message ]     print("\n3. Farklı periyot testi...")
L 381 [comment ]     # Test 3: Classic Pivot ile karşılaştırma
L 382 [message ]     print("\n4. Classic Pivot ile karşılaştırma...")
L 395 [message ]     print(f"   [OK] Woodie, Close'a daha fazla ağırlık verir")
L 400 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 403 [message ]         print(f"   [OK] Fiyat pivot üstünde (Bullish)")
L 407 [message ]         print(f"   [OK] Fiyat pivot altında (Bearish)")
L 411 [comment ]     # Test 5: İstatistikler
L 412 [message ]     print("\n6. İstatistik testi...")
L 414 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 415 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 420 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 424 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 427 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\support_resistance\zigzag.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     ZigZag - Swing high ve low noktalarını belirler
L  10 [docstring]     Belirli bir yüzde değişim eşiğini aşan fiyat hareketlerini filtreler.
L  11 [docstring]     Trend değişimlerini ve önemli destek/direnç noktalarını gösterir.
L  13 [docstring] Formül:
L  14 [docstring]     - Fiyat önceki pivot'tan %deviation kadar değiştiğinde yeni pivot oluşur
L  15 [docstring]     - Swing High: Yukarı yönlü pivot noktası
L  16 [docstring]     - Swing Low: Aşağı yönlü pivot noktası
L  18 [docstring] Bağımlılıklar:
L  40 [docstring]     Belirli bir yüzde değişim eşiğini aşan fiyat hareketlerini filtreler
L  41 [docstring]     ve swing high/low noktalarını belirler.
L  44 [docstring]         deviation: Minimum değişim yüzdesi (varsayılan: 5.0)
L  45 [docstring]         depth: Geriye dönük arama derinliği (varsayılan: 12)
L  71 [docstring]         """Minimum gerekli periyot sayısı"""
L  75 [docstring]         """Parametreleri doğrula"""
L  79 [string  ]                 "Deviation pozitif olmalı"
L  84 [string  ]                 "Depth pozitif olmalı"
L  96 [docstring]             IndicatorResult: Son pivot değeri ve bilgileri
L 102 [comment ]         # Bufferları doldur (Incremental update için hazırlık)
L 113 [comment ]         # Not: Tam senkronizasyon için tüm geçmişi işleyip state'i kurmak gerekir.
L 114 [comment ]         # Ancak calculate() zaten tüm geçmişi işliyor.
L 115 [comment ]         # Biz sadece son durumu state'e aktaracağız.
L 117 [comment ]         # Calculate çağrıldığında state'i sıfırlayıp yeniden kurmak en doğrusu
L 118 [comment ]         # Ama bu pahalı olabilir.
L 119 [comment ]         # Basitçe son durumu alalım:
L 121 [comment ]         # Pivots zaten hesaplandı
L 135 [comment ]         # Bufferları son verilerle doldur
L 144 [comment ]         # Pivotları bul
L 159 [string  ]                 trend = TrendDirection.DOWN  # High'dan sonra düşüş beklenir
L 162 [string  ]                 trend = TrendDirection.UP  # Low'dan sonra yükseliş beklenir
L 165 [comment ]             # Güç hesapla (son pivot'tan uzaklık)
L 169 [comment ]             # Önceki pivot varsa ona göre sinyal güncelle
L 172 [comment ]                 # Trend doğrultusunda hareket ediyorsa sinyali güçlendir
L 214 [docstring]         Batch hesaplama (Backtest için)
L 220 [docstring]             pd.DataFrame: ZigZag değerleri
L 227 [comment ]         # Sonuçları DataFrame'e dönüştür
L 228 [comment ]         # Her bar için o anki "son pivot" değerini döndüreceğiz
L 233 [comment ]         # Pivotları zaman serisine yay
L 235 [comment ]         # Pivotlar bulundukları index'te "oluşur" (veya teyit edilir).
L 236 [comment ]         # Ancak ZigZag genellikle geçmişe dönük çizilir.
L 237 [comment ]         # Real-time kullanım için: O an bilinen son pivot değeri geçerlidir.
L 245 [comment ]         # Bu döngü biraz verimsiz olabilir ama ZigZag doğası gereği sparse.
L 246 [comment ]         # Daha hızlı yöntem: Pivot indexlerini kullanıp fillna yapmak.
L 248 [comment ]         # Pivotların oluştuğu indexleri al
L 253 [comment ]         # Series oluştur
L 257 [comment ]         # Pivot noktalarını işaretle
L 260 [comment ]             # İlk pivot öncesi değer yok (veya ilk fiyat?)
L 261 [comment ]             # İlk pivot indexine kadar NaN kalabilir veya backfill yapılabilir.
L 262 [comment ]             # Biz forward fill mantığıyla gideceğiz.
L 264 [comment ]             # Pivotları yerleştir
L 265 [comment ]             # Dikkat: Pivot indexi, pivotun "oluştuğu" yer değil, "zirve/dip" yaptığı yerdir.
L 266 [comment ]             # Ancak teyit edildiği yer (confirmation) daha ileride olabilir.
L 267 [comment ]             # _find_pivots logic'inde pivot eklendiği an (loop index i), teyit anıdır.
L 268 [comment ]             # Ancak pivot['index'] zirve noktasıdır.
L 269 [comment ]             # Real-time simülasyonu için: Pivot teyit edildiği andan itibaren geçerlidir.
L 270 [comment ]             # Ancak _find_pivots teyit anını döndürmüyor, sadece pivot noktasını döndürüyor.
L 271 [comment ]             # Bu yüzden batch hesaplamada "repainting" olmadan (lookahead olmadan) değer üretmek zor...
L 273 [comment ]             # Basit yaklaşım: Pivot noktalarını yerleştir ve forward fill yap (Step function).
L 274 [comment ]             # Bu, "son bilinen pivot" mantığıdır.
L 276 [comment ]             # Ancak _find_pivots listesi sıralı mı? Evet.
L 278 [comment ]             # Pivot indexlerini data indexine çevir
L 281 [comment ]             # Ancak burada bir sorun var: Pivot indexi geçmişte kalmış olabilir.
L 282 [comment ]             # Bizim batch sonucumuzda, t anında "bilinen son pivot" olmalı.
L 283 [comment ]             # _find_pivots fonksiyonunu modifiye etmeden teyit anını bilemeyiz.
L 284 [comment ]             # Ama _find_pivots fonksiyonu teyit anında listeye ekliyor.
L 285 [comment ]             # Yani pivot listesindeki sıra, teyit sırasıdır.
L 287 [comment ]             # Tekrar _find_pivots mantığını batch içinde simüle etmek yerine,
L 288 [comment ]             # _find_pivots'u kullanıp, pivot indexlerine göre yerleştirip ffill yapalım.
L 289 [comment ]             # Bu "repainting" içerir (çünkü pivot indexi t-k olabilir).
L 290 [comment ]             # Ama görselleştirme ve trend takibi için genelde bu istenir.
L 292 [comment ]             # Eğer "non-repainting" istiyorsak, teyit anını bilmemiz lazım.
L 293 [comment ]             # Şimdilik standart ZigZag davranışı (pivot noktalarını birleştiren çizgi) yerine
L 294 [comment ]             # "Son Pivot Değeri"ni döndüreceğiz.
L 318 [docstring]             IndicatorResult: Güncel ZigZag değeri
L 320 [comment ]         # Buffer yönetimi
L 323 [comment ]             # Depth kadar geriye bakmamız lazım
L 329 [other   ]             self._last_pivot_idx = 0 # Relative index veya count
L 331 [other   ]             self._pivots = [] # Son birkaç pivotu tutabiliriz
L 353 [comment ]              # İlk değerler için basit initialization
L 368 [comment ]         # _find_pivots mantığını tek bir adım için uygula
L 373 [comment ]         # Son depth kadar pencere
L 375 [comment ]         # Buffer zaten son (depth+1) veriyi tutuyor.
L 376 [comment ]         # i (şu an) buffer'ın son elemanı.
L 384 [comment ]         # İlk pivot initialization (eğer henüz yoksa)
L 387 [comment ]             # Basitçe en yüksek/düşük ile başla
L 393 [comment ]                 # Henüz belirgin hareket yok
L 398 [comment ]             # Mevcut pivot var, yenisini ara
L 401 [comment ]                 # Eğer none ise ve yükseliş varsa high başlat
L 422 [comment ]         # Sonuç oluştur
L 426 [comment ]         # Sinyal ve Trend (calculate metodundan alındı)
L 461 [docstring]         Swing high ve low noktalarını bul
L 464 [docstring]             high: High fiyatları
L 465 [docstring]             low: Low fiyatları
L 468 [docstring]             list: Pivot noktaları listesi
L 475 [comment ]         # İlk pivot'u bul
L 489 [comment ]         # Devam eden pivotları bul
L 527 [docstring]         ZigZag değerinden sinyal üret (calculate içinde yapılıyor)
L 530 [docstring]             value: ZigZag değeri
L 533 [docstring]             SignalType: BUY, SELL veya HOLD
L 539 [docstring]         ZigZag değerinden trend belirle (calculate içinde yapılıyor)
L 542 [docstring]             value: ZigZag değeri
L 545 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 550 [docstring]         """Varsayılan parametreler"""
L 569 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 573 [docstring]     """ZigZag indikatör testi"""
L 579 [comment ]     # Örnek veri oluştur
L 580 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 584 [comment ]     # Trend değişimleriyle fiyat hareketi simüle et
L 587 [other   ]     trend = 1  # 1: yukarı, -1: aşağı
L 590 [comment ]         # Her 20 mumda trend değiştir
L 606 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 607 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 612 [message ]     print(f"   [OK] Oluşturuldu: {zigzag}")
L 615 [message ]     print(f"   [OK] Gerekli periyot: {zigzag.get_required_periods()}")
L 622 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 624 [message ]     print(f"   [OK] Fiyat Değişim %: {result.metadata['price_change_pct']}")
L 626 [comment ]     # Test 2: Farklı deviation değerleri
L 627 [message ]     print("\n3. Farklı deviation testi...")
L 634 [comment ]     # Test 3: Farklı depth değerleri
L 635 [message ]     print("\n4. Farklı depth testi...")
L 649 [message ]     print(f"   [OK] Güncel fiyat: {current}")
L 653 [message ]         print(f"   [OK] Son swing high'dan sonra düşüş trendi")
L 655 [message ]             print(f"   [OK] Fiyat pivot altında, düşüş devam ediyor")
L 657 [message ]             print(f"   [OK] Fiyat pivot üstünde, toparlanma sinyali")
L 659 [message ]         print(f"   [OK] Son swing low'dan sonra yükseliş trendi")
L 661 [message ]             print(f"   [OK] Fiyat pivot üstünde, yükseliş devam ediyor")
L 663 [message ]             print(f"   [OK] Fiyat pivot altında, zayıflama sinyali")
L 665 [comment ]     # Test 5: İstatistikler
L 666 [message ]     print("\n6. İstatistik testi...")
L 668 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 669 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 674 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 678 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 681 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\__init__.py

```
L   9 [docstring]     Trend kategorisindeki tüm indikatörleri içerir.
L  10 [docstring]     15 trend indikatörü:
L  21 [docstring]     Trend Strength (Trend Gücü):
L  36 [docstring]     # SMA kullanımı
L  40 [docstring]     # MACD kullanımı
L 111 [comment ] # Indikatör sayısı
L 114 [comment ] # Kategori bazında indikatörler
L 126 [docstring]     Tüm trend indikatörlerinin listesini döndür
L 129 [docstring]         list: Tüm trend indikatör class'ları
L 140 [docstring]     Sadece hareketli ortalamaları döndür
L 143 [docstring]         list: Moving average indikatör class'ları
L 150 [docstring]     Trend gücü indikatörlerini döndür
L 153 [docstring]         list: Trend strength indikatör class'ları
L 160 [docstring]     Kanal indikatörlerini döndür
L 163 [docstring]         list: Channel indikatör class'ları
L 170 [docstring]     Tüm trend indikatörleri hakkında bilgi
L 173 [docstring]         dict: İndikatör bilgileri
L 199 [docstring]     """Import edilen indikatörleri doğrula"""
L 209 [comment ] # Otomatik doğrulama
L 231 [message ]     print("\n2. Kategori Bazında İndikatörler:")
L 247 [message ]     print(f"   [OK] {len(all_indicators)} indikatör başarıyla import edildi")
L 249 [comment ]     # Her indikatörü kontrol et
L 250 [message ]     print("\n4. İndikatör Kontrolleri:")
L 253 [comment ]             # Varsayılan parametrelerle oluştur
L 257 [message ]             print(f"   [HATA] {ind_class.__name__}: {e}")
L 262 [message ]     print(f"   [OK] get_indicator_info() çalıştı")
L 263 [message ]     print(f"   [OK] Toplam: {info['total_count']} indikatör")
L 265 [comment ]     # Export kontrolü
L 266 [message ]     print("\n6. Export Kontrolü:")
L 267 [message ]     print(f"   [OK] __all__ içinde {len(__all__)} item var")
L 272 [message ]     print("[BAŞARILI] TREND PACKAGE TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\adx.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     ADX (Average Directional Index) - Ortalama yönlü hareket endeksi
L  10 [docstring]     J. Welles Wilder tarafından geliştirilmiş trend gücü indikatörü
L  11 [docstring]     +DI, -DI ve ADX olmak üzere 3 değer üretir
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Trend gücünü ölçme (ADX > 25 güçlü trend)
L  15 [docstring]     - Trend yönünü belirleme (+DI vs -DI)
L  18 [docstring] Formül:
L  27 [docstring] Bağımlılıklar:
L  49 [docstring]     Trend gücünü ve yönünü ölçen indikatör.
L  50 [docstring]     +DI, -DI ve ADX değerlerini hesaplar.
L  53 [docstring]         period: ADX periyodu (varsayılan: 14)
L  54 [docstring]         adx_threshold: Trend gücü eşiği (varsayılan: 25)
L  80 [docstring]         """Minimum gerekli periyot sayısı"""
L  81 [other   ]         return self.period * 2  # ADX için smoothing gerekli
L  84 [docstring]         """Parametreleri doğrula"""
L  88 [string  ]                 "Periyot pozitif olmalı"
L  93 [string  ]                 "ADX eşiği 0-100 arasında olmalı"
L 105 [docstring]             IndicatorResult: ADX, +DI, -DI değerleri
L 111 [comment ]         # +DM ve -DM hesapla
L 141 [comment ]         # Son değerler
L 148 [comment ]         # Trend ve sinyal belirleme
L 187 [docstring]         """DM/TR oranını smoothing ile hesapla"""
L 190 [comment ]         # İlk period için ortalama
L 207 [docstring]         """DX değerlerini smooth ederek ADX hesapla"""
L 210 [comment ]         # İlk ADX = DX'lerin ortalaması
L 278 [docstring]             IndicatorResult: Güncel ADX değerleri
L 346 [docstring]         ADX'den sinyal üret
L 349 [docstring]             adx: ADX değeri
L 350 [docstring]             plus_di: +DI değeri
L 351 [docstring]             minus_di: -DI değeri
L 357 [other   ]             return SignalType.HOLD  # Zayıf trend
L 368 [docstring]         DI değerlerinden trend belirle
L 371 [docstring]             plus_di: +DI değeri
L 372 [docstring]             minus_di: -DI değeri
L 416 [docstring]         """Varsayılan parametreler"""
L 439 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 443 [docstring]     """ADX indikatör testi"""
L 449 [comment ]     # Örnek veri oluştur
L 450 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 454 [comment ]     # Güçlü trend simülasyonu
L 458 [other   ]         trend = 1.2  # Güçlü yükseliş
L 471 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 472 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 477 [message ]     print(f"   [OK] Oluşturuldu: {adx}")
L 480 [message ]     print(f"   [OK] Gerekli periyot: {adx.get_required_periods()}")
L 488 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 491 [comment ]     # Test 2: Trend gücü analizi
L 492 [message ]     print("\n3. Trend gücü analizi...")
L 494 [message ]         print(f"   [OK] Güçlü trend tespit edildi (ADX={result.value['adx']:.2f} > {adx.adx_threshol...
L 496 [message ]         print(f"   [OK] Zayıf trend (ADX={result.value['adx']:.2f} < {adx.adx_threshold})")
L 509 [comment ]     # Test 4: Farklı periyotlar
L 510 [message ]     print("\n5. Farklı periyot testi...")
L 516 [comment ]     # Test 5: İstatistikler
L 517 [message ]     print("\n6. İstatistik testi...")
L 519 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 520 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 525 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 530 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\aroon.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Aroon - Trend gücünü ve yönünü belirleyen indikatör
L  10 [docstring]     Tushar Chande tarafından 1995'te geliştirilmiş
L  11 [docstring]     Aroon Up ve Aroon Down olmak üzere iki çizgiden oluşur
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Yeni trendlerin başlangıcını tespit etme
L  15 [docstring]     - Trend gücünü ölçme
L  16 [docstring]     - Konsolidasyon dönemlerini belirleme
L  18 [docstring] Formül:
L  19 [docstring]     Aroon Up = ((period - En yüksek değere olan periyot) / period) × 100
L  20 [docstring]     Aroon Down = ((period - En düşük değere olan periyot) / period) × 100
L  22 [docstring]     Aroon Up > 70 ve Aroon Down < 30: Güçlü yükseliş trendi
L  23 [docstring]     Aroon Down > 70 ve Aroon Up < 30: Güçlü düşüş trendi
L  25 [docstring] Bağımlılıklar:
L  47 [docstring]     En yüksek ve en düşük değerlerin ne kadar yakın zamanda olduğunu ölçer.
L  50 [docstring]         period: Aroon periyodu (varsayılan: 25)
L  73 [docstring]         """Minimum gerekli periyot sayısı"""
L  77 [docstring]         """Parametreleri doğrula"""
L  81 [string  ]                 "Periyot pozitif olmalı"
L  93 [docstring]             IndicatorResult: Aroon Up ve Aroon Down değerleri
L  98 [comment ]         # Son period için yüksek ve düşük değerleri
L 102 [comment ]         # En yüksek ve en düşük değerlerin indexlerini bul
L 103 [comment ]         # argmax/argmin son index'i döner
L 107 [comment ]         # Aroon Up ve Down hesapla
L 116 [comment ]         # Trend ve sinyal belirleme
L 142 [docstring]         """Trend gücünü değerlendir"""
L 156 [docstring]         ⚡ VECTORIZED batch Aroon calculation - BACKTEST için
L 218 [docstring]         Warmup buffer - update() için gerekli
L 222 [docstring]             symbol: Sembol adı (opsiyonel)
L 229 [comment ]         # Buffer'ları oluştur ve doldur
L 294 [docstring]         Aroon'dan sinyal üret
L 297 [docstring]             aroon_up: Aroon Up değeri
L 298 [docstring]             aroon_down: Aroon Down değeri
L 314 [docstring]             aroon_up: Aroon Up değeri
L 315 [docstring]             aroon_down: Aroon Down değeri
L 327 [docstring]         """Varsayılan parametreler"""
L 349 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 353 [docstring]     """Aroon indikatör testi"""
L 359 [comment ]     # Örnek veri oluştur
L 360 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 364 [comment ]     # Trend değişimi simülasyonu
L 369 [other   ]             trend = 1.0  # Yükseliş
L 373 [other   ]             trend = -0.8  # Düşüş
L 386 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 387 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 392 [message ]     print(f"   [OK] Oluşturuldu: {aroon}")
L 395 [message ]     print(f"   [OK] Gerekli periyot: {aroon.get_required_periods()}")
L 403 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 406 [comment ]     # Test 2: Trend gücü analizi
L 407 [message ]     print("\n3. Trend gücü analizi...")
L 408 [message ]     print(f"   [OK] Trend Gücü: {result.metadata['trend_strength']}")
L 409 [message ]     print(f"   [OK] En yüksek {result.metadata['high_periods_ago']} periyot önce")
L 410 [message ]     print(f"   [OK] En düşük {result.metadata['low_periods_ago']} periyot önce")
L 412 [comment ]     # Test 3: Farklı veri dilimleri
L 413 [message ]     print("\n4. Farklı veri dilimi testi...")
L 419 [comment ]     # Test 4: Farklı periyotlar
L 420 [message ]     print("\n5. Farklı periyot testi...")
L 426 [comment ]     # Test 5: İstatistikler
L 427 [message ]     print("\n6. İstatistik testi...")
L 429 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 430 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 435 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 440 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\dema.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     DEMA (Double Exponential Moving Average) - Çift üssel hareketli ortalama
L  10 [docstring]     Patrick Mulloy tarafından geliştirilmiş, lag'ı azaltan trend indikatörü
L  11 [docstring]     İki EMA kombinasyonu kullanarak hızlı ve smooth sinyal üretir
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Düşük lag ile trend takibi
L  15 [docstring]     - Hızlı trend değişimlerini yakalama
L  18 [docstring] Formül:
L  24 [docstring] Bağımlılıklar:
L  47 [docstring]     İki katlı EMA ile lag'ı azaltan ve smooth olan trend indikatörü.
L  50 [docstring]         period: DEMA periyodu (varsayılan: 20)
L  61 [comment ]         # EMA indikatörünü kullan (code reuse)
L  76 [docstring]         """Minimum gerekli periyot sayısı"""
L  77 [comment ]         # DEMA için 2x EMA hesabı yapılacağı için daha fazla veri gerekli
L  81 [docstring]         """Parametreleri doğrula"""
L  85 [string  ]                 "Periyot pozitif olmalı"
L  97 [docstring]             IndicatorResult: DEMA değeri
L 176 [docstring]         Warmup buffer - update() için gerekli
L 180 [docstring]             symbol: Sembol adı (opsiyonel)
L 226 [docstring]         DEMA'dan sinyal üret
L 229 [docstring]             price: Mevcut fiyat
L 230 [docstring]             dema: DEMA değeri
L 233 [docstring]             SignalType: BUY (fiyat DEMA üstüne çıkınca), SELL (altına ininse)
L 246 [docstring]             price: Mevcut fiyat
L 247 [docstring]             dema: DEMA değeri
L 259 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 264 [docstring]         """Varsayılan parametreler"""
L 282 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 286 [docstring]     """DEMA indikatör testi"""
L 292 [comment ]     # Örnek veri oluştur
L 293 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 297 [comment ]     # Trend simülasyonu
L 314 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 315 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 320 [message ]     print(f"   [OK] Oluşturuldu: {dema}")
L 322 [message ]     print(f"   [OK] Gerekli periyot: {dema.get_required_periods()}")
L 325 [message ]     print(f"   [OK] DEMA Değeri: {result.value}")
L 328 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 331 [comment ]     # Test 2: EMA bileşenleri
L 332 [message ]     print("\n3. EMA bileşenleri testi...")
L 337 [comment ]     # Test 3: Farklı periyotlar
L 338 [message ]     print("\n4. Farklı periyot testi...")
L 344 [comment ]     # Test 4: DEMA vs EMA karşılaştırması
L 345 [message ]     print("\n5. DEMA vs EMA karşılaştırma testi...")
L 354 [message ]     print(f"   [OK] DEMA daha responsive (düşük lag)")
L 356 [comment ]     # Test 5: İstatistikler
L 357 [message ]     print("\n6. İstatistik testi...")
L 359 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 360 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 365 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 368 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 371 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\donchian.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Donchian Channel - Donchian Kanalı
L  10 [docstring]     Richard Donchian tarafından geliştirilmiş basit ama etkili kanal indikatörü
L  11 [docstring]     Belirli periyottaki en yüksek ve en düşük değerleri kullanır
L  13 [docstring]     Kullanım:
L  15 [docstring]     - Trend yönünü belirleme
L  16 [docstring]     - Destek/direnç seviyeleri
L  17 [docstring]     - Volatilite ölçümü
L  19 [docstring] Formül:
L  24 [docstring]     Varsayılan: period=20
L  26 [docstring] Bağımlılıklar:
L  48 [docstring]     Belirli periyottaki en yüksek ve en düşük değerlerden kanal oluşturur.
L  51 [docstring]         period: Kanal periyodu (varsayılan: 20)
L  74 [docstring]         """Minimum gerekli periyot sayısı"""
L  78 [docstring]         """Parametreleri doğrula"""
L  82 [string  ]                 "Period pozitif olmalı"
L  94 [docstring]             IndicatorResult: Upper, Middle, Lower band değerleri
L 100 [comment ]         # Upper Band = En yüksek değer
L 103 [comment ]         # Lower Band = En düşük değer
L 109 [comment ]         # Mevcut fiyat
L 114 [comment ]         # Trend ve sinyal belirleme
L 118 [comment ]         # Band genişliği
L 121 [comment ]         # Fiyatın kanal içindeki pozisyonu (0-100)
L 151 [docstring]         ⚡ VECTORIZED batch Donchian Channel calculation - BACKTEST için
L 180 [comment ]         # Create result DataFrame (calculate() ile aynı key'ler)
L 193 [docstring]         """Fiyatın kanal içindeki pozisyonu"""
L 204 [docstring]         """Warmup buffer - update() için gerekli"""
L 270 [docstring]         Donchian Channel'dan sinyal üret
L 273 [docstring]             price: Mevcut fiyat
L 274 [docstring]             upper: Üst band
L 283 [other   ]             return SignalType.BUY  # Üst banda breakout - BUY
L 294 [docstring]             price: Mevcut fiyat
L 307 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 308 [comment ]         # Fiyat üst veya alt banda ne kadar yakın?
L 312 [comment ]         # En yakın bandın tersi olarak güç
L 317 [docstring]         """Varsayılan parametreler"""
L 339 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 343 [docstring]     """Donchian Channel indikatör testi"""
L 349 [comment ]     # Örnek veri oluştur
L 350 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 354 [comment ]     # Breakout simülasyonu
L 359 [other   ]             trend = 0.2  # Yavaş hareket
L 362 [other   ]             trend = 1.5  # Güçlü breakout
L 376 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 377 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 382 [message ]     print(f"   [OK] Oluşturuldu: {donchian}")
L 385 [message ]     print(f"   [OK] Gerekli periyot: {donchian.get_required_periods()}")
L 393 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 405 [message ]         print(f"   [OK] Üst banda BREAKOUT - Güçlü BUY sinyali")
L 407 [message ]         print(f"   [OK] Alt banda BREAKDOWN - Güçlü SELL sinyali")
L 409 [message ]         print(f"   [OK] Kanal içinde - Breakout bekleniyor")
L 411 [comment ]     # Test 4: Farklı veri dilimleri (breakout öncesi/sonrası)
L 418 [comment ]     # Test 5: Farklı periyotlar
L 419 [message ]     print("\n6. Farklı periyot testi...")
L 425 [comment ]     # Test 6: İstatistikler
L 426 [message ]     print("\n7. İstatistik testi...")
L 428 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 429 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 434 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 439 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\dx.py

```
L   9 [docstring] DX (Directional Movement Index) - Yön Hareketli İndeks.
L  10 [docstring] ADX'in temel bileşeni, trend gücünü ölçer.
L  12 [docstring] Özellikler:
L  13 [docstring] - +DI ve -DI arasındaki farkı gösterir
L  14 [docstring] - Trend gücünü ölçer (yönünü değil)
L  15 [docstring] - 0-100 arasında değer üretir
L  16 [docstring] - Yüksek DX = Güçlü trend
L  17 [docstring] - Düşük DX = Zayıf trend
L  18 [docstring] - ADX hesaplamasında kullanılır
L  20 [docstring] Kullanım:
L  28 [docstring] Formül:
L  38 [docstring] Bağımlılıklar:
L  70 [docstring]     ADX'in temel bileşeni. +DI ve -DI arasındaki farkı gösterir.
L  71 [docstring]     Trend gücünü ölçer.
L  74 [docstring]         period: DX periyodu (varsayılan: 14)
L  92 [docstring]         """Minimum gerekli periyot sayısı"""
L  96 [docstring]         """Parametreleri doğrula"""
L 100 [string  ]                 "Period pozitif olmalı"
L 106 [docstring]         Batch hesaplama (Backtest için)
L 108 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 109 [docstring]         TA-Lib uyumlu: Wilder smoothing (RMA) kullanır
L 115 [docstring]             pd.DataFrame: DX, +DI ve -DI değerleri
L 131 [comment ]         # +DM ve -DM
L 142 [comment ]         # +DI ve -DI hesaplama
L 158 [docstring]         Warmup buffer - state-based update için gerekli
L 162 [docstring]             symbol: Sembol adı (opsiyonel, multi-symbol desteği için)
L 171 [comment ]             # calculate_batch ile aynı hesaplamayı kullan
L 178 [comment ]             # Son state için batch'ten değerleri al
L 179 [comment ]             # EWM state'ini hesaplamak için TR, +DM, -DM serilerini hesapla
L 197 [comment ]             # Wilder smoothing son değerleri (EWM ile hesapla)
L 219 [docstring]             symbol: Sembol adı (opsiyonel)
L 222 [docstring]             IndicatorResult: Güncel DX değeri
L 262 [comment ]             # Wilder smoothing (RMA) güncelle
L 267 [comment ]             # +DI ve -DI hesapla
L 275 [comment ]             # State güncelle
L 286 [comment ]             # Sinyal ve trend belirleme
L 322 [docstring]         DX hesapla (son değer)
L 328 [docstring]             IndicatorResult: DX değerleri
L 333 [comment ]         # Son değerleri al
L 350 [comment ]         # Güç: DX değeri (0-100 arası)
L 370 [docstring]         """Varsayılan parametreler"""
L 394 [docstring]     """DX indikatör testi"""
L 396 [comment ]     # Windows console UTF-8 desteği
L 405 [comment ]     # Örnek veri oluştur
L 406 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 416 [comment ]     # OHLC oluştur
L 430 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 431 [message ]     print(f"   ✅ Fiyat aralığı: {min(close_prices):.2f} -> {max(close_prices):.2f}")
L 436 [message ]     print(f"   ✅ Oluşturuldu: {dx}")
L 438 [message ]     print(f"   ✅ Gerekli periyot: {dx.get_required_periods()}")
L 446 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 452 [message ]     print(f"   ✅ Son 5 değer:")
L 455 [comment ]     # Test 3: Farklı periyotlar
L 456 [message ]     print("\n4. Farklı periyot testi...")
L 486 [message ]     print(f"   ✅ Güçlü trend (DX>25): {sum(dx_values > 25)}")
L 487 [message ]     print(f"   ✅ Zayıf trend (DX<20): {sum(dx_values < 20)}")
L 493 [message ]         print("   ❌ Hata: Geçersiz period kabul edildi!")
L 495 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 498 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\ema.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     EMA (Exponential Moving Average) - Üssel hareketli ortalama
L  10 [docstring]     Son fiyatlara daha fazla ağırlık veren trend indikatörü
L  11 [docstring]     SMA'ya göre fiyat değişimlerine daha hızlı tepki verir
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Hızlı trend takibi
L  16 [docstring]     - Destek/direnç seviyeleri
L  18 [docstring] Formül:
L  21 [docstring]     İlk EMA = SMA(Period)
L  23 [docstring] Bağımlılıklar:
L  45 [docstring]     Yakın geçmişteki fiyatlara daha fazla ağırlık vererek
L  46 [docstring]     fiyat değişimlerine daha hızlı tepki verir.
L  49 [docstring]         period: EMA periyodu (varsayılan: 20)
L  50 [docstring]         sma_seed: EMA'yı başlatmak için kullanılacak SMA periyodu
L  51 [docstring]                   None = period ile aynı (pandas varsayılanı)
L  52 [docstring]                   9 = TradingView uyumlu (TradingView tüm EMA'ları SMA 9 ile başlatır)
L  63 [comment ]         # TradingView uyumluluğu için sma_seed=9 kullanılabilir
L  64 [comment ]         # None = period (pandas varsayılanı)
L  80 [docstring]         """Minimum gerekli periyot sayısı"""
L  84 [docstring]         """Parametreleri doğrula"""
L  88 [string  ]                 "Periyot pozitif olmalı"
L 100 [docstring]             IndicatorResult: EMA değeri
L 107 [comment ]         # Mevcut fiyat
L 131 [docstring]         EMA hesaplama yardımcı fonksiyonu
L 138 [docstring]             float: Son EMA değeri
L 143 [comment ]         # İlk EMA = SMA (sma_seed ile belirlenen periyot kullanılır)
L 144 [comment ]         # TradingView: sma_seed=9 (tüm EMA'lar SMA 9 ile başlar)
L 147 [other   ]         seed_period = min(seed_period, len(prices))  # Veri yetersizse küçült
L 151 [comment ]         # Iterative EMA hesaplama (seed_period'dan sonra başla)
L 159 [docstring]         ⚡ VECTORIZED batch EMA calculation - BACKTEST için
L 175 [comment ]         # sma_seed kullanılıyorsa (TradingView uyumlu), manuel hesapla
L 177 [comment ]             # TradingView style: SMA seed ile başla, sonra EMA uygula
L 184 [comment ]             # İlk seed_period bar için SMA hesapla
L 189 [comment ]                 # Sonraki barlar için EMA uygula
L 196 [comment ]             # Pandas ewm() varsayılan davranış (period ile seed)
L 244 [docstring]             IndicatorResult: Güncel EMA değeri
L 298 [docstring]         EMA'dan sinyal üret
L 301 [docstring]             price: Mevcut fiyat
L 302 [docstring]             ema: EMA değeri
L 305 [docstring]             SignalType: BUY (fiyat EMA üstüne çıkınca), SELL (altına ininse)
L 318 [docstring]             price: Mevcut fiyat
L 319 [docstring]             ema: EMA değeri
L 331 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 338 [docstring]         """Varsayılan parametreler"""
L 356 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 360 [docstring]     """EMA indikatör testi"""
L 366 [comment ]     # Örnek veri oluştur
L 367 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 371 [comment ]     # Volatil trend simülasyonu
L 388 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 389 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 394 [message ]     print(f"   [OK] Oluşturuldu: {ema}")
L 396 [message ]     print(f"   [OK] Gerekli periyot: {ema.get_required_periods()}")
L 399 [message ]     print(f"   [OK] EMA Değeri: {result.value}")
L 402 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 405 [comment ]     # Test 2: EMA vs SMA karşılaştırması
L 406 [message ]     print("\n3. EMA vs SMA karşılaştırma testi...")
L 407 [comment ]     # SMA için basit hesaplama
L 412 [message ]     print(f"   [OK] EMA son fiyatlara daha fazla ağırlık verir")
L 414 [comment ]     # Test 3: Farklı periyotlar
L 415 [message ]     print("\n4. Farklı periyot testi...")
L 437 [comment ]     # Test 5: İstatistikler
L 438 [message ]     print("\n6. İstatistik testi...")
L 440 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 441 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 446 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 449 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 452 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\hma.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Alan Hull tarafından geliştirilmiş, lag'ı azaltan trend indikatörü
L  11 [docstring]     Hem hızlı hem de düzgün bir ortalama sağlar
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Düşük lag ile trend takibi
L  15 [docstring]     - Hızlı trend değişimlerini yakalama
L  16 [docstring]     - Smooth ve responsive sinyal üretme
L  18 [docstring] Formül:
L  22 [docstring]     3. 2*WMA(n/2) - WMA(n) farkını al
L  23 [docstring]     4. Bu farkın WMA(sqrt(n))'sini hesapla
L  25 [docstring] Bağımlılıklar:
L  47 [docstring]     Lag'ı minimize eden ve smooth olan gelişmiş moving average.
L  48 [docstring]     WMA kombinasyonu kullanarak hızlı ve düzgün trend takibi sağlar.
L  51 [docstring]         period: HMA periyodu (varsayılan: 20)
L  76 [docstring]         """Minimum gerekli periyot sayısı"""
L  80 [docstring]         """Parametreleri doğrula"""
L  84 [string  ]                 "Periyot en az 2 olmalı"
L  90 [docstring]         HMA hesapla - REALTIME için
L  96 [docstring]             IndicatorResult: HMA değeri (son bar)
L 109 [comment ]         # 4. Son sqrt(n) değerini al ve bunların WMA'sını hesapla
L 110 [comment ]         # raw_hma array oluştur
L 118 [comment ]         # Son sqrt(n) değerin WMA'sını hesapla
L 127 [comment ]         # Mevcut fiyat
L 152 [docstring]         ⚡ VECTORIZED batch HMA calculation - BACKTEST için
L 202 [docstring]         WMA hesaplama (son değer)
L 209 [docstring]             float: WMA değeri
L 220 [docstring]         Array için WMA hesaplama
L 227 [docstring]             float: WMA değeri
L 237 [docstring]         Warmup buffer - update() için gerekli state'i hazırlar
L 241 [docstring]             symbol: Sembol adı (opsiyonel)
L 292 [docstring]         HMA'dan sinyal üret
L 295 [docstring]             price: Mevcut fiyat
L 296 [docstring]             hma: HMA değeri
L 299 [docstring]             SignalType: BUY (fiyat HMA üstüne çıkınca), SELL (altına ininse)
L 312 [docstring]             price: Mevcut fiyat
L 313 [docstring]             hma: HMA değeri
L 325 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 330 [docstring]         """Varsayılan parametreler"""
L 348 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 352 [docstring]     """HMA indikatör testi"""
L 358 [comment ]     # Örnek veri oluştur
L 359 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 363 [comment ]     # Volatil trend simülasyonu
L 368 [other   ]             trend = 1.0  # Yükseliş
L 370 [other   ]             trend = -0.5  # Düşüş
L 383 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 384 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 389 [message ]     print(f"   [OK] Oluşturuldu: {hma}")
L 391 [message ]     print(f"   [OK] Gerekli periyot: {hma.get_required_periods()}")
L 394 [message ]     print(f"   [OK] HMA Değeri: {result.value}")
L 397 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 406 [comment ]     # Test 3: Farklı periyotlar
L 407 [message ]     print("\n4. Farklı periyot testi...")
L 413 [comment ]     # Test 4: HMA vs SMA karşılaştırması
L 414 [message ]     print("\n5. HMA vs SMA karşılaştırma testi...")
L 418 [message ]     print(f"   [OK] HMA daha responsive ve düşük lag")
L 420 [comment ]     # Test 5: İstatistikler
L 421 [message ]     print("\n6. İstatistik testi...")
L 423 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 424 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 429 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 432 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 435 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\ichimoku.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Ichimoku Kinko Hyo - İchimoku Bulutu
L  10 [docstring]     Goichi Hosoda tarafından geliştirilmiş kapsamlı trend indikatörü
L  11 [docstring]     5 çizgiden oluşur: Tenkan, Kijun, Senkou A, Senkou B, Chikou
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Trend yönünü ve gücünü belirleme
L  15 [docstring]     - Destek/direnç seviyeleri (bulut)
L  17 [docstring]     - Momentum ölçme
L  19 [docstring] Formül:
L  22 [docstring]     Senkou Span A = (Tenkan + Kijun) / 2, 26 period ileriye kaydırılmış
L  24 [docstring]     Chikou Span = Close, 26 period geriye kaydırılmış
L  26 [docstring] Bağımlılıklar:
L  49 [docstring]     Trend, momentum ve destek/direnç bilgilerini sağlayan kapsamlı indikatör.
L  52 [docstring]         tenkan_period: Tenkan-sen periyodu (varsayılan: 9)
L  53 [docstring]         kijun_period: Kijun-sen periyodu (varsayılan: 26)
L  54 [docstring]         senkou_b_period: Senkou Span B periyodu (varsayılan: 52)
L  55 [docstring]         displacement: Senkou kaydırma (varsayılan: 26)
L  99 [docstring]         """Minimum gerekli periyot sayısı"""
L 103 [docstring]         """Parametreleri doğrula"""
L 107 [string  ]                 "Tenkan period pozitif olmalı"
L 112 [string  ]                 "Kijun period pozitif olmalı"
L 117 [string  ]                 "Senkou B period pozitif olmalı"
L 123 [docstring]         Batch hesaplama (Backtest için)
L 125 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 131 [docstring]             pd.DataFrame: Ichimoku çizgileri
L 173 [docstring]         Not: Ichimoku'nun "shift" (kaydırma) mantığı burada özel olarak işlenir.
L 174 [docstring]         - Senkou A ve B değerleri hesaplandığı an buffer'a (history) eklenir.
L 175 [docstring]         - Sinyal üretilirken, buffer'dan 26 bar önceki (displacement) değerler çekilir.
L 176 [docstring]         - Bu sayede "Price vs Cloud" karşılaştırması, grafikteki görsel kaydırmaya uygun yapılır.
L 182 [docstring]             IndicatorResult: Güncel Ichimoku değerleri
L 303 [docstring]         Warmup buffer - update() için gerekli state'i hazırlar
L 307 [docstring]             symbol: Sembol adı (opsiyonel)
L 366 [docstring]             IndicatorResult: Ichimoku çizgileri
L 451 [comment ]         # Mevcut fiyat
L 456 [comment ]         # Trend ve sinyal belirleme
L 490 [docstring]         Belirtilen periyotta yüksek ve düşük ortalaması
L 493 [docstring]             high: Yüksek fiyatlar
L 494 [docstring]             low: Düşük fiyatlar
L 498 [docstring]             float: Midpoint değeri
L 505 [docstring]         """Fiyatın buluta göre pozisyonu"""
L 519 [docstring]         Ichimoku'dan sinyal üret
L 522 [docstring]             price: Mevcut fiyat
L 523 [docstring]             tenkan: Tenkan-sen değeri
L 524 [docstring]             kijun: Kijun-sen değeri
L 525 [docstring]             senkou_a: Senkou Span A değeri
L 526 [docstring]             senkou_b: Senkou Span B değeri
L 534 [comment ]         # Güçlü bullish: Fiyat bulutun üstünde ve Tenkan > Kijun
L 538 [comment ]         # Güçlü bearish: Fiyat bulutun altında ve Tenkan < Kijun
L 549 [docstring]             price: Mevcut fiyat
L 550 [docstring]             senkou_a: Senkou Span A değeri
L 551 [docstring]             senkou_b: Senkou Span B değeri
L 566 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 572 [docstring]         """Varsayılan parametreler"""
L 597 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 601 [docstring]     """Ichimoku indikatör testi"""
L 607 [comment ]     # Örnek veri oluştur
L 608 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 612 [comment ]     # Güçlü trend simülasyonu
L 629 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 630 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 635 [message ]     print(f"   [OK] Oluşturuldu: {ichimoku}")
L 638 [message ]     print(f"   [OK] Gerekli periyot: {ichimoku.get_required_periods()}")
L 648 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 660 [message ]         print(f"   [OK] Güçlü BUY sinyali (fiyat bulutun üstünde, Tenkan > Kijun)")
L 662 [message ]         print(f"   [OK] Güçlü SELL sinyali (fiyat bulutun altında, Tenkan < Kijun)")
L 664 [message ]         print(f"   [OK] Nötr bölge (fiyat bulut içinde veya belirsiz)")
L 666 [comment ]     # Test 4: Farklı parametreler
L 667 [message ]     print("\n5. Farklı parametre testi...")
L 674 [comment ]     # Test 5: İstatistikler
L 675 [message ]     print("\n6. İstatistik testi...")
L 677 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 678 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 683 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 705 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\kama.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Perry Kaufman tarafından geliştirilmiş adaptive moving average
L  11 [docstring]     Volatilite ve trend gücüne göre dinamik smoothing
L  13 [docstring]     Kullanım:
L  19 [docstring] Formül:
L  24 [docstring] Bağımlılıklar:
L  55 [docstring]     Trend gücüne göre kendini ayarlayan moving average.
L  56 [docstring]     Güçlü trendde hızlı, ranging marketlerde yavaş hareket eder.
L  59 [docstring]         period: ER hesaplama periyodu (varsayılan: 10)
L  60 [docstring]         fast_period: Hızlı EMA periyodu (varsayılan: 2)
L  61 [docstring]         slow_period: Yavaş EMA periyodu (varsayılan: 30)
L  98 [docstring]         """Minimum gerekli periyot sayısı"""
L 102 [docstring]         """Parametreleri doğrula"""
L 106 [string  ]                 "Period pozitif olmalı"
L 111 [string  ]                 "Fast period 1 ile slow period arası olmalı"
L 117 [docstring]         Batch hesaplama (Backtest için)
L 119 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 125 [docstring]             pd.DataFrame: KAMA değerleri
L 134 [comment ]         # İlk KAMA değeri = ilk close
L 157 [docstring]         Warmup buffer - update() için gerekli
L 161 [docstring]             symbol: Sembol adı (opsiyonel)
L 188 [docstring]             IndicatorResult: Güncel KAMA değeri
L 200 [comment ]         # İlk değer
L 214 [comment ]         # Yeterli veri yok
L 238 [comment ]         # KAMA güncelle
L 263 [docstring]         KAMA hesapla (son değer)
L 269 [docstring]             IndicatorResult: KAMA değeri
L 280 [comment ]         # Son geçerli değeri bul
L 297 [comment ]         # Trend ve sinyal
L 316 [docstring]         KAMA'dan sinyal üret
L 319 [docstring]             price: Mevcut fiyat
L 320 [docstring]             kama: KAMA değeri
L 336 [docstring]             price: Mevcut fiyat
L 337 [docstring]             kama: KAMA değeri
L 351 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 352 [comment ]         # ER ve price distance kombinasyonu
L 358 [docstring]         """Varsayılan parametreler"""
L 382 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 386 [docstring]     """KAMA indikatör testi"""
L 388 [comment ]     # Windows console UTF-8 desteği
L 397 [comment ]     # Örnek veri oluştur
L 398 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 417 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 418 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 423 [message ]     print(f"   [OK] Oluşturuldu: {kama}")
L 425 [message ]     print(f"   [OK] Gerekli periyot: {kama.get_required_periods()}")
L 431 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 438 [message ]     print(f"   [OK] Son 5 KAMA değeri:")
L 461 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\macd.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     MACD (Moving Average Convergence Divergence) - Hareketli ortalama yakınsama/ıraksama
L  10 [docstring]     Gerald Appel tarafından geliştirilmiş popüler momentum ve trend indikatörü
L  11 [docstring]     MACD çizgisi, Sinyal çizgisi ve Histogram'dan oluşur
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Trend yönünü belirleme
L  15 [docstring]     - Momentum ölçme
L  16 [docstring]     - Crossover sinyalleri (MACD/Signal kesişimi)
L  19 [docstring] Formül:
L  24 [docstring]     Varsayılan: fast=12, slow=26, signal=9
L  26 [docstring] Bağımlılıklar:
L  49 [docstring]     İki EMA'nın farkını alarak momentum ve trend ölçer.
L  52 [docstring]         fast_period: Hızlı EMA periyodu (varsayılan: 12)
L  53 [docstring]         slow_period: Yavaş EMA periyodu (varsayılan: 26)
L  54 [docstring]         signal_period: Sinyal EMA periyodu (varsayılan: 9)
L  69 [comment ]         # EMA indikatörlerini kullan (code reuse)
L  88 [docstring]         """Minimum gerekli periyot sayısı"""
L  92 [docstring]         """Parametreleri doğrula"""
L  96 [string  ]                 "Fast period pozitif olmalı"
L 101 [string  ]                 "Slow period pozitif olmalı"
L 106 [string  ]                 "Signal period pozitif olmalı"
L 112 [string  ]                 "Fast period, slow period'dan küçük olmalı"
L 124 [docstring]             IndicatorResult: MACD, Signal ve Histogram değerleri
L 128 [comment ]         # Fast ve Slow EMA'ları hesapla
L 135 [comment ]         # MACD serisini oluştur (sinyal için)
L 142 [comment ]         # Signal Line (MACD'nin EMA'sı)
L 148 [comment ]         # Son değerler
L 155 [comment ]         # Trend ve sinyal belirleme
L 246 [docstring]         Warmup buffer - update() için gerekli
L 248 [docstring]         MACD için EMA state'lerini saklar. Bu sayede update() incremental
L 253 [docstring]             symbol: Sembol adı (opsiyonel)
L 362 [docstring]         MACD'den sinyal üret
L 365 [docstring]             macd: MACD line değeri
L 366 [docstring]             signal: Signal line değeri
L 367 [docstring]             histogram: Histogram değeri
L 385 [docstring]             macd: MACD line değeri
L 386 [docstring]             signal: Signal line değeri
L 398 [docstring]         """Varsayılan parametreler"""
L 422 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 426 [docstring]     """MACD indikatör testi"""
L 432 [comment ]     # Örnek veri oluştur
L 433 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 437 [comment ]     # Trend simülasyonu
L 442 [other   ]             trend = 0.5  # Yavaş yükseliş
L 444 [other   ]             trend = -0.3  # Düşüş
L 446 [other   ]             trend = 0.7  # Güçlü yükseliş
L 459 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 460 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 465 [message ]     print(f"   [OK] Oluşturuldu: {macd}")
L 468 [message ]     print(f"   [OK] Gerekli periyot: {macd.get_required_periods()}")
L 476 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 490 [comment ]     # Test 3: Trend değişimi testi
L 491 [message ]     print("\n4. Trend değişimi testi...")
L 497 [comment ]     # Test 4: Farklı parametreler
L 498 [message ]     print("\n5. Farklı parametre testi...")
L 505 [comment ]     # Test 5: İstatistikler
L 506 [message ]     print("\n6. İstatistik testi...")
L 508 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 509 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 514 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 519 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\parabolic_sar.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Parabolic SAR (Stop and Reverse) - Parabolik dur ve dön
L  10 [docstring]     J. Welles Wilder tarafından geliştirilmiş trend takip indikatörü
L  11 [docstring]     Fiyatın altında veya üstünde parabolik noktalar oluşturur
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Trend yönünü belirleme
L  16 [docstring]     - Entry/Exit sinyalleri (SAR pozisyon değiştirince)
L  18 [docstring] Formül:
L  21 [docstring]     EP (Extreme Point): Mevcut trenddeki en yüksek/düşük
L  22 [docstring]     AF (Acceleration Factor): 0.02 başlangıç, her yeni EP'de 0.02 artar, max 0.20
L  23 [docstring]     Uptrend: SAR fiyatın altında, EP = En yüksek
L  24 [docstring]     Downtrend: SAR fiyatın üstünde, EP = En düşük
L  26 [docstring] Bağımlılıklar:
L  49 [docstring]     Fiyatın altında veya üstünde parabolik noktalarla trend takibi yapar.
L  52 [docstring]         af_start: Başlangıç acceleration factor (varsayılan: 0.02)
L  53 [docstring]         af_increment: AF artış miktarı (varsayılan: 0.02)
L  54 [docstring]         af_max: Maksimum AF (varsayılan: 0.20)
L  93 [docstring]         """Minimum gerekli periyot sayısı"""
L  94 [other   ]         return 5  # En az 5 mum gerekli
L  97 [docstring]         """Parametreleri doğrula"""
L 101 [string  ]                 "AF start 0-1 arasında olmalı"
L 106 [string  ]                 "AF increment 0-1 arasında olmalı"
L 111 [string  ]                 "AF max, AF start'tan büyük ve 1'den küçük olmalı"
L 117 [docstring]         Batch hesaplama (Backtest için)
L 123 [docstring]             pd.DataFrame: SAR, Trend, AF, EP değerleri
L 139 [docstring]         Warmup buffer - update() için gerekli
L 141 [docstring]         Parabolic SAR state-based çalışır. Bu fonksiyon geçmiş veriden
L 146 [docstring]             symbol: Sembol adı (opsiyonel)
L 150 [comment ]         # Batch calculate ile son durumu al
L 153 [comment ]         # Son değerleri al
L 159 [comment ]         # Son 2 bar'ın high/low değerleri
L 173 [docstring]             IndicatorResult: Güncel SAR değerleri
L 188 [comment ]         # Eğer state yoksa (ilk mum), başlatamayız
L 190 [comment ]             # Yeterli veri yoksa None dön
L 201 [comment ]         # Önceki değerler
L 210 [comment ]         # Trend kontrolü ve güncelleme
L 216 [comment ]             # SAR low'un altında kalmalı (önceki 2 barın low'u)
L 222 [comment ]             # Trend değişimi kontrolü (Mevcut mumun low'u SAR'ı kırarsa)
L 235 [comment ]             # SAR high'ın üstünde kalmalı
L 241 [comment ]             # Trend değişimi kontrolü
L 253 [comment ]         # State güncelle
L 265 [comment ]         # Sonuç
L 291 [docstring]             IndicatorResult: SAR değeri ve trend
L 300 [comment ]         # Son değerler
L 306 [comment ]         # State güncelle (Incremental update için)
L 359 [comment ]         # İlk değerler
L 360 [comment ]         # İlk 5 mumun yüksek/düşüklerine göre trend belirle
L 374 [comment ]             # Önceki değerler
L 385 [comment ]                 # SAR low'un altında kalmalı
L 390 [comment ]                 # Trend değişimi kontrolü
L 392 [comment ]                     # Downtrend'e geçiş
L 402 [comment ]                     # EP ve AF güncelle
L 411 [comment ]                 # SAR high'ın üstünde kalmalı
L 416 [comment ]                 # Trend değişimi kontrolü
L 418 [comment ]                     # Uptrend'e geçiş
L 428 [comment ]                     # EP ve AF güncelle
L 442 [docstring]         SAR'dan sinyal üret
L 445 [docstring]             trend: Mevcut trend
L 457 [docstring]         """Trend zaten hesaplanmış"""
L 461 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 466 [docstring]         """Varsayılan parametreler"""
L 486 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 490 [docstring]     """Parabolic SAR indikatör testi"""
L 496 [comment ]     # Örnek veri oluştur
L 497 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 501 [comment ]     # Trend değişimi simülasyonu
L 506 [other   ]             trend = 0.8  # Yükseliş
L 508 [other   ]             trend = -0.6  # Düşüş
L 521 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 522 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 527 [message ]     print(f"   [OK] Oluşturuldu: {psar}")
L 529 [message ]     print(f"   [OK] Gerekli periyot: {psar.get_required_periods()}")
L 532 [message ]     print(f"   [OK] SAR Değeri: {result.value}")
L 535 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 538 [comment ]     # Test 2: AF ve EP analizi
L 539 [message ]     print("\n3. AF ve EP analizi...")
L 545 [comment ]     # Test 3: Trend değişimi testi
L 546 [message ]     print("\n4. Trend değişimi testi...")
L 552 [comment ]     # Test 4: Farklı parametreler
L 553 [message ]     print("\n5. Farklı parametre testi...")
L 559 [comment ]     # Test 5: İstatistikler
L 560 [message ]     print("\n6. İstatistik testi...")
L 562 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 563 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 568 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 572 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\sma.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     En temel trend indikatörü, fiyatların aritmetik ortalaması
L  12 [docstring]     Kullanım:
L  13 [docstring]     - Trend yönünü belirlemek
L  14 [docstring]     - Destek/direnç seviyeleri
L  17 [docstring] Formül:
L  22 [docstring] Bağımlılıklar:
L  44 [docstring]     Belirtilen periyottaki fiyatların basit aritmetik ortalaması.
L  45 [docstring]     Trend takibi ve destek/direnç seviyeleri için kullanılır.
L  48 [docstring]         period: SMA periyodu (varsayılan: 20)
L  71 [docstring]         """Minimum gerekli periyot sayısı"""
L  75 [docstring]         """Parametreleri doğrula"""
L  79 [string  ]                 "Periyot pozitif olmalı"
L  91 [docstring]             IndicatorResult: SMA değeri
L  95 [comment ]         # SMA hesapla (son N periyodun ortalaması)
L  98 [comment ]         # Mevcut fiyat
L 121 [docstring]         ⚡ VECTORIZED batch SMA calculation - BACKTEST için
L 198 [docstring]         SMA'dan sinyal üret
L 201 [docstring]             price: Mevcut fiyat
L 202 [docstring]             sma: SMA değeri
L 205 [docstring]             SignalType: BUY (fiyat SMA üstüne çıkınca), SELL (altına ininse)
L 218 [docstring]             price: Mevcut fiyat
L 219 [docstring]             sma: SMA değeri
L 231 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 233 [other   ]         return min(distance_pct * 20, 100)  # %5 uzaklık = 100 güç
L 236 [docstring]         """Varsayılan parametreler"""
L 254 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 258 [docstring]     """SMA indikatör testi"""
L 264 [comment ]     # Örnek veri oluştur
L 265 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 269 [comment ]     # Trend simülasyonu
L 273 [other   ]         trend = 0.5  # Yavaş yükseliş
L 286 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 287 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 292 [message ]     print(f"   [OK] Oluşturuldu: {sma}")
L 294 [message ]     print(f"   [OK] Gerekli periyot: {sma.get_required_periods()}")
L 297 [message ]     print(f"   [OK] SMA Değeri: {result.value}")
L 300 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 303 [comment ]     # Test 2: Farklı periyotlar
L 304 [message ]     print("\n3. Farklı periyot testi...")
L 310 [comment ]     # Test 3: Golden Cross simülasyonu (50/200 cross)
L 322 [message ]         print(f"   [OK] Golden Cross bölgesi (SMA20 > SMA50) - BULLISH")
L 324 [message ]         print(f"   [OK] Death Cross bölgesi (SMA20 < SMA50) - BEARISH")
L 326 [comment ]     # Test 4: İstatistikler
L 327 [message ]     print("\n5. İstatistik testi...")
L 329 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 330 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 335 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 338 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 341 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\supertrend.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     SuperTrend - ATR tabanlı trend takip indikatörü
L  10 [docstring]     Hem trend yönünü hem de dinamik destek/direnç seviyelerini gösterir
L  11 [docstring]     Olivier Seban tarafından geliştirilmiş popüler bir indikatör
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Trend yönünü belirleme
L  18 [docstring] Formül:
L  27 [docstring] Bağımlılıklar:
L  51 [docstring]     ATR kullanarak dinamik destek/direnç seviyeleri ve trend yönü belirler.
L  54 [docstring]         period: ATR periyodu (varsayılan: 10)
L  55 [docstring]         multiplier: ATR çarpanı (varsayılan: 3.0)
L  68 [comment ]         # ATR indikatörünü kullan (code reuse)
L  84 [docstring]         """Minimum gerekli periyot sayısı"""
L  88 [docstring]         """Parametreleri doğrula"""
L  92 [string  ]                 "Periyot pozitif olmalı"
L  97 [string  ]                 "Multiplier pozitif olmalı"
L 103 [docstring]         SuperTrend hesapla - calculate_batch() ile AYNI mantık
L 109 [docstring]             IndicatorResult: SuperTrend değerleri (upper, lower, trend)
L 160 [docstring]         ⚡ VECTORIZED SuperTrend batch calculation - BACKTEST için
L 161 [docstring]         Senin IndicatorManager'ın beklediği abstract method
L 178 [comment ]         # 3. Final bands & trend (vectorized loop – en hızlı yöntem)
L 184 [comment ]         # İlk değerler
L 199 [comment ]             # Trend yönü
L 200 [other   ]             if trend[i-1] == 1:  # önceki uptrend
L 202 [other   ]             else:  # önceki downtrend
L 205 [comment ]             # SuperTrend değeri
L 214 [comment ]         # DataFrame'e ekle (calculate() ile aynı key'ler)
L 226 [docstring]         Warmup buffer - update() için gerekli
L 230 [docstring]             symbol: Sembol adı (opsiyonel)
L 302 [docstring]         SuperTrend'den sinyal üret
L 305 [docstring]             trend: Mevcut trend
L 317 [docstring]         """Trend zaten hesaplanmış"""
L 321 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 326 [docstring]         """Varsayılan parametreler"""
L 349 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 353 [docstring]     """SuperTrend indikatör testi"""
L 359 [comment ]     # Örnek veri oluştur
L 360 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 364 [comment ]     # Volatil trend simülasyonu
L 369 [other   ]             trend = 1.0  # Güçlü yükseliş
L 371 [other   ]             trend = -0.8  # Güçlü düşüş
L 384 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 385 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 390 [message ]     print(f"   [OK] Oluşturuldu: {st}")
L 393 [message ]     print(f"   [OK] Gerekli periyot: {st.get_required_periods()}")
L 401 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 404 [comment ]     # Test 2: Trend değişimi testi
L 405 [message ]     print("\n3. Trend değişimi testi...")
L 406 [comment ]     # Farklı veri dilimlerinde hesapla
L 412 [comment ]     # Test 3: Farklı parametreler
L 413 [message ]     print("\n4. Farklı parametre testi...")
L 419 [comment ]     # Test 4: Band genişliği
L 420 [message ]     print("\n5. Band genişliği testi...")
L 424 [message ]     print(f"   [OK] Band genişliği: {band_width:.2f}")
L 427 [comment ]     # Test 5: İstatistikler
L 428 [message ]     print("\n6. İstatistik testi...")
L 430 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 431 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 436 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 442 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\t3.py

```
L  10 [docstring] Tim Tillson tarafından geliştirilen gelişmiş smoothing algoritması.
L  12 [docstring] Özellikler:
L  13 [docstring] - 6 kez EMA uygulayarak ultra-smooth sonuç
L  14 [docstring] - Volume factor ile ayarlanabilir gecikme/duyarlılık
L  15 [docstring] - Düşük gecikme ile pürüzsüz trend
L  17 [docstring] - Trend yönü ve gücünü gösterir
L  19 [docstring] Kullanım:
L  27 [docstring] Formül:
L  42 [docstring] Bağımlılıklar:
L  75 [docstring]     Tim Tillson tarafından geliştirilen gelişmiş trend göstergesi.
L  76 [docstring]     6 kez EMA uygulanarak pürüzsüz sonuç elde edilir.
L  79 [docstring]         period: T3 periyodu (varsayılan: 5)
L  80 [docstring]         vfactor: Volume factor (0-1 arası, varsayılan: 0.7)
L  89 [comment ]         # EMA indikatörünü kullan (code reuse)
L 102 [docstring]         """Minimum gerekli periyot sayısı"""
L 106 [docstring]         """Parametreleri doğrula"""
L 110 [string  ]                 "Period pozitif olmalı"
L 115 [string  ]                 "VFactor 0 ile 1 arasında olmalı"
L 121 [docstring]         Batch hesaplama (Backtest için)
L 123 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 129 [docstring]             pd.DataFrame: T3 değerleri
L 131 [comment ]         # Katsayıları hesapla
L 163 [docstring]         Warmup buffer - update() için gerekli
L 167 [docstring]             symbol: Sembol adı (opsiyonel)
L 186 [docstring]             IndicatorResult: T3 değeri
L 221 [docstring]         T3 hesapla (son değer)
L 227 [docstring]             IndicatorResult: T3 değeri
L 247 [comment ]         # Sinyal belirleme: Fiyat T3'ün üstünde = BUY
L 258 [comment ]         # Güç: Fiyat ile T3 arasındaki yüzde fark
L 274 [docstring]         """Varsayılan parametreler"""
L 298 [docstring]     """T3 indikatör testi"""
L 300 [comment ]     # Windows console UTF-8 desteği
L 309 [comment ]     # Örnek veri oluştur
L 310 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 329 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 330 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 335 [message ]     print(f"   ✅ Oluşturuldu: {t3}")
L 337 [message ]     print(f"   ✅ Gerekli periyot: {t3.get_required_periods()}")
L 344 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 350 [message ]     print(f"   ✅ Son 5 T3 değeri:")
L 353 [comment ]     # Test 3: Farklı periyotlar
L 354 [message ]     print("\n4. Farklı periyot testi...")
L 360 [comment ]     # Test 4: Farklı vfactor değerleri
L 361 [message ]     print("\n5. Farklı vfactor testi...")
L 385 [message ]     print(f"   ✅ Fiyat T3 üstünde: {sum(close_values.values > t3_values.values)}")
L 386 [message ]     print(f"   ✅ Fiyat T3 altında: {sum(close_values.values < t3_values.values)}")
L 392 [message ]         print("   ❌ Hata: Geçersiz period kabul edildi!")
L 394 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 398 [message ]         print("   ❌ Hata: Geçersiz vfactor kabul edildi!")
L 400 [message ]         print(f"   ✅ VFactor validasyonu başarılı: {e}")
L 403 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\tema.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     TEMA (Triple Exponential Moving Average) - Üçlü üssel hareketli ortalama
L  10 [docstring]     Patrick Mulloy tarafından geliştirilmiş, lag'ı azaltan trend indikatörü
L  11 [docstring]     Üç EMA kombinasyonu kullanarak çok smooth ve responsive sinyal üretir
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Minimum lag ile trend takibi
L  15 [docstring]     - Hızlı ve smooth trend değişimleri
L  18 [docstring] Formül:
L  25 [docstring] Bağımlılıklar:
L  48 [docstring]     Üç katlı EMA ile lag'ı minimize eden ve çok smooth olan trend indikatörü.
L  51 [docstring]         period: TEMA periyodu (varsayılan: 20)
L  62 [comment ]         # EMA indikatörünü kullan (code reuse)
L  77 [docstring]         """Minimum gerekli periyot sayısı"""
L  78 [comment ]         # TEMA için 3x EMA hesabı yapılacağı için daha fazla veri gerekli
L  82 [docstring]         """Parametreleri doğrula"""
L  86 [string  ]                 "Periyot pozitif olmalı"
L  98 [docstring]             IndicatorResult: TEMA değeri
L 189 [docstring]         Warmup buffer - update() için gerekli
L 193 [docstring]             symbol: Sembol adı (opsiyonel)
L 239 [docstring]         TEMA'dan sinyal üret
L 242 [docstring]             price: Mevcut fiyat
L 243 [docstring]             tema: TEMA değeri
L 246 [docstring]             SignalType: BUY (fiyat TEMA üstüne çıkınca), SELL (altına ininse)
L 259 [docstring]             price: Mevcut fiyat
L 260 [docstring]             tema: TEMA değeri
L 272 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 277 [docstring]         """Varsayılan parametreler"""
L 295 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 299 [docstring]     """TEMA indikatör testi"""
L 305 [comment ]     # Örnek veri oluştur
L 306 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 310 [comment ]     # Trend simülasyonu
L 327 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 328 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 333 [message ]     print(f"   [OK] Oluşturuldu: {tema}")
L 335 [message ]     print(f"   [OK] Gerekli periyot: {tema.get_required_periods()}")
L 338 [message ]     print(f"   [OK] TEMA Değeri: {result.value}")
L 341 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 344 [comment ]     # Test 2: EMA bileşenleri
L 345 [message ]     print("\n3. EMA bileşenleri testi...")
L 351 [comment ]     # Test 3: Farklı periyotlar
L 352 [message ]     print("\n4. Farklı periyot testi...")
L 358 [comment ]     # Test 4: TEMA vs EMA karşılaştırması
L 359 [message ]     print("\n5. TEMA vs EMA karşılaştırma testi...")
L 368 [message ]     print(f"   [OK] TEMA daha smooth ve responsive")
L 370 [comment ]     # Test 5: İstatistikler
L 371 [message ]     print("\n6. İstatistik testi...")
L 373 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 374 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 379 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 382 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 385 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\trima.py

```
L   9 [docstring] TRIMA (Triangular Moving Average) - Üçgen Hareketli Ortalama.
L  10 [docstring] SMA'nın SMA'sı olarak hesaplanan çift düzeltmeli ortalama.
L  12 [docstring] Özellikler:
L  13 [docstring] - Çift SMA ile pürüzsüz trend
L  14 [docstring] - Ortaya daha fazla ağırlık verir
L  15 [docstring] - Düşük gürültü, yüksek gecikme
L  19 [docstring] Kullanım:
L  27 [docstring] Formül:
L  32 [docstring] Bağımlılıklar:
L  64 [docstring]     SMA'nın SMA'sı olarak hesaplanan çift düzeltmeli ortalama.
L  65 [docstring]     Ortaya daha fazla ağırlık veren üçgen ağırlık dağılımı.
L  68 [docstring]         period: TRIMA periyodu (varsayılan: 20)
L  86 [docstring]         """Minimum gerekli periyot sayısı"""
L  90 [docstring]         """Parametreleri doğrula"""
L  94 [string  ]                 "Period pozitif olmalı"
L 100 [docstring]         Batch hesaplama (Backtest için)
L 102 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 108 [docstring]             pd.DataFrame: TRIMA değerleri
L 112 [comment ]         # Üçgen MA = SMA of SMA
L 121 [docstring]         Warmup buffer - update() için gerekli
L 125 [docstring]             symbol: Sembol adı (opsiyonel)
L 144 [docstring]             IndicatorResult: TRIMA değeri
L 179 [docstring]         TRIMA hesapla (son değer)
L 185 [docstring]             IndicatorResult: TRIMA değeri
L 198 [comment ]         # Sinyal belirleme: Fiyat TRIMA'nın üstünde = BUY
L 209 [comment ]         # Güç: Fiyat ile TRIMA arasındaki yüzde fark
L 225 [docstring]         """Varsayılan parametreler"""
L 249 [docstring]     """TRIMA indikatör testi"""
L 251 [comment ]     # Windows console UTF-8 desteği
L 260 [comment ]     # Örnek veri oluştur
L 261 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 280 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 281 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 286 [message ]     print(f"   ✅ Oluşturuldu: {trima}")
L 288 [message ]     print(f"   ✅ Gerekli periyot: {trima.get_required_periods()}")
L 295 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 301 [message ]     print(f"   ✅ Son 5 TRIMA değeri:")
L 304 [comment ]     # Test 3: Farklı periyotlar
L 305 [message ]     print("\n4. Farklı periyot testi...")
L 329 [message ]     print(f"   ✅ Fiyat TRIMA üstünde: {sum(close_values.values > trima_values.values)}")
L 330 [message ]     print(f"   ✅ Fiyat TRIMA altında: {sum(close_values.values < trima_values.values)}")
L 332 [comment ]     # Test 5: SMA ile karşılaştırma
L 333 [message ]     print("\n6. SMA ile karşılaştırma...")
L 337 [comment ]     # Valid indices'leri bulalım
L 344 [message ]         print(f"   ✅ Ortalama SMA-TRIMA farkı: {diff:.4f}")
L 351 [message ]         print("   ❌ Hata: Geçersiz period kabul edildi!")
L 353 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 356 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\trix.py

```
L   9 [docstring] TRIX (Triple Exponential Average) - Üçlü üstel hareketli ortalama değişim oranı.
L  10 [docstring] Üç kez üstel düzeltme uygulanmış fiyatın yüzdesel değişimini hesaplar.
L  12 [docstring] Özellikler:
L  13 [docstring] - Triple smoothing ile güçlü gürültü filtreleme
L  14 [docstring] - Trend değişimlerini erken tespit eder
L  15 [docstring] - Pozitif değer = Bullish momentum
L  16 [docstring] - Negatif değer = Bearish momentum
L  19 [docstring] Kullanım:
L  27 [docstring] Formül:
L  33 [docstring] Bağımlılıklar:
L  66 [docstring]     Üçlü üstel hareketli ortalama değişim oranı.
L  67 [docstring]     Üç kez üstel düzeltme uygulanarak gürültü azaltılır.
L  70 [docstring]         period: TRIX periyodu (varsayılan: 15)
L  78 [comment ]         # EMA indikatörünü kullan (code reuse)
L  91 [docstring]         """Minimum gerekli periyot sayısı"""
L  95 [docstring]         """Parametreleri doğrula"""
L  99 [string  ]                 "Period pozitif olmalı"
L 105 [docstring]         Batch hesaplama (Backtest için)
L 107 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 113 [docstring]             pd.DataFrame: TRIX değerleri
L 120 [comment ]         # Yüzdesel değişim
L 138 [docstring]         Warmup buffer - update() için gerekli
L 142 [docstring]             symbol: Sembol adı (opsiyonel)
L 161 [docstring]             IndicatorResult: TRIX değeri
L 196 [docstring]         TRIX hesapla (son değer)
L 202 [docstring]             IndicatorResult: TRIX değeri
L 214 [comment ]         # Sinyal ve trend belirleme
L 238 [docstring]         """Varsayılan parametreler"""
L 262 [docstring]     """TRIX indikatör testi"""
L 264 [comment ]     # Windows console UTF-8 desteği
L 273 [comment ]     # Örnek veri oluştur
L 274 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 293 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 294 [message ]     print(f"   ✅ Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 299 [message ]     print(f"   ✅ Oluşturuldu: {trix}")
L 301 [message ]     print(f"   ✅ Gerekli periyot: {trix.get_required_periods()}")
L 307 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 313 [message ]     print(f"   ✅ Son 5 TRIX değeri:")
L 316 [comment ]     # Test 3: Farklı periyotlar
L 317 [message ]     print("\n4. Farklı periyot testi...")
L 328 [comment ]     # Crossover sayısı
L 343 [message ]         print("   ❌ Hata: Geçersiz period kabul edildi!")
L 345 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 348 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\vwma.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     VWMA (Volume Weighted Moving Average) - Hacim ağırlıklı hareketli ortalama
L  10 [docstring]     Fiyatları işlem hacmine göre ağırlıklandırarak hesaplanan trend indikatörü
L  11 [docstring]     Yüksek hacimli fiyat hareketlerine daha fazla önem verir
L  13 [docstring]     Kullanım:
L  15 [docstring]     - Gerçek piyasa gücünü ölçme
L  16 [docstring]     - Destek/direnç seviyeleri
L  18 [docstring] Formül:
L  20 [docstring]     n periyot için:
L  23 [docstring] Bağımlılıklar:
L  45 [docstring]     İşlem hacmine göre ağırlıklandırılmış hareketli ortalama.
L  46 [docstring]     Yüksek hacimli mumlar daha fazla ağırlığa sahiptir.
L  49 [docstring]         period: VWMA periyodu (varsayılan: 20)
L  72 [docstring]         """Minimum gerekli periyot sayısı"""
L  76 [docstring]         """Parametreleri doğrula"""
L  80 [string  ]                 "Periyot pozitif olmalı"
L  92 [docstring]             IndicatorResult: VWMA değeri
L 104 [comment ]         # Mevcut fiyat
L 107 [comment ]         # SMA ile karşılaştırma için
L 133 [docstring]         ⚡ VECTORIZED batch VWMA calculation - BACKTEST için
L 164 [docstring]         Warmup buffer - update() için gerekli state'i hazırlar
L 168 [docstring]             symbol: Sembol adı (opsiyonel)
L 236 [docstring]         VWMA'dan sinyal üret
L 239 [docstring]             price: Mevcut fiyat
L 240 [docstring]             vwma: VWMA değeri
L 243 [docstring]             SignalType: BUY (fiyat VWMA üstüne çıkınca), SELL (altına ininse)
L 256 [docstring]             price: Mevcut fiyat
L 257 [docstring]             vwma: VWMA değeri
L 269 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 274 [docstring]         """Varsayılan parametreler"""
L 292 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 296 [docstring]     """VWMA indikatör testi"""
L 302 [comment ]     # Örnek veri oluştur
L 303 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 307 [comment ]     # Trend ve hacim simülasyonu
L 317 [comment ]         # Yüksek fiyat değişiminde yüksek hacim
L 331 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 332 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 333 [message ]     print(f"   [OK] Hacim aralığı: {min(volumes):.0f} -> {max(volumes):.0f}")
L 338 [message ]     print(f"   [OK] Oluşturuldu: {vwma}")
L 340 [message ]     print(f"   [OK] Gerekli periyot: {vwma.get_required_periods()}")
L 341 [message ]     print(f"   [OK] Volume gerekli: {vwma._requires_volume()}")
L 344 [message ]     print(f"   [OK] VWMA Değeri: {result.value}")
L 347 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 350 [comment ]     # Test 2: VWMA vs SMA karşılaştırması
L 351 [message ]     print("\n3. VWMA vs SMA karşılaştırma testi...")
L 355 [message ]     print(f"   [OK] VWMA hacimli hareketlere daha fazla ağırlık verir")
L 357 [comment ]     # Test 3: Farklı periyotlar
L 358 [message ]     print("\n4. Farklı periyot testi...")
L 369 [comment ]     # Yüksek hacimli senaryo
L 374 [message ]     print(f"   [OK] Yüksek hacimli VWMA: {result_high.value}")
L 376 [comment ]     # Test 5: İstatistikler
L 377 [message ]     print("\n6. İstatistik testi...")
L 379 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 380 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 385 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 388 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 391 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\trend\wma.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     WMA (Weighted Moving Average) - Ağırlıklı hareketli ortalama
L  10 [docstring]     Son fiyatlara daha fazla ağırlık veren trend indikatörü
L  13 [docstring]     Kullanım:
L  14 [docstring]     - Trend yönünü belirleme
L  15 [docstring]     - Son fiyat hareketlerine daha hızlı tepki
L  16 [docstring]     - Destek/direnç seviyeleri
L  18 [docstring] Formül:
L  23 [docstring] Bağımlılıklar:
L  45 [docstring]     Yakın geçmişteki fiyatlara doğrusal olarak artan ağırlık verir.
L  46 [docstring]     En son fiyat en yüksek ağırlığa sahiptir.
L  49 [docstring]         period: WMA periyodu (varsayılan: 20)
L  72 [docstring]         """Minimum gerekli periyot sayısı"""
L  76 [docstring]         """Parametreleri doğrula"""
L  80 [string  ]                 "Periyot pozitif olmalı"
L  92 [docstring]             IndicatorResult: WMA değeri
L 101 [comment ]         # Mevcut fiyat
L 125 [docstring]         ⚡ VECTORIZED batch WMA calculation - BACKTEST için
L 160 [docstring]         Warmup buffer - update() için gerekli
L 164 [docstring]             symbol: Sembol adı (opsiyonel)
L 210 [docstring]         WMA'dan sinyal üret
L 213 [docstring]             price: Mevcut fiyat
L 214 [docstring]             wma: WMA değeri
L 217 [docstring]             SignalType: BUY (fiyat WMA üstüne çıkınca), SELL (altına ininse)
L 230 [docstring]             price: Mevcut fiyat
L 231 [docstring]             wma: WMA değeri
L 243 [docstring]         """Sinyal gücünü hesapla (0-100)"""
L 248 [docstring]         """Varsayılan parametreler"""
L 266 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 270 [docstring]     """WMA indikatör testi"""
L 276 [comment ]     # Örnek veri oluştur
L 277 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 281 [comment ]     # Trend simülasyonu
L 298 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 299 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 304 [message ]     print(f"   [OK] Oluşturuldu: {wma}")
L 306 [message ]     print(f"   [OK] Gerekli periyot: {wma.get_required_periods()}")
L 309 [message ]     print(f"   [OK] WMA Değeri: {result.value}")
L 312 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 315 [comment ]     # Test 2: SMA vs WMA karşılaştırması
L 316 [message ]     print("\n3. WMA vs SMA karşılaştırma testi...")
L 321 [message ]     print(f"   [OK] WMA son fiyatlara daha fazla ağırlık verir")
L 323 [comment ]     # Test 3: Farklı periyotlar
L 324 [message ]     print("\n4. Farklı periyot testi...")
L 330 [comment ]     # Test 4: Ağırlık dağılımı
L 331 [message ]     print("\n5. Ağırlık dağılımı testi...")
L 335 [message ]     print(f"   [OK] Ağırlıklar: {weights.tolist()}")
L 336 [message ]     print(f"   [OK] Toplam ağırlık: {np.sum(weights)}")
L 337 [message ]     print(f"   [OK] Son fiyat ağırlığı: {weights[-1]} / {np.sum(weights)} = {weights[-1]/np.sum(weig...
L 339 [comment ]     # Test 5: İstatistikler
L 340 [message ]     print("\n6. İstatistik testi...")
L 342 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 343 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 348 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 351 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 354 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\__init__.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Volatilite indikatörleri paketi
L  10 [docstring]     Fiyat hareketlerinin genişliğini ve dalgalanmasını ölçen indikatörler
L  12 [docstring] İndikatörler:
L  13 [docstring]     - ATR: Average True Range - Ortalama gerçek aralık
L  14 [docstring]     - BollingerBands: Bollinger Bands - Volatilite bantları (SMA + StdDev)
L  15 [docstring]     - KeltnerChannel: Keltner Channel - ATR tabanlı volatilite bantları
L  17 [docstring]     - TrueRange: True Range - Gerçek fiyat aralığı
L  18 [docstring]     - NATR: Normalized ATR - Normalleştirilmiş ATR (yüzde)
L  19 [docstring]     - ChandelierExit: Chandelier Exit - ATR tabanlı trailing stop
L  20 [docstring]     - TTMSqueeze: TTM Squeeze - Volatilite sıkışması göstergesi
L  22 [docstring] Bağımlılıklar:
```

### components\indicators\volatility\atr.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     ATR (Average True Range) - Volatilite göstergesi
L  10 [docstring]     Fiyat hareketlerinin ortalama genişliğini ölçer
L  11 [docstring]     Yüksek ATR = Yüksek volatilite
L  12 [docstring]     Düşük ATR = Düşük volatilite
L  14 [docstring] Formül:
L  18 [docstring] Bağımlılıklar:
L  40 [docstring]     Fiyat hareketlerinin ortalama genişliğini ölçerek volatiliteyi belirler.
L  41 [docstring]     Stop-loss ve position sizing için kullanılır.
L  44 [docstring]         period: ATR periyodu (varsayılan: 14)
L  67 [docstring]         """Minimum gerekli periyot sayısı"""
L  68 [other   ]         return self.period + 1  # TR hesabı için bir önceki mum gerekli
L  71 [docstring]         """Parametreleri doğrula"""
L  75 [string  ]                 "Periyot pozitif olmalı"
L  87 [docstring]             IndicatorResult: ATR değeri
L 138 [comment ]         # Volatilite yüzdesi
L 148 [other   ]             trend=TrendDirection.NEUTRAL,  # ATR trend göstermez
L 149 [other   ]             strength=min(volatility_pct * 10, 100),  # 0-100 arası normalize et
L 160 [docstring]         ⚡ VECTORIZED batch ATR calculation - BACKTEST için
L 197 [docstring]         Warmup buffer - update() için gerekli
L 201 [docstring]             symbol: Sembol adı (opsiyonel)
L 235 [docstring]             IndicatorResult: Güncel ATR değeri
L 316 [docstring]         Volatilite yüzdesinden sinyal üret
L 319 [docstring]             volatility_pct: Volatilite yüzdesi
L 322 [docstring]             SignalType: Volatilite seviyesine göre sinyal
L 324 [comment ]         # Yüksek volatilite: dikkatli ol
L 326 [other   ]             return SignalType.SELL  # Yüksek risk
L 330 [comment ]         # Düşük volatilite: fırsat olabilir
L 335 [docstring]         """Varsayılan parametreler"""
L 353 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 357 [docstring]     """ATR indikatör testi"""
L 363 [comment ]     # Örnek veri oluştur
L 364 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 368 [comment ]     # Fiyat hareketini simüle et
L 384 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 385 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 390 [message ]     print(f"   [OK] Oluşturuldu: {atr}")
L 392 [message ]     print(f"   [OK] Gerekli periyot: {atr.get_required_periods()}")
L 395 [message ]     print(f"   [OK] ATR Değeri: {result.value}")
L 397 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 400 [comment ]     # Test 2: Farklı periyotlar
L 401 [message ]     print("\n3. Farklı periyot testi...")
L 407 [comment ]     # Test 3: İstatistikler
L 408 [message ]     print("\n4. İstatistik testi...")
L 410 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 411 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 416 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 420 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 423 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\bollinger.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Bollinger Bands - Volatilite bantları
L  10 [docstring]     Fiyatın ortalama etrafındaki standart sapma bantları
L  11 [docstring]     Aşırı alım/satım ve volatilite ölçümü için kullanılır
L  13 [docstring] Formül:
L  18 [docstring] Bağımlılıklar:
L  41 [docstring]     Fiyatın volatilite bantlarını oluşturarak aşırı alım/satım seviyelerini gösterir.
L  42 [docstring]     Bantlar daraldığında volatilite düşük, genişlediğinde yüksektir.
L  45 [docstring]         period: SMA periyodu (varsayılan: 20)
L  46 [docstring]         std_dev: Standart sapma çarpanı (varsayılan: 2.0)
L  59 [comment ]         # SMA indikatörünü kullan (code reuse)
L  75 [docstring]         """Minimum gerekli periyot sayısı"""
L  79 [docstring]         """Parametreleri doğrula"""
L  83 [string  ]                 "Periyot en az 2 olmalı"
L  88 [string  ]                 "Standart sapma çarpanı pozitif olmalı"
L 100 [docstring]             IndicatorResult: Bollinger Bands değerleri (upper, middle, lower)
L 110 [comment ]         # Upper ve Lower Bands
L 117 [comment ]         # Fiyatın bantlar içindeki pozisyonu (%B)
L 123 [comment ]         # Bant genişliği (volatilite göstergesi)
L 141 [other   ]             strength=min(abs(percent_b - 0.5) * 200, 100),  # 0-100 arası normalize et
L 153 [docstring]         ⚡ VECTORIZED batch Bollinger Bands calculation - BACKTEST için
L 182 [comment ]         # Create result DataFrame (calculate() ile aynı key'ler - prefix yok)
L 196 [docstring]         Warmup buffer - update() için gerekli
L 200 [docstring]             symbol: Sembol adı (opsiyonel)
L 234 [docstring]             IndicatorResult: Güncel Bollinger Bands değerleri
L 304 [docstring]         %B değerinden sinyal üret
L 307 [docstring]             percent_b: Fiyatın bantlar içindeki pozisyonu (0-1 arası)
L 310 [docstring]             SignalType: BUY, SELL veya HOLD
L 312 [other   ]         if percent_b <= 0:  # Alt bantta veya altında
L 314 [other   ]         elif percent_b >= 1:  # Üst bantta veya üstünde
L 316 [other   ]         elif percent_b < 0.2:  # Alt banda yakın
L 318 [other   ]         elif percent_b > 0.8:  # Üst banda yakın
L 324 [docstring]         Fiyat ve orta banttan trend belirle
L 327 [docstring]             price: Güncel fiyat
L 328 [docstring]             middle: Orta bant değeri
L 331 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 340 [docstring]         """Varsayılan parametreler"""
L 359 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 363 [docstring]     """Bollinger Bands indikatör testi"""
L 369 [comment ]     # Örnek veri oluştur
L 370 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 374 [comment ]     # Fiyat hareketini simüle et
L 390 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 391 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 396 [message ]     print(f"   [OK] Oluşturuldu: {bb}")
L 399 [message ]     print(f"   [OK] Gerekli periyot: {bb.get_required_periods()}")
L 410 [comment ]     # Test 2: Farklı periyotlar
L 411 [message ]     print("\n3. Farklı periyot testi...")
L 417 [comment ]     # Test 3: Farklı standart sapma çarpanları
L 418 [message ]     print("\n4. Farklı std_dev testi...")
L 424 [comment ]     # Test 4: İstatistikler
L 425 [message ]     print("\n5. İstatistik testi...")
L 427 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 428 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 433 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 437 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 440 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\chandelier.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Chandelier Exit - ATR tabanlı trailing stop göstergesi
L  10 [docstring]     Pozisyon çıkış noktalarını belirlemek için kullanılır
L  11 [docstring]     Yükseliş ve düşüş trendlerinde farklı stop seviyeleri oluşturur
L  13 [docstring] Formül:
L  17 [docstring] Bağımlılıklar:
L  40 [docstring]     ATR tabanlı trailing stop seviyeleri oluşturur.
L  41 [docstring]     Long ve short pozisyonlar için farklı çıkış seviyeleri sağlar.
L  44 [docstring]         period: Highest/Lowest ve ATR periyodu (varsayılan: 22)
L  45 [docstring]         multiplier: ATR çarpanı (varsayılan: 3.0)
L  58 [comment ]         # ATR indikatörünü kullan (code reuse)
L  74 [docstring]         """Minimum gerekli periyot sayısı"""
L  75 [other   ]         return self.period + 1  # TR hesabı için ekstra mum
L  78 [docstring]         """Parametreleri doğrula"""
L  82 [string  ]                 "Periyot pozitif olmalı"
L  87 [string  ]                 "Çarpan pozitif olmalı"
L 125 [comment ]         # Highest High ve Lowest Low
L 136 [comment ]         # Fiyatın stop seviyelerine olan mesafesi (yüzde)
L 155 [other   ]             strength=min(abs(long_distance) * 2, 100),  # 0-100 arası normalize et
L 170 [docstring]         ⚡ VECTORIZED batch Chandelier Exit calculation - BACKTEST için
L 211 [docstring]         Warmup buffer - update() için gerekli state'i hazırlar
L 215 [docstring]             symbol: Sembol adı (opsiyonel)
L 287 [docstring]         Fiyat ve stop seviyelerinden sinyal üret
L 290 [docstring]             price: Güncel fiyat
L 295 [docstring]             SignalType: BUY, SELL veya HOLD
L 297 [comment ]         # Fiyat long stop'un altına düştü: long çıkışı
L 300 [comment ]         # Fiyat short stop'un üstüne çıktı: short çıkışı
L 308 [docstring]         Fiyat ve stop seviyelerinden trend belirle
L 311 [docstring]             price: Güncel fiyat
L 316 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 318 [comment ]         # Fiyat long stop üstünde: yükseliş trendi
L 321 [comment ]         # Fiyat short stop altında: düşüş trendi
L 328 [docstring]         """Varsayılan parametreler"""
L 347 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 351 [docstring]     """Chandelier Exit indikatör testi"""
L 357 [comment ]     # Örnek veri oluştur
L 358 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 362 [comment ]     # Fiyat hareketini simüle et
L 378 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 379 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 384 [message ]     print(f"   [OK] Oluşturuldu: {ce}")
L 387 [message ]     print(f"   [OK] Gerekli periyot: {ce.get_required_periods()}")
L 398 [comment ]     # Test 2: Farklı periyotlar
L 399 [message ]     print("\n3. Farklı periyot testi...")
L 405 [comment ]     # Test 3: Farklı çarpanlar
L 406 [message ]     print("\n4. Farklı multiplier testi...")
L 414 [comment ]     # Test 4: Yükseliş trendi simülasyonu
L 415 [message ]     print("\n5. Yükseliş trendi testi...")
L 430 [message ]     print(f"   [OK] Yükseliş Trend: {result.trend.name}")
L 434 [comment ]     # Test 5: Düşüş trendi simülasyonu
L 435 [message ]     print("\n6. Düşüş trendi testi...")
L 450 [message ]     print(f"   [OK] Düşüş Trend: {result.trend.name}")
L 454 [comment ]     # Test 6: İstatistikler
L 455 [message ]     print("\n7. İstatistik testi...")
L 457 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 458 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 463 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 467 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 470 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\keltner.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Keltner Channel - ATR tabanlı volatilite bantları
L  10 [docstring]     EMA ve ATR kullanarak fiyat kanalları oluşturur
L  11 [docstring]     Bollinger Bands'e benzer ancak ATR kullanır
L  13 [docstring] Formül:
L  18 [docstring] Bağımlılıklar:
L  42 [docstring]     EMA ve ATR kullanarak volatilite kanalları oluşturur.
L  43 [docstring]     Trend takibi ve breakout tespiti için kullanılır.
L  46 [docstring]         ema_period: EMA periyodu (varsayılan: 20)
L  47 [docstring]         atr_period: ATR periyodu (varsayılan: 10)
L  48 [docstring]         multiplier: ATR çarpanı (varsayılan: 2.0)
L  63 [comment ]         # EMA ve ATR indikatörlerini kullan (code reuse)
L  81 [docstring]         """Minimum gerekli periyot sayısı"""
L  85 [docstring]         """Parametreleri doğrula"""
L  89 [string  ]                 "EMA periyodu pozitif olmalı"
L  94 [string  ]                 "ATR periyodu pozitif olmalı"
L  99 [string  ]                 "Çarpan pozitif olmalı"
L 111 [docstring]             IndicatorResult: Keltner Channel değerleri (upper, middle, lower)
L 148 [comment ]         # Upper ve Lower Channels
L 155 [comment ]         # Fiyatın kanal içindeki pozisyonu
L 161 [comment ]         # Kanal genişliği
L 193 [docstring]         ⚡ VECTORIZED batch Keltner Channel calculation - BACKTEST için
L 220 [comment ]         # Create result DataFrame (calculate() ile aynı key'ler)
L 286 [docstring]         Pozisyondan sinyal üret
L 289 [docstring]             position: Fiyatın kanal içindeki pozisyonu (0-1 arası)
L 292 [docstring]             SignalType: BUY, SELL veya HOLD
L 294 [other   ]         if position <= 0:  # Alt kanalda veya altında
L 296 [other   ]         elif position >= 1:  # Üst kanalda veya üstünde
L 298 [other   ]         elif position < 0.2:  # Alt kanala yakın
L 300 [other   ]         elif position > 0.8:  # Üst kanala yakın
L 306 [docstring]         Fiyat ve orta çizgiden trend belirle
L 309 [docstring]             price: Güncel fiyat
L 310 [docstring]             middle: Orta çizgi değeri
L 313 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 322 [docstring]         """Varsayılan parametreler"""
L 342 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 346 [docstring]     """Keltner Channel indikatör testi"""
L 352 [comment ]     # Örnek veri oluştur
L 353 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 357 [comment ]     # Fiyat hareketini simüle et
L 373 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 374 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 379 [message ]     print(f"   [OK] Oluşturuldu: {kc}")
L 382 [message ]     print(f"   [OK] Gerekli periyot: {kc.get_required_periods()}")
L 394 [comment ]     # Test 2: Farklı parametreler
L 395 [message ]     print("\n3. Farklı parametre testi...")
L 401 [comment ]     # Test 3: Farklı çarpanlar
L 402 [message ]     print("\n4. Farklı multiplier testi...")
L 408 [comment ]     # Test 4: İstatistikler
L 409 [message ]     print("\n5. İstatistik testi...")
L 411 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 412 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 417 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 421 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 424 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\natr.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     NATR (Normalized Average True Range) - Normalleştirilmiş ATR
L  10 [docstring]     ATR'yi fiyata bölerek normalize eder
L  11 [docstring]     Farklı fiyat seviyelerindeki varlıkları karşılaştırmak için kullanılır
L  12 [docstring]     Yüzde cinsinden volatilite gösterir
L  14 [docstring] Formül:
L  17 [docstring] Bağımlılıklar:
L  39 [docstring]     ATR'yi fiyata bölerek yüzde cinsinden volatilite ölçümü sağlar.
L  40 [docstring]     Farklı fiyat seviyelerindeki varlıkları karşılaştırmak için kullanılır.
L  43 [docstring]         period: ATR periyodu (varsayılan: 14)
L  66 [docstring]         """Minimum gerekli periyot sayısı"""
L  67 [other   ]         return self.period + 1  # TR hesabı için bir önceki mum gerekli
L  70 [docstring]         """Parametreleri doğrula"""
L  74 [string  ]                 "Periyot pozitif olmalı"
L  86 [docstring]             IndicatorResult: NATR değeri (yüzde)
L 114 [comment ]         # NATR hesapla (yüzde cinsinden)
L 127 [other   ]             trend=TrendDirection.NEUTRAL,  # NATR trend göstermez
L 128 [other   ]             strength=min(natr_value * 10, 100),  # 0-100 arası normalize et
L 139 [docstring]         ⚡ VECTORIZED batch NATR calculation - BACKTEST için
L 180 [docstring]         Warmup buffer - update() için gerekli
L 184 [docstring]             symbol: Sembol adı (opsiyonel)
L 191 [comment ]         # Buffer'ları oluştur ve doldur
L 256 [docstring]         NATR değerinden sinyal üret
L 259 [docstring]             natr_value: NATR değeri (yüzde)
L 262 [docstring]             SignalType: Volatilite seviyesine göre sinyal
L 264 [comment ]         # Çok yüksek volatilite: dikkatli ol
L 266 [other   ]             return SignalType.SELL  # Yüksek risk
L 270 [comment ]         # Düşük volatilite: potansiyel fırsat
L 275 [docstring]         """Varsayılan parametreler"""
L 293 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 297 [docstring]     """NATR indikatör testi"""
L 303 [comment ]     # Örnek veri oluştur
L 304 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 308 [comment ]     # Fiyat hareketini simüle et
L 324 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 325 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 330 [message ]     print(f"   [OK] Oluşturuldu: {natr}")
L 332 [message ]     print(f"   [OK] Gerekli periyot: {natr.get_required_periods()}")
L 335 [message ]     print(f"   [OK] NATR Değeri: {result.value}%")
L 338 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 341 [comment ]     # Test 2: Farklı periyotlar
L 342 [message ]     print("\n3. Farklı periyot testi...")
L 348 [comment ]     # Test 3: Farklı fiyat seviyelerinde karşılaştırma
L 349 [message ]     print("\n4. Farklı fiyat seviyesi karşılaştırma testi...")
L 351 [comment ]     # Düşük fiyatlı varlık
L 358 [comment ]     # Yüksek fiyatlı varlık
L 370 [message ]     print(f"   [OK] Düşük Fiyat (~{low_price_data['close'].iloc[-1]:.2f}): NATR={result_low.value:.2...
L 371 [message ]     print(f"   [OK] Yüksek Fiyat (~{high_price_data['close'].iloc[-1]:.2f}): NATR={result_high.value...
L 372 [message ]     print(f"   [INFO] NATR değerleri normalize olduğu için benzer olmalı")
L 374 [comment ]     # Test 4: Düşük volatilite
L 375 [message ]     print("\n5. Düşük volatilite testi...")
L 385 [message ]     print(f"   [OK] Düşük Vol NATR: {result.value:.4f}%")
L 388 [comment ]     # Test 5: Yüksek volatilite
L 389 [message ]     print("\n6. Yüksek volatilite testi...")
L 392 [other   ]         change = np.random.randn() * 10  # Yüksek volatilite
L 404 [message ]     print(f"   [OK] Yüksek Vol NATR: {result.value:.2f}%")
L 407 [comment ]     # Test 6: İstatistikler
L 408 [message ]     print("\n7. İstatistik testi...")
L 410 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 411 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 416 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 420 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 423 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\squeeze.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     TTM Squeeze - Volatilite sıkışması göstergesi
L  10 [docstring]     Bollinger Bands ve Keltner Channel karşılaştırması
L  11 [docstring]     Bollinger Bands, Keltner Channel içindeyse "squeeze" var
L  12 [docstring]     Squeeze bittiğinde güçlü bir hareket beklenir
L  14 [docstring] Formül:
L  20 [docstring] Bağımlılıklar:
L  44 [docstring]     Bollinger Bands ve Keltner Channel karşılaştırarak volatilite sıkışmasını tespit eder.
L  45 [docstring]     Squeeze durumu güçlü bir hareketin habercisi olabilir.
L  48 [docstring]         bb_period: Bollinger Bands periyodu (varsayılan: 20)
L  49 [docstring]         bb_std: Bollinger Bands standart sapma (varsayılan: 2.0)
L  50 [docstring]         kc_period: Keltner Channel periyodu (varsayılan: 20)
L  51 [docstring]         kc_atr_period: Keltner ATR periyodu (varsayılan: 20)
L  52 [docstring]         kc_mult: Keltner çarpanı (varsayılan: 1.5)
L  71 [comment ]         # Bollinger Bands ve Keltner Channel indikatörlerini kullan (code reuse)
L  91 [docstring]         """Minimum gerekli periyot sayısı"""
L  95 [docstring]         """Parametreleri doğrula"""
L  99 [string  ]                 "BB periyodu en az 2 olmalı"
L 104 [string  ]                 "BB standart sapma pozitif olmalı"
L 109 [string  ]                 "KC periyodu pozitif olmalı"
L 114 [string  ]                 "KC ATR periyodu pozitif olmalı"
L 119 [string  ]                 "KC çarpanı pozitif olmalı"
L 131 [docstring]             IndicatorResult: Squeeze değeri (pozitif/negatif momentum)
L 177 [comment ]         # Squeeze durumu kontrolü
L 178 [comment ]         # BB, KC içindeyse squeeze var
L 181 [comment ]         # Momentum hesapla (basitleştirilmiş: close - hl2 ortalaması)
L 185 [comment ]         # Son 20 mumun momentum ortalaması
L 192 [comment ]         # Squeeze gücü (bantlar ne kadar yakın)
L 195 [other   ]             squeeze_strength = max(0, min(1, squeeze_strength))  # 0-1 arası
L 207 [other   ]             strength=min(abs(momentum_value) * 100, 100),  # 0-100 arası normalize et
L 222 [docstring]         ⚡ VECTORIZED batch TTM Squeeze calculation - BACKTEST için
L 328 [docstring]         Squeeze durumu ve momentum'dan sinyal üret
L 332 [docstring]             momentum: Momentum değeri
L 335 [docstring]             SignalType: BUY, SELL veya HOLD
L 341 [comment ]             # Squeeze bitti: momentum yönünde sinyal
L 353 [docstring]             momentum: Momentum değeri
L 356 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 365 [docstring]         """Varsayılan parametreler"""
L 387 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 391 [docstring]     """TTM Squeeze indikatör testi"""
L 397 [comment ]     # Örnek veri oluştur
L 398 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 402 [comment ]     # Fiyat hareketini simüle et
L 418 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 419 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 424 [message ]     print(f"   [OK] Oluşturuldu: {squeeze}")
L 426 [message ]     print(f"   [OK] Gerekli periyot: {squeeze.get_required_periods()}")
L 431 [message ]     print(f"   [OK] Squeeze Gücü: {result.metadata['squeeze_strength']}")
L 437 [comment ]     # Test 2: Düşük volatilite (squeeze aktif)
L 438 [message ]     print("\n3. Düşük volatilite (squeeze) testi...")
L 441 [other   ]         change = np.random.randn() * 0.1  # Çok düşük volatilite
L 453 [message ]     print(f"   [OK] Düşük Vol Momentum: {result.value:.6f}")
L 455 [message ]     print(f"   [OK] Squeeze Gücü: {result.metadata['squeeze_strength']:.4f}")
L 458 [comment ]     # Test 3: Yüksek volatilite (squeeze yok)
L 459 [message ]     print("\n4. Yüksek volatilite (no squeeze) testi...")
L 462 [other   ]         change = np.random.randn() * 5  # Yüksek volatilite
L 474 [message ]     print(f"   [OK] Yüksek Vol Momentum: {result.value:.4f}")
L 476 [message ]     print(f"   [OK] Squeeze Gücü: {result.metadata['squeeze_strength']:.4f}")
L 483 [other   ]         change = abs(np.random.randn()) * 1.0  # Pozitif yön
L 503 [other   ]         change = abs(np.random.randn()) * 1.0  # Negatif yön
L 519 [comment ]     # Test 6: Farklı parametreler
L 520 [message ]     print("\n7. Farklı parametre testi...")
L 529 [comment ]     # Test 7: İstatistikler
L 530 [message ]     print("\n8. İstatistik testi...")
L 532 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 533 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 538 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 542 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 545 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\standard_dev.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Fiyat dağılımının ne kadar yayıldığını ölçer
L  11 [docstring]     Yüksek değer = Yüksek volatilite
L  12 [docstring]     Düşük değer = Düşük volatilite
L  14 [docstring] Formül:
L  17 [docstring] Bağımlılıklar:
L  39 [docstring]     Fiyat hareketlerinin ortalamadan sapmasını ölçerek volatiliteyi belirler.
L  40 [docstring]     Risk yönetimi ve pozisyon büyüklüğü için kullanılır.
L  43 [docstring]         period: Hesaplama periyodu (varsayılan: 20)
L  66 [docstring]         """Minimum gerekli periyot sayısı"""
L  70 [docstring]         """Parametreleri doğrula"""
L  74 [string  ]                 "Periyot en az 2 olmalı"
L  86 [docstring]             IndicatorResult: Standard Deviation değeri
L  90 [comment ]         # Son period kadar veriyi al
L  96 [comment ]         # Ortalama ve varyasyon katsayısı
L 101 [comment ]         # Varyasyon katsayısı (Coefficient of Variation)
L 120 [other   ]             trend=TrendDirection.NEUTRAL,  # Standart sapma trend göstermez
L 121 [other   ]             strength=min(cv * 10, 100),  # 0-100 arası normalize et
L 125 [string  ]                 'cv': round(cv, 2),  # Varyasyon katsayısı (%)
L 133 [docstring]         ⚡ VECTORIZED batch Standard Deviation calculation - BACKTEST için
L 160 [docstring]         Warmup buffer - update() için gerekli
L 164 [docstring]             symbol: Sembol adı (opsiyonel)
L 210 [docstring]         Varyasyon katsayısından sinyal üret
L 213 [docstring]             cv: Varyasyon katsayısı (%)
L 216 [docstring]             SignalType: Volatilite seviyesine göre sinyal
L 218 [comment ]         # Yüksek volatilite: dikkatli ol
L 220 [other   ]             return SignalType.SELL  # Yüksek risk
L 224 [comment ]         # Düşük volatilite: potansiyel fırsat
L 229 [docstring]         """Varsayılan parametreler"""
L 247 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 251 [docstring]     """Standard Deviation indikatör testi"""
L 257 [comment ]     # Örnek veri oluştur
L 258 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 262 [comment ]     # Fiyat hareketini simüle et
L 278 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 279 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 284 [message ]     print(f"   [OK] Oluşturuldu: {std}")
L 286 [message ]     print(f"   [OK] Gerekli periyot: {std.get_required_periods()}")
L 289 [message ]     print(f"   [OK] StdDev Değeri: {result.value}")
L 291 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 294 [comment ]     # Test 2: Farklı periyotlar
L 295 [message ]     print("\n3. Farklı periyot testi...")
L 301 [comment ]     # Test 3: Düşük volatilite testi
L 302 [message ]     print("\n4. Düşük volatilite testi...")
L 308 [string  ]         'close': [100.0 + i * 0.01 for i in range(30)],  # Çok düşük değişim
L 312 [message ]     print(f"   [OK] Düşük Vol StdDev: {result.value:.6f}")
L 316 [comment ]     # Test 4: Yüksek volatilite testi
L 317 [message ]     print("\n5. Yüksek volatilite testi...")
L 320 [other   ]         change = np.random.randn() * 10  # Yüksek volatilite
L 332 [message ]     print(f"   [OK] Yüksek Vol StdDev: {result.value:.4f}")
L 336 [comment ]     # Test 5: İstatistikler
L 337 [message ]     print("\n6. İstatistik testi...")
L 339 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 340 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 345 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 349 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 352 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volatility\true_range.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     True Range - Gerçek Fiyat Aralığı
L  10 [docstring]     Bir mumun gerçek volatilitesini ölçer
L  11 [docstring]     ATR'nin temel bileşenidir
L  14 [docstring] Formül:
L  17 [docstring] Bağımlılıklar:
L  39 [docstring]     Fiyatın gerçek hareket aralığını ölçer. Gap'leri de hesaba katarak
L  40 [docstring]     doğru volatilite ölçümü sağlar.
L  43 [docstring]         Parametre gerektirmez (tek mum hesabı)
L  61 [docstring]         """Minimum gerekli periyot sayısı"""
L  62 [other   ]         return 2  # Güncel ve önceki mum
L  65 [docstring]         """Parametreleri doğrula"""
L  76 [docstring]             IndicatorResult: True Range değeri
L  87 [comment ]         # Üç değeri hesapla
L  92 [comment ]         # Maximum değer True Range'dir
L  98 [comment ]         # True Range'in fiyata oranı (volatilite yüzdesi)
L 109 [comment ]         # Hangi bileşen maksimum?
L 124 [other   ]             trend=TrendDirection.NEUTRAL,  # True Range trend göstermez
L 125 [other   ]             strength=min(tr_percent * 10, 100),  # 0-100 arası normalize et
L 140 [docstring]         ⚡ VECTORIZED batch True Range calculation - BACKTEST için
L 174 [docstring]         Warmup buffer - update() için gerekli
L 178 [docstring]             symbol: Sembol adı (opsiyonel)
L 185 [comment ]         # Buffer'ları oluştur ve doldur
L 251 [docstring]         True Range yüzdesinden sinyal üret
L 254 [docstring]             tr_percent: True Range'in fiyata oranı (%)
L 257 [docstring]             SignalType: Volatilite seviyesine göre sinyal
L 259 [comment ]         # Çok yüksek volatilite: dikkatli ol
L 261 [other   ]             return SignalType.SELL  # Yüksek risk
L 265 [comment ]         # Düşük volatilite
L 270 [docstring]         """Varsayılan parametreler"""
L 286 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 290 [docstring]     """True Range indikatör testi"""
L 296 [comment ]     # Örnek veri oluştur
L 297 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 301 [comment ]     # Fiyat hareketini simüle et
L 317 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 318 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 323 [message ]     print(f"   [OK] Oluşturuldu: {tr}")
L 325 [message ]     print(f"   [OK] Gerekli periyot: {tr.get_required_periods()}")
L 332 [message ]     print(f"   [OK] Gap var mı: {result.metadata['has_gap']}")
L 341 [string  ]         'low': [99.0, 104.0],  # Low > önceki Close
L 357 [string  ]         'high': [102.0, 97.0],  # High < önceki Close
L 368 [comment ]     # Test 4: Normal mum (gap yok)
L 381 [message ]     print(f"   [OK] Gap var mı: {result.metadata['has_gap']}")
L 384 [comment ]     # Test 5: Yüksek volatilite
L 385 [message ]     print("\n6. Yüksek volatilite testi...")
L 395 [message ]     print(f"   [OK] Yüksek Vol TR: {result.value}")
L 399 [comment ]     # Test 6: İstatistikler
L 400 [message ]     print("\n7. İstatistik testi...")
L 402 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 403 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 408 [message ]     print(f"   [OK] İsim: {metadata.name}")
L 412 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 415 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\__init__.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Hacim (Volume) kategorisi indikatörleri.
L  10 [docstring]     Toplam 9 indikatör: OBV, VWAP, VWAP Bands, A/D, CMF, EOM,
L  13 [docstring] Bağımlılıklar:
L  47 [comment ] # Her indikatörün gerekli volume durumu
L  63 [docstring]     Tüm volume indikatörlerini döndür
L  66 [docstring]         dict: {name: class} şeklinde indikatör sözlüğü
L  83 [docstring]     İndikatör bilgilerini döndür
L  86 [docstring]         dict: İndikatör bilgileri
```

### components\indicators\volume\ad.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     A/D (Accumulation/Distribution) - Biriktirme/Dağıtım indikatörü
L  10 [docstring]     Hacim akışını ve fiyat hareketlerini birleştirir
L  11 [docstring]     Yükselen A/D = Biriktirme (alım)
L  12 [docstring]     Düşen A/D = Dağıtım (satım)
L  14 [docstring] Formül:
L  19 [docstring] Bağımlılıklar:
L  41 [docstring]     Para akışını (money flow) ölçerek biriktirme ve dağıtım
L  42 [docstring]     fazlarını tespit eder.
L  45 [docstring]         signal_period: Sinyal hattı SMA periyodu (varsayılan: 10)
L  68 [docstring]         """Minimum gerekli periyot sayısı"""
L  72 [docstring]         """Parametreleri doğrula"""
L  76 [string  ]                 "Periyot pozitif olmalı"
L  88 [docstring]             IndicatorResult: A/D değeri
L 110 [comment ]             # Kümülatif A/D
L 118 [comment ]         # Sinyal hattı (SMA)
L 142 [docstring]         ⚡ VECTORIZED batch A/D calculation - BACKTEST için
L 183 [docstring]         Warmup buffer - update() için gerekli
L 185 [docstring]         AD kümülatif bir indikatördür, bu yüzden son AD değerini ve
L 186 [docstring]         son N bar'ın AD değerlerini (signal için) saklamamız gerekiyor.
L 190 [docstring]             symbol: Sembol adı (opsiyonel)
L 196 [comment ]         # AD değerlerini hesapla ve son değeri sakla
L 215 [comment ]         # Kümülatif AD değerini sakla
L 218 [comment ]         # Son signal_period kadar AD değerini sakla (signal için)
L 230 [docstring]         AD kümülatif hesaplandığı için, önceki AD değerine yeni bar'ın
L 256 [comment ]         # MFM ve MF Volume hesapla
L 264 [comment ]         # Kümülatif AD'yi güncelle
L 281 [comment ]         # Sinyal hattı hesapla
L 300 [docstring]         A/D değerinden sinyal üret
L 303 [docstring]             ad_value: A/D değeri
L 304 [docstring]             ad_signal: A/D sinyal hattı
L 307 [docstring]             SignalType: BUY, SELL veya HOLD
L 312 [other   ]             return SignalType.SELL  # Dağıtım
L 320 [docstring]             ad_array: Son A/D değerleri
L 323 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 328 [comment ]         # Lineer regresyon ile trend
L 338 [docstring]         """Varsayılan parametreler"""
L 356 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 360 [docstring]     """A/D indikatör testi"""
L 366 [comment ]     # Örnek veri oluştur
L 367 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 389 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 390 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 395 [message ]     print(f"   [OK] Oluşturuldu: {ad}")
L 397 [message ]     print(f"   [OK] Gerekli periyot: {ad.get_required_periods()}")
L 400 [message ]     print(f"   [OK] A/D Değeri: {result.value:,.2f}")
L 403 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 406 [comment ]     # Test 2: Farklı periyotlar
L 407 [message ]     print("\n3. Farklı periyot testi...")
L 416 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 419 [comment ]     # Test 4: Biriktirme/Dağıtım tespiti
L 420 [message ]     print("\n5. Biriktirme/Dağıtım testi...")
L 423 [message ]         print("   [OK] Biriktirme fazı tespit edildi")
L 425 [message ]         print("   [OK] Dağıtım fazı tespit edildi")
L 427 [message ]         print("   [OK] Nötr faz")
L 429 [comment ]     # Test 5: MFM değeri
L 434 [message ]         print("   [OK] Pozitif para akışı (alıcı baskısı)")
L 436 [message ]         print("   [OK] Negatif para akışı (satıcı baskısı)")
L 438 [message ]         print("   [OK] Nötr para akışı")
L 440 [comment ]     # Test 6: İstatistikler
L 441 [message ]     print("\n7. İstatistik testi...")
L 443 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 444 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 447 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\adosc.py

```
L   9 [docstring] ADOSC (Chaikin A/D Oscillator) - Chaikin Akümülasyon/Dağıtım Osilatörü.
L  10 [docstring] Accumulation/Distribution Line'ın iki EMA'sının farkını hesaplar.
L  12 [docstring] Özellikler:
L  13 [docstring] - Marc Chaikin tarafından geliştirildi
L  14 [docstring] - Volume-based momentum göstergesi
L  15 [docstring] - Alış ve satış baskısını ölçer
L  16 [docstring] - Pozitif değer = Akümülasyon (Alış baskısı)
L  17 [docstring] - Negatif değer = Dağıtım (Satış baskısı)
L  20 [docstring] Kullanım:
L  28 [docstring] Formül:
L  33 [docstring] Bağımlılıklar:
L  65 [docstring]     Accumulation/Distribution Line'ın iki EMA'sının farkını hesaplar.
L  66 [docstring]     Volume-based momentum göstergesidir.
L  69 [docstring]         fast_period: Hızlı EMA periyodu (varsayılan: 3)
L  70 [docstring]         slow_period: Yavaş EMA periyodu (varsayılan: 10)
L  89 [docstring]         """Minimum gerekli periyot sayısı"""
L  93 [docstring]         """Parametreleri doğrula"""
L  97 [string  ]                 "Hızlı periyot yavaş periyottan küçük olmalı"
L 103 [docstring]         Batch hesaplama (Backtest için)
L 105 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L 111 [docstring]             pd.DataFrame: ADOSC değerleri
L 115 [other   ]         clv = clv.fillna(0)  # Sıfıra bölme durumu
L 129 [docstring]         Warmup buffer - update() için gerekli
L 133 [docstring]             symbol: Sembol adı (opsiyonel)
L 140 [comment ]         # Buffer'ları oluştur ve doldur
L 162 [docstring]             IndicatorResult: ADOSC değeri
L 218 [docstring]         ADOSC hesapla (son değer)
L 224 [docstring]             IndicatorResult: ADOSC değeri
L 260 [docstring]         """Varsayılan parametreler"""
L 284 [docstring]     """ADOSC indikatör testi"""
L 286 [comment ]     # Windows console UTF-8 desteği
L 295 [comment ]     # Örnek veri oluştur
L 296 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 306 [comment ]     # OHLC oluştur
L 323 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 324 [message ]     print(f"   ✅ Fiyat aralığı: {min(close_prices):.2f} -> {max(close_prices):.2f}")
L 325 [message ]     print(f"   ✅ Volume aralığı: {min(volumes):.0f} -> {max(volumes):.0f}")
L 330 [message ]     print(f"   ✅ Oluşturuldu: {adosc}")
L 332 [message ]     print(f"   ✅ Volume gerekli: {adosc._requires_volume()}")
L 333 [message ]     print(f"   ✅ Gerekli periyot: {adosc.get_required_periods()}")
L 339 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 345 [message ]     print(f"   ✅ Son 5 ADOSC değeri:")
L 348 [comment ]     # Test 3: Farklı periyot kombinasyonları
L 349 [message ]     print("\n4. Farklı periyot testi...")
L 361 [comment ]     # Crossover sayısı
L 378 [message ]         print("   ❌ Hata: Geçersiz periyot kombinasyonu kabul edildi!")
L 380 [message ]         print(f"   ✅ Period validasyonu başarılı: {e}")
L 383 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\bop.py

```
L   9 [docstring] BOP (Balance of Power) - Güç Dengesi İndikatörü.
L  10 [docstring] Alıcı ve satıcı gücü arasındaki dengeyi ölçer.
L  12 [docstring] Özellikler:
L  13 [docstring] - Alıcı/satıcı baskısını ölçer
L  14 [docstring] - -1 ile +1 arasında değer üretir
L  15 [docstring] - Pozitif değer = Alıcı baskısı (Bullish)
L  16 [docstring] - Negatif değer = Satıcı baskısı (Bearish)
L  17 [docstring] - Sıfır = Denge durumu
L  18 [docstring] - Her bar için bağımsız hesaplama
L  20 [docstring] Kullanım:
L  28 [docstring] Formül:
L  31 [docstring] Bağımlılıklar:
L  63 [docstring]     Alıcı ve satıcı gücü arasındaki dengeyi ölçer.
L  64 [docstring]     Her bar için bağımsız hesaplanır.
L  82 [docstring]         """Minimum gerekli periyot sayısı"""
L  86 [docstring]         """Parametreleri doğrula"""
L  91 [docstring]         Batch hesaplama (Backtest için)
L  93 [docstring]         Tüm veriyi vektörel olarak hesaplar.
L  99 [docstring]             pd.DataFrame: BOP değerleri
L 104 [comment ]         # Sıfıra bölme durumunu kontrol et
L 117 [docstring]             IndicatorResult: Güncel BOP değeri
L 136 [comment ]         # Sıfıra bölme kontrolü
L 171 [docstring]         BOP hesapla (son değer)
L 177 [docstring]             IndicatorResult: BOP değeri
L 213 [docstring]         """Varsayılan parametreler"""
L 237 [docstring]     """BOP indikatör testi"""
L 239 [comment ]     # Windows console UTF-8 desteği
L 248 [comment ]     # Örnek veri oluştur
L 249 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 259 [comment ]     # OHLC oluştur
L 273 [message ]     print(f"   ✅ {len(data)} mum oluşturuldu")
L 274 [message ]     print(f"   ✅ Fiyat aralığı: {min(close_prices):.2f} -> {max(close_prices):.2f}")
L 279 [message ]     print(f"   ✅ Oluşturuldu: {bop}")
L 281 [message ]     print(f"   ✅ Gerekli periyot: {bop.get_required_periods()}")
L 287 [message ]     print(f"   ✅ Güç: {result.strength:.2f}")
L 293 [message ]     print(f"   ✅ Son 5 BOP değeri:")
L 300 [comment ]     # Son 5 bar için update
L 313 [comment ]     # Test 4: BOP dağılım analizi
L 314 [message ]     print("\n5. BOP dağılım analizi...")
L 324 [message ]     print(f"   ✅ Güçlü alıcı (>0.5): {sum(bop_values > 0.5)}")
L 325 [message ]     print(f"   ✅ Güçlü satıcı (<-0.5): {sum(bop_values < -0.5)}")
L 327 [comment ]     # Test 5: Sıfıra bölme testi
L 328 [message ]     print("\n6. Sıfıra bölme testi...")
L 329 [comment ]     # Doji (open = close = high = low) oluştur
L 339 [message ]     print(f"   ✅ Doji bar BOP: {result.value['bop']} (sıfır olmalı)")
L 342 [message ]     print("✅ TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\cmf.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     CMF (Chaikin Money Flow) - Para akışı osilatörü
L  10 [docstring]     Belirli periyot içindeki alım/satım baskısını ölçer
L  11 [docstring]     Aralık: -1.00 ile +1.00 arası
L  12 [docstring]     CMF > 0 = Alım baskısı
L  13 [docstring]     CMF < 0 = Satım baskısı
L  15 [docstring] Formül:
L  20 [docstring] Bağımlılıklar:
L  42 [docstring]     Marc Chaikin tarafından geliştirilen para akışı indikatörü.
L  43 [docstring]     Hacim ve fiyat konumunu birleştirerek alım/satım baskısını gösterir.
L  46 [docstring]         period: CMF periyodu (varsayılan: 20)
L  47 [docstring]         buy_threshold: Alım eşiği (varsayılan: 0.05)
L  48 [docstring]         sell_threshold: Satım eşiği (varsayılan: -0.05)
L  77 [docstring]         """Minimum gerekli periyot sayısı"""
L  81 [docstring]         """Parametreleri doğrula"""
L  85 [string  ]                 "Periyot pozitif olmalı"
L  91 [string  ]                 "Sell threshold, buy threshold'dan küçük olmalı"
L 103 [docstring]             IndicatorResult: CMF değeri
L 116 [comment ]         # Money Flow Multiplier ve Money Flow Volume hesapla
L 161 [docstring]         ⚡ VECTORIZED batch CMF calculation - BACKTEST için
L 210 [docstring]         Warmup buffer - update() için gerekli state'i hazırlar
L 214 [docstring]             symbol: Sembol adı (opsiyonel)
L 288 [docstring]         CMF değerinden sinyal üret
L 291 [docstring]             value: CMF değeri
L 294 [docstring]             SignalType: BUY, SELL veya HOLD
L 304 [docstring]         CMF değerinden trend belirle
L 307 [docstring]             value: CMF değeri
L 310 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 319 [docstring]         """Varsayılan parametreler"""
L 339 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 343 [docstring]     """CMF indikatör testi"""
L 349 [comment ]     # Örnek veri oluştur
L 350 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 372 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 373 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 378 [message ]     print(f"   [OK] Oluşturuldu: {cmf}")
L 380 [message ]     print(f"   [OK] Gerekli periyot: {cmf.get_required_periods()}")
L 383 [message ]     print(f"   [OK] CMF Değeri: {result.value:.4f}")
L 386 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 389 [comment ]     # Test 2: Farklı periyotlar
L 390 [message ]     print("\n3. Farklı periyot testi...")
L 396 [comment ]     # Test 3: Özel eşikler
L 397 [message ]     print("\n4. Özel eşik testi...")
L 400 [message ]     print(f"   [OK] CMF (özel eşikler): {result.value:.4f}")
L 408 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 411 [comment ]     # Test 5: Para akışı yorumlama
L 412 [message ]     print("\n6. Para akışı yorumlama testi...")
L 417 [message ]         print("   [OK] Güçlü alım baskısı")
L 419 [message ]         print("   [OK] Zayıf alım baskısı")
L 421 [message ]         print("   [OK] Zayıf satım baskısı")
L 423 [message ]         print("   [OK] Güçlü satım baskısı")
L 425 [comment ]     # Test 6: İstatistikler
L 426 [message ]     print("\n7. İstatistik testi...")
L 428 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 429 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 432 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\eom.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     EOM (Ease of Movement) - Hareket kolaylığı indikatörü
L  10 [docstring]     Fiyat değişimini hacimle ilişkilendirerek hareket kolaylığını ölçer
L  11 [docstring]     Yüksek EOM = Az hacimle büyük fiyat hareketi (kolay hareket)
L  12 [docstring]     Düşük EOM = Çok hacimle az fiyat hareketi (zor hareket)
L  14 [docstring] Formül:
L  20 [docstring] Bağımlılıklar:
L  42 [docstring]     Richard Arms tarafından geliştirilen indikatör.
L  43 [docstring]     Fiyat değişimini hacimle ilişkilendirerek trend gücünü ölçer.
L  46 [docstring]         period: EOM smoothing periyodu (varsayılan: 14)
L  47 [docstring]         divisor: Hacim ölçeklendirme divisor (varsayılan: 100000000)
L  73 [docstring]         """Minimum gerekli periyot sayısı"""
L  77 [docstring]         """Parametreleri doğrula"""
L  81 [string  ]                 "Periyot pozitif olmalı"
L  86 [string  ]                 "Divisor pozitif olmalı"
L  98 [docstring]             IndicatorResult: EOM değeri
L 124 [comment ]         # EOM = EMV'nin SMA'sı
L 148 [docstring]         ⚡ VECTORIZED batch EOM calculation - BACKTEST için
L 194 [docstring]         """Warmup buffer - update() için gerekli state'i hazırlar"""
L 254 [docstring]         EOM değerinden sinyal üret
L 257 [docstring]             value: EOM değeri
L 260 [docstring]             SignalType: BUY, SELL veya HOLD
L 262 [other   ]         if value > 0.0001:  # Pozitif ve anlamlı
L 264 [other   ]         elif value < -0.0001:  # Negatif ve anlamlı
L 273 [docstring]             emv_array: Son EMV değerleri
L 276 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 281 [comment ]         # Lineer regresyon ile trend
L 291 [docstring]         """Varsayılan parametreler"""
L 310 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 314 [docstring]     """EOM indikatör testi"""
L 320 [comment ]     # Örnek veri oluştur
L 321 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 343 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 344 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 345 [message ]     print(f"   [OK] Hacim aralığı: {min(volumes):,.0f} -> {max(volumes):,.0f}")
L 350 [message ]     print(f"   [OK] Oluşturuldu: {eom}")
L 352 [message ]     print(f"   [OK] Gerekli periyot: {eom.get_required_periods()}")
L 355 [message ]     print(f"   [OK] EOM Değeri: {result.value:.6f}")
L 358 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 361 [comment ]     # Test 2: Farklı periyotlar
L 362 [message ]     print("\n3. Farklı periyot testi...")
L 368 [comment ]     # Test 3: Farklı divisor'lar
L 369 [message ]     print("\n4. Farklı divisor testi...")
L 378 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 381 [comment ]     # Test 5: Hareket kolaylığı yorumlama
L 382 [message ]     print("\n6. Hareket kolaylığı yorumlama testi...")
L 387 [message ]         print("   [OK] Pozitif EOM - Az hacimle yukarı hareket (kolay yükseliş)")
L 389 [message ]         print("   [OK] Negatif EOM - Az hacimle aşağı hareket (kolay düşüş)")
L 391 [message ]         print("   [OK] Nötr - Hareket yok veya yüksek hacimli konsolidasyon")
L 393 [comment ]     # Test 6: İstatistikler
L 394 [message ]     print("\n7. İstatistik testi...")
L 396 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 397 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 400 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\force_index.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Force Index - Güç endeksi
L  10 [docstring]     Fiyat değişimi ve hacmi birleştirerek alım/satım gücünü ölçer
L  11 [docstring]     Pozitif = Alıcı gücü dominant
L  12 [docstring]     Negatif = Satıcı gücü dominant
L  14 [docstring] Formül:
L  18 [docstring] Bağımlılıklar:
L  40 [docstring]     Alexander Elder tarafından geliştirilen indikatör.
L  41 [docstring]     Fiyat değişimini hacimle çarparak alım/satım gücünü ölçer.
L  44 [docstring]         period: Force Index smoothing periyodu (varsayılan: 13)
L  67 [docstring]         """Minimum gerekli periyot sayısı"""
L  71 [docstring]         """Parametreleri doğrula"""
L  75 [string  ]                 "Periyot pozitif olmalı"
L  87 [docstring]             IndicatorResult: Force Index değeri
L  99 [comment ]         # EMA ile smooth et
L 105 [comment ]         # Normalize edilmiş güç (hacme göre)
L 128 [docstring]         ⚡ VECTORIZED batch Force Index calculation - BACKTEST için
L 168 [docstring]             np.ndarray: EMA değerleri
L 173 [comment ]         # İlk değer SMA
L 183 [docstring]         """Warmup buffer - update() için gerekli state'i hazırlar"""
L 236 [docstring]         Force Index değerinden sinyal üret
L 239 [docstring]             value: Force Index değeri
L 242 [docstring]             SignalType: BUY, SELL veya HOLD
L 245 [other   ]             return SignalType.BUY  # Alıcı gücü
L 247 [other   ]             return SignalType.SELL  # Satıcı gücü
L 255 [docstring]             fi_array: Son Force Index değerleri
L 258 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 263 [comment ]         # Son değerlerin ortalaması
L 273 [docstring]         """Varsayılan parametreler"""
L 291 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 295 [docstring]     """Force Index indikatör testi"""
L 301 [comment ]     # Örnek veri oluştur
L 302 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 324 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 325 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 330 [message ]     print(f"   [OK] Oluşturuldu: {fi}")
L 332 [message ]     print(f"   [OK] Gerekli periyot: {fi.get_required_periods()}")
L 338 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 341 [comment ]     # Test 2: Farklı periyotlar
L 342 [message ]     print("\n3. Farklı periyot testi...")
L 351 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 354 [comment ]     # Test 4: Güç yorumlama
L 355 [message ]     print("\n5. Güç yorumlama testi...")
L 364 [message ]         print("   [OK] Güçlü alıcı baskısı")
L 366 [message ]         print("   [OK] Zayıf alıcı baskısı")
L 368 [message ]         print("   [OK] Zayıf satıcı baskısı")
L 370 [message ]         print("   [OK] Güçlü satıcı baskısı")
L 372 [comment ]     # Test 5: Fiyat-Hacim ilişkisi
L 373 [message ]     print("\n6. Fiyat-Hacim ilişkisi testi...")
L 376 [message ]     print(f"   [OK] Fiyat değişimi: {price_change:.8f}")
L 380 [comment ]     # Test 6: İstatistikler
L 381 [message ]     print("\n7. İstatistik testi...")
L 383 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 384 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 387 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\obv.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     OBV (On Balance Volume) - Hacim bazlı momentum indikatörü
L  10 [docstring]     Fiyat ve hacim arasındaki ilişkiyi ölçer
L  11 [docstring]     Yükselen OBV = Alım baskısı
L  12 [docstring]     Düşen OBV = Satım baskısı
L  14 [docstring] Formül:
L  19 [docstring] Bağımlılıklar:
L  41 [docstring]     Fiyat hareketlerini hacimle birleştirerek momentum ölçer.
L  42 [docstring]     Divergence'lar için güçlü sinyaller verir.
L  45 [docstring]         signal_period: Sinyal hattı SMA periyodu (varsayılan: 20)
L  68 [docstring]         """Minimum gerekli periyot sayısı"""
L  72 [docstring]         """Parametreleri doğrula"""
L  76 [string  ]                 "Periyot pozitif olmalı"
L 120 [docstring]         ⚡ VECTORIZED batch OBV calculation - BACKTEST için
L 140 [comment ]         # OBV hesapla - loop ile (calculate ile aynı mantık)
L 154 [comment ]         # SİNYAL HATTI (SMA) EKLE!
L 164 [docstring]         Warmup buffer - update() için gerekli
L 166 [docstring]         OBV kümülatif bir indikatördür, bu yüzden son OBV değerini
L 167 [docstring]         ve son N bar'ın OBV değerlerini saklamamız gerekiyor.
L 171 [docstring]             symbol: Sembol adı (opsiyonel)
L 177 [comment ]         # OBV değerlerini hesapla
L 192 [comment ]         # Kümülatif OBV değerini sakla
L 196 [comment ]         # Son signal_period kadar OBV değerini sakla
L 208 [docstring]         OBV kümülatif hesaplandığı için, önceki OBV değerine
L 209 [docstring]         yeni bar'ın volume'unu ekleyip çıkarıyoruz.
L 230 [comment ]         # OBV güncelleme
L 232 [comment ]             # İlk bar
L 239 [comment ]             # Eşitse değişiklik yok
L 257 [comment ]         # Sinyal hattı hesapla
L 274 [docstring]         OBV değerinden sinyal üret
L 277 [docstring]             obv_value: OBV değeri
L 278 [docstring]             obv_signal: OBV sinyal hattı
L 281 [docstring]             SignalType: BUY, SELL veya HOLD
L 294 [docstring]             obv_array: Son OBV değerleri
L 297 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 302 [comment ]         # Lineer regresyon ile trend belirleme
L 312 [docstring]         """Varsayılan parametreler"""
L 330 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 334 [docstring]     """OBV indikatör testi"""
L 340 [comment ]     # Örnek veri oluştur
L 341 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 345 [comment ]     # Trend yukarı yönlü fiyat hareketi
L 364 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 365 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 366 [message ]     print(f"   [OK] Hacim aralığı: {min(volumes):.0f} -> {max(volumes):.0f}")
L 371 [message ]     print(f"   [OK] Oluşturuldu: {obv}")
L 373 [message ]     print(f"   [OK] Gerekli periyot: {obv.get_required_periods()}")
L 376 [message ]     print(f"   [OK] OBV Değeri: {result.value['obv']:,.2f}")
L 380 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 383 [comment ]     # Test 2: Farklı periyotlar
L 384 [message ]     print("\n3. Farklı periyot testi...")
L 393 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 396 [comment ]     # Test 4: İstatistikler
L 397 [message ]     print("\n5. İstatistik testi...")
L 399 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 400 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 404 [comment ]     # Yukarı trend oluştur
L 418 [message ]     print(f"   [OK] Yukarı trend OBV: {result.value['obv']:,.2f}")
L 419 [message ]     print(f"   [OK] Trend yönü: {result.trend.name}")
L 422 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\volume_oscillator.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     Volume Oscillator - Hacim osilatörü
L  10 [docstring]     İki farklı periyotlu hacim hareketli ortalaması arasındaki farkı ölçer
L  11 [docstring]     Pozitif = Kısa vadeli hacim artışı
L  12 [docstring]     Negatif = Kısa vadeli hacim düşüşü
L  14 [docstring] Formül:
L  19 [docstring] Bağımlılıklar:
L  41 [docstring]     Kısa ve uzun vadeli hacim hareketli ortalamalarını karşılaştırır.
L  42 [docstring]     Hacim trendlerini ve değişimlerini tespit eder.
L  45 [docstring]         fast_period: Hızlı MA periyodu (varsayılan: 5)
L  46 [docstring]         slow_period: Yavaş MA periyodu (varsayılan: 10)
L  47 [docstring]         signal_period: Sinyal hattı SMA periyodu (varsayılan: 10)
L  76 [docstring]         """Minimum gerekli periyot sayısı"""
L  80 [docstring]         """Parametreleri doğrula"""
L  84 [string  ]                 "Fast periyot pozitif olmalı"
L  89 [string  ]                 "Slow periyot pozitif olmalı"
L  95 [string  ]                 "Fast periyot, slow periyottan küçük olmalı"
L 100 [string  ]                 "Signal periyot pozitif olmalı"
L 112 [docstring]             IndicatorResult: VO değeri
L 116 [comment ]         # Fast ve Slow MA hesapla
L 120 [comment ]         # Volume Oscillator hesapla (yüzde olarak)
L 126 [comment ]         # Tüm VO değerlerini hesapla (signal line için)
L 135 [comment ]         # Sinyal hattı (VO'nun SMA'sı)
L 162 [docstring]         ⚡ VECTORIZED batch Volume Oscillator calculation - BACKTEST için
L 199 [docstring]         """Warmup buffer - update() için gerekli state'i hazırlar"""
L 245 [docstring]         VO değerinden sinyal üret
L 248 [docstring]             vo_value: VO değeri
L 249 [docstring]             vo_signal: VO sinyal hattı
L 252 [docstring]             SignalType: BUY, SELL veya HOLD
L 254 [comment ]         # VO sinyal hattını geçerse
L 256 [other   ]             return SignalType.BUY  # Hacim artıyor ve pozitif
L 258 [other   ]             return SignalType.SELL  # Hacim azalıyor ve negatif
L 263 [docstring]         VO değerinden trend belirle
L 266 [docstring]             value: VO değeri
L 269 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 271 [string  ]         if value > 5:  # %5'den fazla artış
L 273 [string  ]         elif value < -5:  # %5'den fazla azalış
L 278 [docstring]         """Varsayılan parametreler"""
L 298 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 302 [docstring]     """Volume Oscillator indikatör testi"""
L 308 [comment ]     # Örnek veri oluştur
L 309 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 316 [comment ]     # Hacim trendi oluştur (önce düşük, sonra yüksek)
L 337 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 338 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 339 [message ]     print(f"   [OK] Hacim aralığı: {min(volumes):,.0f} -> {max(volumes):,.0f}")
L 344 [message ]     print(f"   [OK] Oluşturuldu: {vo}")
L 346 [message ]     print(f"   [OK] Gerekli periyot: {vo.get_required_periods()}")
L 349 [message ]     print(f"   [OK] VO Değeri: {result.value:.2f}%")
L 352 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 355 [comment ]     # Test 2: Farklı periyotlar
L 356 [message ]     print("\n3. Farklı periyot testi...")
L 365 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 380 [message ]         print("   [OK] Güçlü hacim artışı")
L 382 [message ]         print("   [OK] Zayıf hacim artışı")
L 384 [message ]         print("   [OK] Zayıf hacim azalışı")
L 386 [message ]         print("   [OK] Güçlü hacim azalışı")
L 388 [comment ]     # Test 5: Sinyal hattı crossover
L 389 [message ]     print("\n6. Sinyal hattı testi...")
L 394 [message ]         print("   [OK] VO sinyal hattı üstünde (güçleniyor)")
L 396 [message ]         print("   [OK] VO sinyal hattı altında (zayıflıyor)")
L 398 [comment ]     # Test 6: İstatistikler
L 399 [message ]     print("\n7. İstatistik testi...")
L 401 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 402 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 405 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\volume_profile.py

```
L   8 [docstring] Açıklama:
L  10 [docstring]     Fiyat seviyelerindeki hacim dağılımını gösterir
L  11 [docstring]     POC (Point of Control) - En yüksek hacimli fiyat seviyesi
L  12 [docstring]     VAH (Value Area High) - Değer alanı üst sınırı (%70 hacim)
L  13 [docstring]     VAL (Value Area Low) - Değer alanı alt sınırı (%70 hacim)
L  15 [docstring] Formül:
L  16 [docstring]     1. Fiyat aralığını bins'e böl
L  19 [docstring]     4. VAH/VAL = %70 hacim içeren alan sınırları
L  21 [docstring] Bağımlılıklar:
L  43 [docstring]     Fiyat seviyelerindeki hacim dağılımını analiz eder.
L  44 [docstring]     POC, VAH, VAL değerlerini hesaplar.
L  47 [docstring]         period: Analiz periyodu (varsayılan: 50)
L  48 [docstring]         bins: Fiyat seviyesi sayısı (varsayılan: 24)
L  49 [docstring]         value_area: Değer alanı yüzdesi (varsayılan: 70)
L  78 [docstring]         """Minimum gerekli periyot sayısı"""
L  82 [docstring]         """Parametreleri doğrula"""
L  86 [string  ]                 "Periyot pozitif olmalı"
L  91 [string  ]                 "Bins en az 5 olmalı"
L  96 [string  ]                 "Value area %50-%90 arası olmalı"
L 108 [docstring]             IndicatorResult: POC, VAH, VAL değerleri
L 110 [comment ]         # Period seçimi
L 121 [comment ]         # Fiyat aralığını belirle
L 129 [comment ]         # Bins oluştur
L 133 [comment ]         # Her mumun hacmini ilgili bins'lere dağıt
L 139 [comment ]             # Bu mumun hangi bins'leri kapsadığını bul
L 149 [comment ]                     # Overlap oranı
L 155 [comment ]         # POC (Point of Control) - En yüksek hacimli fiyat seviyesi
L 159 [comment ]         # Value Area hesapla (POC etrafında genişle)
L 163 [comment ]         # POC'tan başlayarak her iki yöne genişle
L 169 [comment ]             # Hangi yöne genişleyeceğine karar ver
L 191 [comment ]         # VAH ve VAL
L 224 [docstring]         Fiyatın value area'ya göre gücünü hesapla
L 227 [docstring]             price: Güncel fiyat
L 228 [docstring]             poc: POC fiyatı
L 229 [docstring]             vah: VAH fiyatı
L 230 [docstring]             val: VAL fiyatı
L 233 [docstring]             float: Güç değeri (0-100)
L 236 [comment ]             # Value area içinde - düşük güç
L 243 [comment ]             # Value area dışında - yüksek güç
L 345 [docstring]         Volume Profile'a göre sinyal üret
L 348 [docstring]             price: Güncel fiyat
L 349 [docstring]             poc: POC fiyatı
L 350 [docstring]             vah: VAH fiyatı
L 351 [docstring]             val: VAL fiyatı
L 354 [docstring]             SignalType: BUY, SELL veya HOLD
L 357 [other   ]             return SignalType.BUY  # Value area altında - potansiyel destek
L 359 [other   ]             return SignalType.SELL  # Value area üstünde - potansiyel direnç
L 361 [other   ]             return SignalType.HOLD  # POC altında
L 363 [other   ]             return SignalType.HOLD  # POC üstünde
L 367 [docstring]         POC'a göre trend belirle
L 370 [docstring]             price: Güncel fiyat
L 371 [docstring]             poc: POC fiyatı
L 374 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 385 [docstring]         """Varsayılan parametreler"""
L 409 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 413 [docstring]     """Volume Profile indikatör testi"""
L 419 [comment ]     # Örnek veri oluştur
L 420 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 442 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 443 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 448 [message ]     print(f"   [OK] Oluşturuldu: {vp}")
L 458 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 460 [comment ]     # Test 2: Farklı bin sayıları
L 461 [message ]     print("\n3. Farklı bin sayısı testi...")
L 471 [message ]     print(f"   [OK] Output sayısı: {len(outputs)}")
L 473 [string  ]     assert len(outputs) == 3, "3 output olmalı!"
L 478 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 489 [message ]     print(f"   [OK] Güncel fiyat: {current:.8f}")
L 495 [message ]         print("   [OK] Fiyat value area üstünde (potansiyel direnç)")
L 497 [message ]         print("   [OK] Fiyat value area altında (potansiyel destek)")
L 499 [message ]         print("   [OK] Fiyat value area içinde")
L 501 [comment ]     # Test 6: İstatistikler
L 502 [message ]     print("\n7. İstatistik testi...")
L 504 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 505 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 508 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\vwap.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     VWAP (Volume Weighted Average Price) - Hacim ağırlıklı ortalama fiyat
L  10 [docstring]     Günlük işlemlerin ortalama fiyatını hacim ile ağırlıklandırır
L  11 [docstring]     Fiyat > VWAP = Güçlü (alıcı baskısı)
L  12 [docstring]     Fiyat < VWAP = Zayıf (satıcı baskısı)
L  14 [docstring] Formül:
L  18 [docstring] Bağımlılıklar:
L  40 [docstring]     Hacim ağırlıklı ortalama fiyat hesaplar.
L  41 [docstring]     Kurumsal yatırımcıların ortalama giriş fiyatını gösterir.
L  44 [docstring]         period: VWAP hesaplama periyodu (varsayılan: 20, 0=tüm data)
L  67 [docstring]         """Minimum gerekli periyot sayısı"""
L  71 [docstring]         """Parametreleri doğrula"""
L  75 [string  ]                 "Periyot negatif olamaz (0=tüm data)"
L  87 [docstring]             IndicatorResult: VWAP değeri
L  97 [comment ]         # Period seçimi (0 ise tüm data)
L 129 [docstring]         ⚡ VECTORIZED batch VWAP calculation - BACKTEST için
L 167 [docstring]         """Warmup buffer - update() için gerekli state'i hazırlar"""
L 202 [docstring]             IndicatorResult: Güncel VWAP değeri
L 272 [docstring]         VWAP'a göre sinyal üret
L 275 [docstring]             price: Güncel fiyat
L 276 [docstring]             vwap: VWAP değeri
L 279 [docstring]             SignalType: BUY, SELL veya HOLD
L 283 [string  ]         if distance_pct < -1.0:  # %1'den fazla VWAP altında
L 285 [string  ]         elif distance_pct > 1.0:  # %1'den fazla VWAP üstünde
L 291 [docstring]         VWAP'a göre trend belirle
L 294 [docstring]             price: Güncel fiyat
L 295 [docstring]             vwap: VWAP değeri
L 298 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 307 [docstring]         """Varsayılan parametreler"""
L 325 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 329 [docstring]     """VWAP indikatör testi"""
L 335 [comment ]     # Örnek veri oluştur
L 336 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 359 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 360 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 361 [message ]     print(f"   [OK] Hacim aralığı: {min(volumes):.0f} -> {max(volumes):.0f}")
L 366 [message ]     print(f"   [OK] Oluşturuldu: {vwap}")
L 368 [message ]     print(f"   [OK] Gerekli periyot: {vwap.get_required_periods()}")
L 371 [message ]     print(f"   [OK] VWAP Değeri: {result.value:.8f}")
L 374 [message ]     print(f"   [OK] Güç: {result.strength:.2f}")
L 377 [comment ]     # Test 2: Farklı periyotlar
L 378 [message ]     print("\n3. Farklı periyot testi...")
L 382 [string  ]         period_str = "Tüm" if period == 0 else str(period)
L 388 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 391 [comment ]     # Test 4: Fiyat-VWAP ilişkisi
L 392 [message ]     print("\n5. Fiyat-VWAP ilişkisi testi...")
L 395 [message ]     print(f"   [OK] Güncel fiyat: {current_price:.8f}")
L 398 [message ]     print(f"   [OK] Durum: {'Fiyat VWAP üstünde' if current_price > result.value else 'Fiyat VWAP al...
L 400 [comment ]     # Test 5: İstatistikler
L 401 [message ]     print("\n6. İstatistik testi...")
L 403 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 404 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 407 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\indicators\volume\vwap_bands.py

```
L   8 [docstring] Açıklama:
L   9 [docstring]     VWAP Bands - VWAP etrafında standart sapma bantları
L  10 [docstring]     VWAP + (std_dev × multiplier) = Üst bant
L  12 [docstring]     Fiyat bantların dışına çıktığında aşırı alım/satım sinyali
L  14 [docstring] Formül:
L  19 [docstring] Bağımlılıklar:
L  41 [docstring]     VWAP etrafında standart sapma bantları oluşturur.
L  42 [docstring]     Bollinger Bands benzeri mantıkla çalışır.
L  45 [docstring]         period: VWAP hesaplama periyodu (varsayılan: 20)
L  46 [docstring]         multiplier: Standart sapma çarpanı (varsayılan: 2.0)
L  72 [docstring]         """Minimum gerekli periyot sayısı"""
L  76 [docstring]         """Parametreleri doğrula"""
L  80 [string  ]                 "Periyot pozitif olmalı"
L  85 [string  ]                 "Çarpan pozitif olmalı"
L  97 [docstring]             IndicatorResult: VWAP Bands değerleri
L 107 [comment ]         # Period seçimi
L 119 [comment ]         # Standart sapma hesapla (hacim ağırlıklı)
L 123 [comment ]         # Bantları hesapla
L 130 [comment ]         # Bant genişliği
L 133 [comment ]         # Fiyatın bantlara göre pozisyonu (0-100)
L 164 [docstring]         ⚡ VECTORIZED batch VWAP Bands calculation - BACKTEST için
L 278 [docstring]         VWAP Bands'a göre sinyal üret
L 281 [docstring]             price: Güncel fiyat
L 282 [docstring]             upper: Üst bant
L 284 [docstring]             vwap: VWAP değeri
L 287 [docstring]             SignalType: BUY, SELL veya HOLD
L 290 [other   ]             return SignalType.BUY  # Aşırı satım
L 292 [other   ]             return SignalType.SELL  # Aşırı alım
L 294 [other   ]             return SignalType.HOLD  # VWAP üstünde
L 296 [other   ]             return SignalType.HOLD  # VWAP altında
L 300 [docstring]         VWAP'a göre trend belirle
L 303 [docstring]             price: Güncel fiyat
L 304 [docstring]             vwap: VWAP değeri
L 307 [docstring]             TrendDirection: UP, DOWN veya NEUTRAL
L 318 [docstring]         """Varsayılan parametreler"""
L 341 [comment ] # KULLANIM ÖRNEĞİ (TEST)
L 345 [docstring]     """VWAP Bands indikatör testi"""
L 351 [comment ]     # Örnek veri oluştur
L 352 [message ]     print("1. Örnek OHLCV verisi oluşturuluyor...")
L 374 [message ]     print(f"   [OK] {len(data)} mum oluşturuldu")
L 375 [message ]     print(f"   [OK] Fiyat aralığı: {min(prices):.2f} -> {max(prices):.2f}")
L 380 [message ]     print(f"   [OK] Oluşturuldu: {vwap_bands}")
L 385 [message ]     print(f"   [OK] Üst Bant: {result.value['upper']:.8f}")
L 392 [comment ]     # Test 2: Farklı çarpanlar
L 393 [message ]     print("\n3. Farklı çarpan testi...")
L 403 [message ]     print(f"   [OK] Output sayısı: {len(outputs)}")
L 405 [string  ]     assert len(outputs) == 3, "3 output olmalı!"
L 410 [message ]     print(f"   [OK] Volume gerekli: {metadata.requires_volume}")
L 419 [message ]         print("   [OK] Fiyat alt banda yakın (oversold)")
L 421 [message ]         print("   [OK] Fiyat üst banda yakın (overbought)")
L 423 [message ]         print("   [OK] Fiyat bantlar arasında")
L 425 [comment ]     # Test 6: İstatistikler
L 426 [message ]     print("\n7. İstatistik testi...")
L 428 [message ]     print(f"   [OK] Hesaplama sayısı: {stats['calculation_count']}")
L 429 [message ]     print(f"   [OK] Hata sayısı: {stats['error_count']}")
L 432 [message ]     print("[BAŞARILI] TÜM TESTLER BAŞARILI!")
```

### components\managers\parquets_engine.py

```
L   9 [docstring] Parquet dosyalarından historical data yönetimi
L  11 [docstring] Özellikler:
L  12 [docstring] - Multi-year support (2023, 2024, 2025 dosyalarını otomatik birleştir)
L  14 [docstring] - Warmup period desteği (başlangıçtan önce N mum)
L  15 [docstring] - Akıllı dosya bulma (eksik yılları atla)
L  17 [docstring] - TODO: MTF resample (1m → 5m, 15m, 1h...) Volume için sum, OHLC için resample
L  19 [docstring] Kullanım:
L  34 [docstring] Bağımlılıklar:
L  37 [docstring]     - pyarrow (parquet okuma için)
L  48 [docstring]     Parquet dosyalarından historical data yönetimi
L  50 [docstring]     Multi-year desteği, timezone conversion, warmup period
L  63 [docstring]             data_path: Parquet dosyalarının bulunduğu klasör (opsiyonel - config'den okunur)
L  71 [comment ]         # Data path - config'den oku veya fallback
L  85 [message ]                 self.logger.warning(f"⚠️  ParquetsEngine: Config yok, default path kullanılıyor: {se...
L  87 [comment ]         # Cache için (aynı dosya tekrar okunmasın)
L 100 [docstring]         Tarih aralığındaki historical data'yı getir
L 103 [docstring]             symbol: Trading pair (örn: BTCUSDT)
L 104 [docstring]             timeframe: Timeframe (örn: 1m, 5m, 15m, 1h)
L 105 [docstring]             start_date: Başlangıç tarihi (local time, ISO format)
L 106 [docstring]             end_date: Bitiş tarihi (local time, ISO format)
L 107 [docstring]             warmup_candles: Başlangıçtan önce kaç mum lazım (warmup için)
L 108 [docstring]             utc_offset: UTC offset (saat) - örn: 3 = UTC+3
L 114 [docstring]             FileNotFoundError: Gerekli dosya bulunamadı
L 118 [message ]             self.logger.info(f"📂 ParquetsEngine: Historical data yükleniyor")
L 120 [message ]             self.logger.info(f"   Başlangıç (local): {start_date}")
L 121 [message ]             self.logger.info(f"   Bitiş (local): {end_date}")
L 125 [comment ]         # Local time'ı UTC'ye çevir
L 133 [message ]             self.logger.info(f"   Başlangıç (UTC): {start_utc}")
L 134 [message ]             self.logger.info(f"   Bitiş (UTC): {end_utc}")
L 136 [comment ]         # Hangi yıl dosyaları lazım? (start_utc - warmup'dan end_utc'ye kadar)
L 137 [comment ]         # Warmup için başlangıçtan önce de data lazım
L 141 [message ]             self.logger.info(f"   Gerekli yıllar: {years}")
L 143 [comment ]         # Multi-year dosyaları oku ve birleştir
L 151 [message ]             raise FileNotFoundError(f"Hiç parquet dosya bulunamadı: {symbol}_{timeframe}")
L 153 [comment ]         # Birleştir
L 174 [message ]             self.logger.info(f"   ✅ Toplam {len(df)} satır yüklendi (birleştirilmiş)")
L 176 [comment ]         # Warmup için başlangıçtan ÖNCE warmup_candles kadar data lazım
L 181 [comment ]                 # UYARI: Yetersiz warmup, ama devam et
L 185 [string  ]                         f"Başlangıçtan ({start_utc}) önce {warmup_candles} mum gerekli, "
L 186 [string  ]                         f"ancak sadece {len(df_before_start)} mum var. "
L 187 [string  ]                         f"İlk {warmup_candles - len(df_before_start)} mum için indicator değerleri e...
L 190 [comment ]                 # Var olanı kullan
L 194 [message ]                         self.logger.info(f"   📊 Kısmi warmup başlangıcı: {warmup_start} ({len(df_bef...
L 197 [comment ]                     # Hiç warmup yok, start_utc'den başla
L 199 [message ]                         self.logger.warning(f"⚠️  Hiç warmup data yok, başlangıçtan ({start_utc}) ba...
L 202 [comment ]                 # Yeterli warmup var
L 206 [message ]                     self.logger.info(f"   📊 Warmup başlangıcı: {warmup_start}")
L 208 [comment ]                 # Warmup başlangıcından end_utc'ye kadar filtrele
L 211 [comment ]             # Warmup yok, sadece start_utc - end_utc aralığı
L 215 [message ]             self.logger.info(f"   ✅ Filtre sonrası: {len(df)} satır")
L 216 [message ]             self.logger.info(f"   📅 Tarih aralığı: {df.iloc[0]['open_time']} - {df.iloc[-1]['open_ti...
L 231 [docstring]         Gerekli yıl dosyalarını belirle
L 233 [docstring]         Warmup için başlangıçtan önce de data lazım, o yüzden daha eski yıllar da gerekebilir.
L 235 [comment ]         # Başlangıç ve bitiş yılları
L 239 [comment ]         # Warmup için kaç gün geriye gitmek lazım?
L 241 [comment ]             # Timeframe'i dakikaya çevir
L 244 [comment ]             # Warmup için gereken toplam süre (dakika)
L 247 [comment ]             # Dakikayı güne çevir
L 250 [comment ]             # Warmup başlangıç tarihi
L 253 [comment ]             # Warmup başlangıç yılı
L 257 [message ]                 self.logger.debug(f"   Warmup hesaplama: {warmup_candles} × {tf_minutes}min = {warmu...
L 258 [message ]                 self.logger.debug(f"   Warmup başlangıç yılı: {warmup_start_year}")
L 260 [comment ]             # start_year'ı güncelle
L 263 [comment ]         # Yıl listesi oluştur
L 269 [docstring]         """Timeframe string'ini dakikaya çevir (örn: '15m' -> 15, '1h' -> 60)"""
L 287 [docstring]         Tek bir parquet dosyayı oku
L 289 [docstring]         Cache kullanır, dosya yoksa None döner (hata vermez)
L 292 [comment ]         # (1m minute ile karışmasın diye)
L 300 [comment ]         # Cache'de var mı?
L 307 [comment ]         # Dosya var mı?
L 310 [message ]                 self.logger.warning(f"   ⚠️  Dosya bulunamadı (atlanıyor): {filename}")
L 318 [message ]                 self.logger.info(f"   ✅ Okundu: {filename} ({len(df)} satır)")
L 327 [message ]                 self.logger.error(f"   ❌ Okuma hatası: {filename} - {e}")
L 347 [docstring]         TODO: Bir timeframe'den diğerine resample
L 349 [docstring]         Örnek: 1m → 5m, 15m, 1h
L 358 [docstring]             source_tf: Kaynak timeframe (örn: 1m)
L 359 [docstring]             target_tf: Hedef timeframe (örn: 5m)
L 364 [message ]         raise NotImplementedError("MTF resample henüz implement edilmedi - TODO")
L 406 [message ]             logger.info(f"\n✅ Test 1 BAŞARILI!")
L 407 [message ]             logger.info(f"   Toplam satır: {len(df)}")
L 408 [message ]             logger.info(f"   İlk mum: {df.iloc[0]['open_time']}")
L 412 [message ]             logger.error(f"❌ Test 1 BAŞARISIZ: {e}")
```

### components\strategies\base_strategy.py

```
L  11 [docstring]     Base strategy class ve tüm config type'ları.
L  12 [docstring]     Her strategy template bu class'ı inherit eder.
L  14 [docstring] Kullanım:
L  36 [docstring]     """Trading yönü - Strateji hangi yönde pozisyon açabilir"""
L  37 [string  ]     LONG = "LONG"      # Sadece LONG pozisyon aç
L  38 [string  ]     SHORT = "SHORT"    # Sadece SHORT pozisyon aç
L  39 [string  ]     BOTH = "BOTH"      # Hem LONG hem SHORT açabilir
L  40 [string  ]     FLAT = "FLAT"      # Hiçbir pozisyon açma (pause)
L  44 [docstring]     """Pozisyon boyutu hesaplama metodları"""
L  46 [string  ]     FIXED_PERCENT = "FIXED_PERCENT"          # Sabit yüzde (%5 of capital)
L  48 [string  ]     RISK_BASED = "RISK_BASED"                # Risk bazlı (stop loss'a göre)
L  49 [string  ]     KELLY_CRITERION = "KELLY_CRITERION"      # Kelly formülü
L  50 [string  ]     VOLATILITY_SCALED = "VOLATILITY_SCALED"  # ATR/volatility bazlı
L  55 [docstring]     """Take profit metodları"""
L  56 [string  ]     FIXED_PERCENT = "FIXED_PERCENT"          # Sabit yüzde (%2)
L  59 [string  ]     ATR_BASED = "ATR_BASED"                  # ATR çarpanı (2x ATR)
L  65 [docstring]     """Stop loss metodları"""
L  66 [string  ]     FIXED_PERCENT = "FIXED_PERCENT"          # Sabit yüzde (%1)
L  68 [string  ]     ATR_BASED = "ATR_BASED"                  # ATR çarpanı (1.5x ATR)
L  81 [docstring]     Symbol konfigürasyonu
L  84 [docstring]         symbol: Base asset listesi (örn: ['BTC', 'ETH'])
L  85 [docstring]         quote: Quote currency (örn: 'USDT')
L  96 [docstring]     Teknik indikatör parametreleri
L  99 [docstring]         indicators: Indikatör dict'i
L 112 [docstring]     Risk yönetimi parametreleri
L 116 [docstring]     1. FIXED_PERCENT (ÖNERİLEN - En basit):
L 117 [docstring]        - size_value: Portfolio'nun kaç %'i (leverage ile çarpılır)
L 119 [docstring]        - Örnek: size_value=10, leverage=5 → Her trade %50 pozisyon (10% × 5x)
L 122 [docstring]        - size_value: Her trade'de kaç $ (leverage UYGULANMAZ!)
L 124 [docstring]        - Örnek: size_value=1000 → Her trade $1000 pozisyon
L 126 [docstring]     3. RISK_BASED (KARMAŞIK - Dikkatli kullan!):
L 128 [docstring]        - max_risk_per_trade: Kaybetmeye hazır olduğun % (stop_loss ile bölünür)
L 129 [docstring]        - Formül: Position = (Portfolio × max_risk_per_trade) / stop_loss_distance
L 130 [docstring]        - Örnek: max_risk=2%, stop_loss=2%, leverage=1 → %100 pozisyon
L 131 [docstring]        - ⚠️ UYARI: max_risk/stop_loss > leverage ise LIMIT AŞIMI olur!
L 134 [docstring]         sizing_method: Pozisyon boyutu hesaplama metodu (yukarıdaki 3'ten biri)
L 135 [docstring]         size_value: Pozisyon boyutu değeri (method'a göre değişir - yukarıya bak)
L 136 [docstring]         max_risk_per_trade: Her trade'de maksimum risk (sadece RISK_BASED'de kullanılır)
L 140 [docstring]         max_daily_trades: Günlük maksimum trade sayısı
L 142 [docstring]         ai_risk_enabled: AI risk yönetimi aktif mi? (henüz implement edilmedi)
L 146 [docstring]         max_portfolio_risk otomatik hesaplanır: strategy.leverage × 100
L 147 [docstring]         Örnek: leverage=5 → max_portfolio_risk=500% (5x kaldıraç ile max %500 pozisyon)
L 151 [comment ]     # Position sizing parameters (her method kendi parametresini kullanır)
L 152 [string  ]     position_percent_size: float = 10.0      # FIXED_PERCENT için: Portfolio'nun kaç %'i
L 153 [other   ]     position_usd_size: float = 1000.0        # FIXED_USD için: Kaç dolar
L 154 [other   ]     position_quantity_size: float = 0.01     # FIXED_QUANTITY için: Kaç adet (örn: 0.01 BTC)
L 155 [other   ]     max_risk_per_trade: float = 2.0          # RISK_BASED için: Kaybetmeye hazır %
L 173 [docstring]     Pozisyon yönetimi parametreleri
L 176 [docstring]         max_positions_per_symbol: Her symbol için maksimum pozisyon
L 177 [docstring]         max_total_positions: Toplam maksimum pozisyon sayısı
L 179 [docstring]         position_timeout_enabled: Timeout kontrolü aktif mi?
L 180 [docstring]         position_timeout: Pozisyon timeout süresi (dakika)
L 182 [docstring]         pyramiding_max_entries: Maksimum pyramiding entry sayısı
L 183 [docstring]         pyramiding_scale_factor: Her entry'de boyut çarpanı
L 203 [docstring]         take_profit_percent: FIXED_PERCENT için %TP
L 204 [docstring]         take_profit_price: FIXED_PRICE için fiyat
L 205 [docstring]         take_profit_risk_reward_ratio: RISK_REWARD için R/R oranı
L 206 [docstring]         take_profit_atr_multiplier: ATR_BASED için ATR çarpanı
L 207 [docstring]         take_profit_fib_level: FIBONACCI için extension seviyesi
L 208 [docstring]         take_profit_ai_level: DYNAMIC_AI için seviye
L 212 [docstring]         stop_loss_percent: FIXED_PERCENT için %SL
L 213 [docstring]         stop_loss_price: FIXED_PRICE için fiyat
L 214 [docstring]         stop_loss_atr_multiplier: ATR_BASED için ATR çarpanı
L 215 [docstring]         stop_loss_swing_lookback: SWING_POINTS için lookback period
L 216 [docstring]         stop_loss_fib_level: FIBONACCI için retracement seviyesi
L 217 [docstring]         stop_loss_ai_level: DYNAMIC_AI için seviye
L 221 [docstring]         trailing_activation_profit_percent: Trailing aktif olacağı kar yüzdesi
L 222 [docstring]         trailing_callback_percent: Geri çekilme yüzdesi
L 223 [docstring]         trailing_take_profit: TP'ye ulaşınca trail başlat
L 224 [docstring]         trailing_distance: TP'den uzaklık
L 228 [docstring]         break_even_trigger_profit_percent: Tetikleme kar yüzdesi
L 232 [docstring]         partial_exit_enabled: Kısmi çıkış aktif mi?
L 234 [docstring]         partial_exit_sizes: Her seviyede kapatılacak miktar
L 275 [docstring]     AI Model Konfigürasyonu
L 277 [docstring]     AI modeli strateji kararlarına yardımcı olur:
L 278 [docstring]     - Entry Decision: Sinyalin kalitesini değerlendir
L 279 [docstring]     - TP/SL Optimization: Optimal TP/SL öner
L 280 [docstring]     - Position Sizing: Risk bazlı pozisyon boyutu
L 281 [docstring]     - Exit Timing: Çıkış zamanlaması
L 286 [docstring]         model_path: Model checkpoint dosyası
L 290 [docstring]         entry_decision: AI giriş kararında kullanılsın mı?
L 291 [docstring]         confidence_threshold: Minimum güven eşiği (0.5-0.9)
L 294 [docstring]         tp_optimization: AI optimal TP önersin mi?
L 295 [docstring]         sl_optimization: AI optimal SL önersin mi?
L 300 [docstring]         position_sizing: AI pozisyon boyutu önersin mi?
L 301 [docstring]         risk_assessment: AI risk değerlendirmesi yapsın mı?
L 302 [docstring]         max_ai_position_mult: AI max pozisyon çarpanı (1.0 = normal)
L 305 [docstring]         exit_timing: AI çıkış zamanlaması önersin mi?
L 306 [docstring]         early_exit_enabled: Erken çıkış aktif mi?
L 307 [docstring]         early_exit_threshold: Erken çıkış için kayıp eşiği
L 311 [docstring]         ai_trailing: AI trailing stop yönetimi
L 314 [docstring]         lookback_bars: Kaç bar geriye bak (feature extraction)
L 315 [docstring]         forward_bars: Kaç bar ileriye bak (default)
L 316 [docstring]         forward_bars_1m: 1m için forward bars
L 317 [docstring]         forward_bars_5m: 5m için forward bars
L 318 [docstring]         forward_bars_15m: 15m için forward bars
L 319 [docstring]         forward_bars_30m: 30m için forward bars
L 320 [docstring]         forward_bars_1h: 1h için forward bars
L 321 [docstring]         forward_bars_4h: 4h için forward bars
L 322 [docstring]         forward_bars_1d: 1d için forward bars
L 323 [docstring]         forward_bars_1w: 1w için forward bars
L 345 [other   ]     entry_decision: bool = True           # AI giriş kararında kullanılsın mı?
L 346 [other   ]     confidence_threshold: float = 0.6     # Min güven (LONG > threshold, SHORT < 1-threshold)
L 351 [other   ]     tp_optimization: bool = False         # AI optimal TP önersin mi?
L 352 [other   ]     sl_optimization: bool = False         # AI optimal SL önersin mi?
L 355 [other   ]     tp_blend_ratio: float = 0.5           # AI/Strategy TP blend oranı (0=strategy, 1=AI)
L 356 [other   ]     sl_blend_ratio: float = 0.5           # AI/Strategy SL blend oranı (0=strategy, 1=AI)
L 361 [other   ]     position_sizing: bool = False         # AI pozisyon boyutu önersin mi?
L 362 [other   ]     risk_assessment: bool = False         # AI risk değerlendirmesi yapsın mı?
L 363 [other   ]     max_ai_position_mult: float = 1.5     # AI max pozisyon çarpanı (güven yüksekse büyüt)
L 364 [other   ]     min_ai_position_mult: float = 0.5     # AI min pozisyon çarpanı (güven düşükse küçült)
L 369 [other   ]     exit_timing: bool = False             # AI çıkış zamanlaması önersin mi?
L 370 [other   ]     early_exit_enabled: bool = False      # Erken çıkış aktif mi?
L 371 [other   ]     early_exit_profit_threshold: float = 0.5   # Min kar % için erken çıkış
L 372 [other   ]     early_exit_loss_threshold: float = -1.0    # Max kayıp % için erken çıkış
L 378 [other   ]     ai_trailing: bool = False             # AI trailing stop yönetimi
L 379 [other   ]     ai_partial_exit: bool = False         # AI partial exit kararı
L 388 [other   ]     use_exit_model_trailing: bool = False # Exit Model trailing kararını alsın mı?
L 389 [other   ]     use_exit_model_break_even: bool = False # Exit Model BE kararını alsın mı?
L 390 [other   ]     exit_model_blend_ratio: float = 1.0  # Exit Model blend oranı (0=strategy, 1=AI)
L 395 [other   ]     lookback_bars: int = 200              # Feature extraction için geriye bakış
L 397 [comment ]     # Forward bars (prediction horizon) - timeframe bazlı
L 404 [other   ]     forward_bars_4h: int = 24             # 4h: 24 bar = 4 gün
L 405 [other   ]     forward_bars_1d: int = 12             # 1d: 12 bar = 12 gün
L 431 [docstring]     Tüm strategy template'leri bu class'ı inherit eder.
L 433 [docstring]     Örnek:
L 562 [comment ]         # OPTIMIZER MANAGEMENT (backtest için, trade'de kullanılmaz)
L 568 [docstring]         Alt sınıf oluşturulduğunda çağrılır.
L 569 [docstring]         Primary TF'nin MTF içinde olmasını garanti eder.
L 584 [docstring]         Primary timeframe'in MTF listesinde olmasını garanti et.
L 586 [docstring]         Bazı stratejilerde primary_timeframe mtf_timeframes içinde olmayabilir.
L 587 [docstring]         Bu güvenlik kontrolü her zaman primary TF'nin MTF'de olmasını sağlar.
L 618 [docstring]             data: Market data (DataFrame veya dict)
L 633 [comment ]         # Bu method helpers/validation.py tarafından implement edilecek
L 634 [comment ]         # Şimdilik placeholder
L 642 [docstring]         """Tüm kullanılan timeframe'leri dön"""
L 646 [docstring]         """Tüm indikatör isimlerini dön"""
```

### components\strategies\exit_manager.py

```
L  11 [docstring]     Exit stratejisi yönetimi:
L  18 [docstring] Kullanım:
L  44 [docstring]     SL, TP, trailing, break-even mantığını yönetir
L  67 [message ]             raise ValueError("Strategy exit_strategy gerekli")
L  81 [docstring]         Stop loss fiyatını hesapla
L  84 [docstring]             entry_price: Entry fiyatı
L  87 [docstring]             atr_value: ATR değeri (optional, for ATR-based)
L  90 [docstring]             Stop loss price veya None (disabled)
L 115 [message ]                     self.logger.warning("ATR_BASED SL ama ATR değeri yok")
L 126 [message ]                     self.logger.warning("SWING_POINTS SL ama data yok")
L 137 [message ]                     self.logger.warning("FIBONACCI SL ama data yok")
L 146 [message ]                     self.logger.warning("DYNAMIC_AI SL ama data yok")
L 191 [docstring]         lookback=3 → Son 3 mumun en düşük/yüksek fiyatını kullan
L 204 [comment ]                 # LONG: Son N mumun en düşük fiyatı (dip)
L 209 [comment ]                 # SHORT: Son N mumun en yüksek fiyatı (zirve)
L 226 [comment ]         # Simplified: swing points ile aynı (gerçek SR detection gerekir)
L 389 [docstring]         Take profit fiyatını hesapla
L 392 [docstring]             entry_price: Entry fiyatı
L 394 [docstring]             stop_loss_price: SL fiyatı (for RISK_REWARD)
L 395 [docstring]             atr_value: ATR değeri (for ATR_BASED)
L 399 [docstring]             Take profit price veya None (disabled)
L 424 [message ]                     self.logger.warning("RISK_REWARD TP ama SL yok")
L 435 [message ]                     self.logger.warning("ATR_BASED TP ama ATR yok")
L 446 [message ]                     self.logger.warning("FIBONACCI TP ama data yok")
L 455 [message ]                     self.logger.warning("DYNAMIC_AI TP ama data yok")
L 595 [docstring]         DYNAMIC_AI TP mantığı:
L 596 [docstring]         - TP fiyatı yerine AI'ın CLOSE veya ters sinyal vermesini bekle
L 598 [docstring]         - Gerçek exit kararı check_ai_exit() ile yapılır
L 609 [docstring]             Fallback TP price (AI exit kararı ayrı kontrol edilir)
L 611 [comment ]         # DYNAMIC_AI modunda TP fiyatı çok uzak tutulur
L 612 [comment ]         # Çünkü asıl exit kararı AI prediction'a göre yapılır
L 613 [comment ]         # Bu sadece "maximum TP" limiti olarak çalışır
L 627 [comment ]         # AI varsa, çok geniş bir TP limiti koy (AI karar verene kadar)
L 643 [docstring]         AI'ın exit sinyali verip vermediğini kontrol et.
L 645 [docstring]         DYNAMIC_AI exit mantığı:
L 648 [docstring]         - AI confidence düşükse → Hold (exit etme)
L 686 [comment ]             # Exit koşulları:
L 696 [comment ]             # 2. AI ters sinyal verdi (yüksek confidence ile)
L 699 [other   ]                 if short_prob > 0.6:  # %60+ SHORT olasılığı
L 709 [other   ]                 if long_prob > 0.6:  # %60+ LONG olasılığı
L 717 [comment ]             # 3. Karda ve AI HOLD diyor ama düşük confidence
L 726 [comment ]             # Exit yok, devam et
L 756 [docstring]         Trailing stop güncellenmeli mi?
L 759 [docstring]             entry_price: Entry fiyatı
L 760 [docstring]             current_price: Mevcut fiyat
L 761 [docstring]             current_sl: Mevcut SL fiyatı
L 770 [comment ]         # Trailing activation kontrolü
L 779 [comment ]             # Henüz aktif değil
L 782 [comment ]         # Trailing callback yüzdesi
L 793 [comment ]             # SL yukarı hareket etmeli (trailing)
L 799 [comment ]             # SL aşağı hareket etmeli (trailing)
L 817 [docstring]         SL break-even'a çekilmeli mi?
L 820 [docstring]             entry_price: Entry fiyatı
L 821 [docstring]             current_price: Mevcut fiyat
L 822 [docstring]             current_sl: Mevcut SL fiyatı
L 831 [comment ]         # Trigger profit kontrolü
L 840 [comment ]             # Henüz tetiklenmedi
L 853 [comment ]             # Mevcut SL break-even'ın altındaysa güncelle
L 859 [comment ]             # Mevcut SL break-even'ın üstündeyse güncelle
L 877 [docstring]         Partial exit yapılmalı mı? Kaç lot?
L 880 [docstring]             entry_price: Entry fiyatı
L 881 [docstring]             current_price: Mevcut fiyat
L 883 [docstring]             completed_exits: Kaç partial exit yapılmış
L 895 [comment ]             # Tüm partial exitler tamamlanmış
L 898 [comment ]         # Mevcut profit
L 905 [comment ]         # Sonraki level'ı kontrol et
L 925 [docstring]         Kar yüzdesini hesapla
L 950 [docstring]         Kapsamlı exit kontrolü - Backtest entegrasyonu için
L 952 [docstring]         Kontrol sırası:
L 953 [docstring]         1. Position Timeout (eğer enabled)
L 954 [docstring]         2. Stop Loss (temel veya trailing/break-even ile güncellenmiş)
L 956 [docstring]         4. Trailing Stop güncelleme
L 957 [docstring]         5. Break-even güncelleme
L 959 [docstring]         7. Exit Conditions (strateji tanımlı)
L 963 [docstring]             current_price: Mevcut fiyat (close)
L 964 [docstring]             current_timestamp: Mevcut timestamp (bar time)
L 965 [docstring]             current_idx: Mevcut bar index
L 966 [docstring]             position_management: PositionManagement config (timeout için)
L 967 [docstring]             timeframe_data: MTF data dict (exit conditions için)
L 968 [docstring]             current_bar_data: Current bar DataFrame (ATR, indicators için)
L 977 [docstring]                 'update_sl': Optional[float],  # Trailing veya break-even için yeni SL
L 980 [docstring]             veya None (exit yok)
L1178 [docstring]         Exit condition'ları kontrol et
L1231 [docstring]         Tek bir condition'ı evaluate et
```

### components\strategies\helpers\condition_parser.py

```
L  11 [docstring]     Entry/exit koşul array'lerini parse eder.
L  14 [docstring]     Örnek: ['ema_50', '>', 'ema_200', '15m']
L  18 [docstring] Kullanım:
L  37 [docstring]     Koşul array'lerini parse eder
L  43 [docstring]     Örnekler:
L  49 [comment ]     # Geçerli operatörler
L  51 [comment ]         # Karşılaştırma
L  67 [comment ]     # Özel keyword'ler (price/volume data)
L  76 [docstring]         Koşul array'ini parse et
L  79 [docstring]             condition: Koşul array'i
L  80 [docstring]                 Format: ['left', 'operator', 'right'] veya
L  93 [docstring]             ValueError: Geçersiz koşul formatı
L  96 [message ]             raise ValueError(f"Koşul list veya tuple olmalı, {type(condition)} verildi")
L 100 [string  ]                 f"Koşul en az 3 element olmalı (left, operator, right), "
L 101 [string  ]                 f"{len(condition)} element var: {condition}"
L 106 [string  ]                 f"Koşul en fazla 4 element olmalı (left, operator, right, timeframe), "
L 107 [string  ]                 f"{len(condition)} element var: {condition}"
L 134 [docstring]         Birden fazla koşulu parse et
L 137 [docstring]             conditions: Koşul array'leri listesi
L 140 [docstring]             List[Dict]: Parse edilmiş koşullar
L 146 [docstring]         Operatör geçerliliğini kontrol et
L 149 [docstring]             operator: Operatör string
L 152 [docstring]             ValueError: Geçersiz operatör
L 156 [string  ]                 f"Geçersiz operatör: '{operator}'\n"
L 157 [string  ]                 f"Geçerli operatörler: {sorted(self.VALID_OPERATORS)}"
L 162 [docstring]         Operand'ı normalize et
L 165 [docstring]             operand: Sol veya sağ operand
L 174 [comment ]         # Numeric ise olduğu gibi dön
L 178 [comment ]         # List/tuple ise olduğu gibi dön (between, outside için)
L 182 [comment ]         # Boolean ise olduğu gibi dön
L 186 [comment ]         # None ise olduğu gibi dön
L 190 [comment ]         # Diğer tipler için string'e çevir
L 201 [docstring]             Normalized timeframe (lowercase) veya None
L 207 [message ]             raise ValueError(f"Timeframe string olmalı, {type(timeframe)} verildi")
L 223 [docstring]         Koşulda kullanılan indikatörleri çıkar
L 226 [docstring]             condition: Parse edilmiş koşul
L 229 [docstring]             List[str]: Indikatör isimleri
L 239 [comment ]         # Sağ operand
L 242 [comment ]             # == veya != operatörlerinde sağ taraf string literal olabilir
L 244 [comment ]                 # Bilinen string literal'lar indicator değil
L 250 [comment ]                 # Numeric string değilse indikatör
L 261 [docstring]             value: String değer
L 286 [docstring]         Operatör historical data gerektirir mi?
L 289 [docstring]             operator: Operatör string
L 298 [docstring]         Koşul için gereken lookback period
L 301 [docstring]             condition: Parse edilmiş koşul
L 304 [docstring]             Lookback period (bar sayısı)
L 312 [comment ]         # Rising/Falling: right operand kadar (örn: rising 3 -> 3 bar)
L 316 [other   ]                 return right + 1  # +1 çünkü comparison için bir önceki bar lazım
L 319 [comment ]         # Diğerleri: 1 bar (mevcut)
L 332 [docstring]     Convenience function - koşul parse et
L 335 [docstring]         condition: Koşul array'i
L 346 [docstring]     Convenience function - birden fazla koşul parse et
L 349 [docstring]         conditions: Koşul array'leri listesi
```

### components\strategies\helpers\indicator_presets.py

```
L   9 [docstring]     72 indikatör için hazır konfigürasyonlar.
L  10 [docstring]     Strategy'de sadece get_preset() çağır, tüm config gelsin!
L  12 [docstring]     Avantajları:
L  13 [docstring]     - ✅ 70+ indicator için standart config
L  14 [docstring]     - ✅ Signal confirmation örnekleri
L  15 [docstring]     - ✅ Açıklamalı (eğitici)
L  17 [docstring]     - ✅ Maintenance kolaylaşır
L  19 [docstring]     Kullanım:
L  28 [docstring]         # Özelleştir
L  33 [docstring]                 {"default_fast": 12}  # Sadece bir parametreyi değiştir
L  63 [string  ]             "enabled": False,       # ⚠️ Backtest için False (historical data yok)
L  66 [comment ]             # Açıklama: RSI oversold/overbought bölgesine girip
L  67 [comment ]             #           çıkana kadar bekle (gerçek reversal)
L  70 [comment ]             # distance_ratio: Ne kadar yakın olmalı (0.2 = %20)
L  73 [comment ]             # min_bars_in_zone: Kaç bar oversold/overbought'ta kalmalı
L  76 [comment ]             # confirmation_bars: Çıkış için kaç bar bekle
L  77 [string  ]             "confirmation_bars": 1,  # 1 bar sonra reversal onayı
L  79 [comment ]             # max_pullback: Max geri çekilme (0.1 = %10)
L  97 [comment ]             # Açıklama: %K ve %D çizgileri kesiştiğinde
L 100 [comment ]             # min_divergence: Min %K-%D farkı
L 103 [comment ]             # confirmation_bars: Crossover sonrası kaç bar bekle
L 111 [string  ]         "lookback": 5,               # Kaç bar geriye bak
L 112 [string  ]         "min_divergence_strength": 0.5,  # Min divergence gücü
L 137 [string  ]         "zero_line": 0,              # Zero line (momentum değişim noktası)
L 164 [string  ]         "requires_volume": True,     # ⚠️ Volume gerekli!
L 242 [comment ]             # Açıklama: Price SMA'yı kestiğinde
L 252 [string  ]         "default_fast": 9,           # Hızlı EMA
L 253 [string  ]         "default_slow": 21,          # Yavaş EMA
L 260 [comment ]             # Açıklama: EMA crossover gerçekleştikten sonra
L 261 [comment ]             #           belli bir mesafe ayrılana kadar bekle
L 264 [comment ]             # distance_ratio: Crossover sonrası min mesafe
L 265 [string  ]             "distance_ratio": 0.15,  # %15 ayrılma
L 268 [string  ]             "min_separation": 0.02   # %2 min ayırma
L 319 [string  ]         "requires_volume": True,     # ⚠️ Volume gerekli!
L 339 [comment ]             # Açıklama: MACD line ve Signal line kesiştiğinde
L 344 [string  ]             "min_histogram": 0.001   # Min histogram değeri
L 351 [string  ]         "threshold": 25,             # Trend gücü eşiği (>25 = güçlü trend)
L 357 [comment ]             # Açıklama: ADX > threshold ise trend var, trade yap
L 385 [comment ]             # Açıklama: SuperTrend renk değiştirdiğinde
L 415 [comment ]             # Açıklama: Tenkan-Kijun cross + Cloud desteği
L 419 [string  ]             "require_cloud_support": True  # Cloud desteği gerekli mi?
L 443 [comment ]             # Açıklama: Keltner channel daraldıktan sonra genişlediğinde
L 458 [string  ]         "multiplier": 1.5,           # Stop loss için ATR çarpanı
L 465 [comment ]             # Açıklama: Aşırı yüksek/düşük volatilitede trade yapma
L 468 [comment ]             # high_threshold: Çok yüksek volatilite (trade yapma)
L 471 [comment ]             # low_threshold: Çok düşük volatilite (range)
L 486 [comment ]             # Açıklama: BB sıkışıp genişlediğinde sinyal ver
L 487 [comment ]             #           (volatilite artışı)
L 490 [comment ]             # min_squeeze: Min BB genişlik (std cinsinden)
L 493 [comment ]             # expansion_threshold: Genişleme eşiği
L 494 [string  ]             "expansion_threshold": 1.5  # 1.5x genişleme
L 568 [comment ]             # Açıklama: TTM Squeeze - BB Keltner içinde sıkıştığında
L 572 [string  ]             "require_momentum_shift": True  # Momentum değişimi gerekli mi?
L 588 [comment ]             # Açıklama: OBV trend değişimi
L 592 [string  ]             "min_change": 0.05       # %5 min değişim
L 604 [comment ]             # Açıklama: Price VWAP'ı kestiğinde
L 636 [comment ]             # Açıklama: Hacim aniden artarsa (volume spike)
L 642 [comment ]             # confirmation_bars: Kaç bar yüksek hacim kalmalı
L 809 [comment ]             # Açıklama: BOS (Break of Structure) tespit edildiğinde
L 836 [string  ]             "require_fill": False    # Gap doldurulmalı mı?
L 850 [string  ]             "require_volume_spike": True  # Volume spike gerekli mi?
L 862 [string  ]             "require_sweep": True    # Liquidity sweep gerekli mi?
L1019 [string  ]             "require_both": True     # Her iki sinyal de gerekli mi?
L1040 [string  ]         "periods": [8, 13, 21, 34, 55],  # Fibonacci EMA'ları
L1046 [string  ]             "require_alignment": True  # Tüm EMA'lar sıralı mı?
L1071 [string  ]             "require_structure": True  # Market structure gerekli mi?
L1086 [docstring]         indicator_name: Indicator adı (örn: 'rsi', 'ema')
L1099 [docstring]         # Override ile
L1107 [string  ]             f"❌ Indicator preset bulunamadı: '{indicator_name}'\n"
L1108 [string  ]             f"Mevcut indicator'lar: {list(INDICATOR_PRESETS.keys())}"
L1111 [comment ]     # Deep copy (original'i değiştirme)
```

### components\strategies\helpers\operators.py

```
L  11 [docstring]     Koşul operatörlerinin implementasyonları.
L  13 [docstring]     Desteklenen operatörler:
L  14 [docstring]     - Karşılaştırma: >, <, >=, <=, ==, !=
L  19 [docstring] Kullanım:
L  22 [docstring]     # Karşılaştırma
L  26 [docstring]     result = evaluate_crossover([29, 31], 30)  # True (crossover yukarı)
L  38 [comment ] # KARŞILAŞTIRMA OPERATÖRLERI
L  42 [docstring]     """Büyüktür (>)"""
L  50 [docstring]     """Küçüktür (<)"""
L  58 [docstring]     """Büyük eşittir (>=)"""
L  66 [docstring]     """Küçük eşittir (<=)"""
L  74 [docstring]     """Eşittir (==)"""
L  88 [docstring]     """Eşit değil (!=)"""
L 101 [docstring]     Crossover tespiti (yukarı kesme)
L 104 [docstring]         series: Indicator serisi (son 2 değer minimum)
L 105 [docstring]         threshold: Kesilen değer veya seri
L 108 [docstring]         True if crossover occurred (önceki bar altında, şimdi üstte)
L 110 [docstring]     Örnek:
L 112 [docstring]         series = [31, 32], threshold = 30 -> False (zaten üstte)
L 155 [docstring]     Crossunder tespiti (aşağı kesme)
L 158 [docstring]         series: Indicator serisi (son 2 değer minimum)
L 159 [docstring]         threshold: Kesilen değer veya seri
L 162 [docstring]         True if crossunder occurred (önceki bar üstte, şimdi altta)
L 164 [docstring]     Örnek:
L 166 [docstring]         series = [29, 28], threshold = 30 -> False (zaten altta)
L 205 [comment ] # TREND OPERATÖRLERI
L 213 [docstring]     Rising tespiti (yükseliyor mu?)
L 217 [docstring]         periods: Kaç bar kontrol edilecek
L 222 [docstring]     Örnek:
L 252 [docstring]     Falling tespiti (düşüyor mu?)
L 256 [docstring]         periods: Kaç bar kontrol edilecek
L 261 [docstring]     Örnek:
L 287 [comment ] # RANGE OPERATÖRLERI
L 295 [docstring]     Between tespiti (aralıkta mı?)
L 298 [docstring]         value: Kontrol edilecek değer
L 304 [docstring]     Örnek:
L 309 [message ]         raise ValueError(f"between operatörü için [min, max] gerekli, {range_values} verildi")
L 320 [docstring]     Outside tespiti (aralık dışında mı?)
L 323 [docstring]         value: Kontrol edilecek değer
L 329 [docstring]     Örnek:
L 334 [message ]         raise ValueError(f"outside operatörü için [min, max] gerekli, {range_values} verildi")
L 345 [docstring]     Near tespiti (yakın mı?)
L 348 [docstring]         value: Kontrol edilecek değer
L 354 [docstring]     Örnek:
L 355 [docstring]         value = 101, target_and_threshold = [100, 1] -> True (%1 içinde)
L 360 [string  ]             f"near operatörü için [target, percent_threshold] gerekli, "
L 384 [docstring]     Koşulu değerlendir (unified interface)
L 387 [docstring]         left: Sol operand (değer veya seri)
L 388 [docstring]         operator: Operatör string
L 389 [docstring]         right: Sağ operand (değer veya seri)
L 392 [docstring]         bool: Koşul sonucu
L 395 [docstring]         ValueError: Geçersiz operatör
L 397 [docstring]     Örnek:
L 402 [comment ]     # Karşılaştırma operatörleri
L 444 [message ]         raise ValueError(f"Desteklenmeyen operatör: '{operator}'")
L 453 [docstring]     Operatör için gereken history bar sayısı
L 456 [docstring]         operator: Operatör string
L 457 [docstring]         right_operand: Sağ operand
L 460 [docstring]         int: Gereken bar sayısı
L 470 [comment ]     # Diğer operatörler: 1 bar (mevcut)
L 479 [comment ]     # Karşılaştırma
```

### components\strategies\helpers\strategy_indicator_bridge.py

```
L   9 [docstring] Strategy template ile IndicatorManager arasındaki köprü.
L  11 [docstring] Özellikler:
L  12 [docstring] - Strategy template'teki indicator config'ini IndicatorManager'a aktarır
L  13 [docstring] - Multi-timeframe indicator yönetimi
L  14 [docstring] - **YENİ v3:** Registry-based automatic smart aliasing (yeni indicator → otomatik çalışır!)
L  15 [docstring] - Indicator sonuçlarını strategy formatına çevirir
L  16 [docstring] - Her iki syntax desteklenir: kısa ('macd') ve açık ('macd_macd')
L  19 [docstring] Kullanım:
L  22 [docstring]     # Strategy'den indicator manager oluştur
L  32 [docstring] Bağımlılıklar:
L  57 [docstring]     Strategy template'ten IndicatorManager oluştur
L  78 [docstring]         >>> # Artık indicator_manager.calculate_all() kullanılabilir
L  79 [docstring]         >>> # EventBus ile real-time updates da aktif
L  84 [comment ]         # Fallback: indicators modülü doğrudan erişilebilirse
L  87 [comment ]     # Config hazırla
L  90 [comment ]     # IndicatorManager oluştur (with EventBus support)
L 101 [comment ]     # Strategy'nin indicator config'ini yükle
L 107 [message ]                 logger.info(f"📊 Strategy'den {len(indicators_config)} indicator yükleniyor...")
L 112 [message ]                 logger.info(f"✅ {len(indicators_config)} indicator yüklendi")
L 115 [message ]                 logger.warning("⚠️ Strategy'de indicator config bulunamadı")
L 118 [message ]             logger.warning("⚠️ Strategy'de technical_parameters bulunamadı")
L 129 [docstring]     IndicatorManager sonuçlarını strategy için formatlama
L 134 [docstring]     - Her iki syntax desteklenir: kısa ve açık
L 136 [docstring]     IndicatorManager bazı indicator'lar için complex objeler döner
L 137 [docstring]     (örn: Supertrend → {"trend": 1, "value": 50000})
L 139 [docstring]     Bu fonksiyon bunları strategy'nin kolayca kullanabileceği
L 140 [docstring]     flat dict'e çevirir ve smart aliasing ekler.
L 144 [docstring]         timeframe: Timeframe (örn: "1m", "5m")
L 150 [docstring]             # Main output aliases (kısa syntax)
L 170 [docstring]         >>> # Her iki syntax de çalışır:
L 171 [docstring]         >>> if formatted["macd"] > formatted["macd_signal"]:  # Kısa
L 172 [docstring]         >>> if formatted["macd_macd"] > formatted["macd_signal"]:  # Açık
L 182 [comment ]         # IndicatorResult objesi ise value'yu çıkar
L 194 [comment ]             # Base indicator name'i al (custom naming için: ema_21 → ema)
L 197 [comment ]             # Registry'den bu indicator'ü kontrol et (automatic!)
L 206 [comment ]             # (örn: macd indicator'ünün 'macd' output'u var mı?)
L 214 [comment ]                 # Main output alias (kısa syntax için)
L 215 [comment ]                 # Sadece key == base_indicator_name veya key == indicator_name ise
L 225 [comment ]         # Array/list → son değeri al
L 229 [comment ]         # Diğer tipler → olduğu gibi geçir
L 246 [docstring]     Custom indicator name'den base indicator name'i çıkar
L 248 [docstring]     Örnekler:
L 256 [docstring]         indicator_name: Full indicator name (custom veya base)
L 263 [docstring]         için özel logic var
L 265 [comment ]     # Underscore'dan önceki kısmı al
L 268 [comment ]     # İlk part base name
L 387 [docstring]     Strategy'nin check_entry_conditions() metoduna gönderilecek
L 388 [docstring]     timeframe_data'yı hazırlar.
L 392 [docstring]         symbol: Symbol (örn: "BTCUSDT")
L 421 [docstring]         >>> # Strategy'ye gönder
L 441 [message ]                 logger.debug(f"✅ {timeframe}: {len(formatted)} indicator hesaplandı")
L 445 [message ]                 logger.error(f"❌ {timeframe} indicator hesaplama hatası: {e}")
L 545 [message ]     print("✅ Tüm testler tamamlandı!")
L 547 [message ]     print("\n💡 Özellikler:")
L 548 [message ]     print("   ✅ Registry-based automatic detection (yeni indicator → otomatik çalışır)")
L 549 [message ]     print("   ✅ Smart aliasing (main output → kısa alias)")
```

### components\strategies\helpers\timeframe_utils.py

```
L  11 [docstring]     Multi-timeframe helper fonksiyonları.
L  17 [docstring] Kullanım:
L  48 [docstring]     Timeframe'i dakikaya çevir
L  57 [docstring]         ValueError: Geçersiz timeframe
L  65 [string  ]         f"Geçersiz timeframe: '{timeframe}'\n"
L  66 [string  ]         f"Geçerli timeframe'ler: {sorted(TIMEFRAME_MINUTES.keys())}"
L  72 [docstring]     Timeframe'i saniyeye çevir
L  85 [docstring]     Timeframe'i millisaniyeye çevir
L  98 [docstring]     İki timeframe'i karşılaştır
L 122 [docstring]     tf, base_tf'den daha yüksek mu?
L 136 [docstring]     tf, base_tf'den daha düşük mü?
L 150 [docstring]     Timeframe'leri sırala
L 154 [docstring]         reverse: True ise büyükten küçüğe
L 168 [docstring]     Base timeframe'den daha yüksek timeframe'leri al
L 172 [docstring]         all_timeframes: Tüm timeframe'ler
L 187 [docstring]     Base timeframe'den daha düşük timeframe'leri al
L 191 [docstring]         all_timeframes: Tüm timeframe'ler
L 206 [docstring]     Target timeframe için kaç source bar gerekli?
L 209 [docstring]         target_tf: Hedef timeframe (örn: '1h')
L 210 [docstring]         source_tf: Kaynak timeframe (örn: '15m')
L 213 [docstring]         int: Gereken bar sayısı
L 215 [docstring]     Örnek:
L 223 [string  ]             f"Target timeframe ({target_tf}) source'dan ({source_tf}) küçük olamaz"
L 231 [docstring]     Timeframe geçerli mi?
L 244 [docstring]     Tüm geçerli timeframe'leri dön
```

### components\strategies\helpers\validation.py

```
L   3 [docstring] Strategy Validation - Wrapper Module (Geriye Uyumluluk İçin)
L   5 [docstring] Bu modül artık sadece bir WRAPPER'dır.
L   6 [docstring] Gerçek validation logic'i components/strategies/strategy_validator.py'de bulunur.
L   8 [docstring] Bu dosya sadece geriye uyumluluk için tutulmaktadır.
L  10 [docstring] Yeni kodlarda doğrudan strategy_validator.py kullanılmalıdır:
L  16 [comment ] # Import edilebilir tüm öğeler
L  28 [comment ] # (Eski kodlar için geriye uyumluluk - yeni validation'ı çağırır)
L  33 [docstring]     Tek bir koşulu validate et (LEGACY)
L  35 [docstring]     Artık bu fonksiyon StrategyValidator içindedir.
L  36 [docstring]     Geriye uyumluluk için tutulmuştur.
L  39 [docstring]         condition: Koşul (list/tuple)
L  40 [docstring]         context: Hata mesajı context'i
L  43 [docstring]         ValidationException: Geçersiz koşul varsa
L  45 [comment ]     # Bu fonksiyon artık deprecated, ama geriye uyumluluk için
L  46 [comment ]     # minimal validation yapalım
L  48 [message ]         raise ValidationException(f"{context}: Koşul list veya tuple olmalı")
L  51 [message ]         raise ValidationException(f"{context}: Koşul en az 3 eleman içermeli")
L  56 [docstring]     Entry conditions'ı validate et (LEGACY)
L  58 [docstring]     Artık bu fonksiyon StrategyValidator içindedir.
L  64 [docstring]         ValidationException: Geçersiz koşul varsa
L  67 [message ]         raise ValidationException("entry_conditions dict olmalı")
L  70 [message ]         raise ValidationException("En az 'long' veya 'short' koşulu gerekli")
L  74 [message ]             raise ValidationException(f"{side} koşulları list olmalı")
L  82 [docstring]     Exit conditions'ı validate et (LEGACY)
L  84 [docstring]     Artık bu fonksiyon StrategyValidator içindedir.
L  90 [docstring]         ValidationException: Geçersiz koşul varsa
L  93 [message ]         raise ValidationException("exit_conditions dict olmalı")
L  97 [message ]             raise ValidationException(f"{side} koşulları list olmalı")
L 107 [docstring]     Artık bu fonksiyon StrategyValidator içindedir.
L 113 [docstring]         ValidationException: Geçersiz config varsa
L 116 [message ]         raise ValidationException("Risk management'da size_value gerekli")
L 119 [message ]         raise ValidationException("size_value pozitif olmalı")
L 126 [docstring]     Artık bu fonksiyon StrategyValidator içindedir.
L 132 [docstring]         ValidationException: Geçersiz config varsa
L 136 [message ]             raise ValidationException("take_profit_value pozitif olmalı")
L 140 [message ]             raise ValidationException("stop_loss_value pozitif olmalı")
L 147 [docstring]     Artık bu fonksiyon StrategyValidator içindedir.
L 153 [docstring]         ValidationException: Geçersiz config varsa
L 157 [message ]             raise ValidationException("max_total_positions pozitif olmalı")
L 162 [docstring]     Tüm stratejiyi validate et (LEGACY)
L 164 [docstring]     Artık bu fonksiyon StrategyValidator içindedir.
L 165 [docstring]     Bu wrapper yeni validator'ı çağırır.
L 171 [docstring]         ValidationException: Geçersiz config varsa
L 173 [comment ]     # Yeni validator'ı kullan
```

### components\strategies\market_validator.py

```
L  17 [docstring] Kullanım:
L  32 [docstring]     Market koşulları validator'ı
L  34 [docstring]     Trading session, time, day filtrelerini yönetir
L  98 [docstring]         Kontroller (sırasıyla):
L  99 [docstring]         1. Session Filter (eğer enabled)
L 100 [docstring]         2. Time Filter (eğer enabled)
L 101 [docstring]         3. Day Filter (eğer enabled)
L 227 [docstring]         Time range içinde mi?
L 312 [docstring]         Gün trade edilebilir mi?
L 379 [docstring]             Bu basitleştirilmiş bir implementasyon.
L 380 [docstring]             Production'da daha sophisticated olmalı.
L 390 [comment ]         # Max 7 gün ileriye bak
L 401 [docstring]         Market filtresi var mı?
```

### components\strategies\pattern_generator.py

```
L  11 [docstring]     Pattern tespiti ve değerlendirmesi:
L  17 [docstring] Kullanım:
L  34 [docstring]     Pattern detection ve validation generator'ı
L  36 [docstring]     Candlestick ve SMC pattern'lerini tespit eder ve değerlendirir
L  94 [docstring]             data: OHLCV DataFrame (indicators calculated olmalı)
L 251 [docstring]             pattern_name: Pattern adı
L 274 [docstring]         Pattern gücünü hesapla (0-1)
L 277 [docstring]             pattern_name: Pattern adı
L 284 [docstring]             Bu basitleştirilmiş bir implementasyon.
L 285 [docstring]             Production'da daha sophisticated olmalı.
L 292 [comment ]         # Candlestick patterns: context ile güçlendir
L 339 [docstring]             pattern_name: Pattern adı
L 349 [comment ]         # Bullish pattern için LONG, bearish için SHORT kontrol et
L 394 [docstring]         Tüm detect edilen pattern'leri liste olarak dön
```

### components\strategies\pnl_calculator.py

```
L  11 [docstring] Amaç: TradingEngine ve BacktestEngine'deki duplicate PnL hesaplama kodunu
L  12 [docstring] merkezi bir yere taşımak. DRY prensibi.
L  14 [docstring] Kullanım:
L  26 [docstring]     # Detaylı sonuç
L  44 [other   ]     gross_pnl: float       # Fee öncesi PnL
L  45 [other   ]     net_pnl: float         # Fee sonrası PnL
L  46 [other   ]     net_pnl_pct: float     # Net PnL yüzdesi
L  47 [other   ]     position_value: float  # Entry değeri (entry_price * quantity)
L  56 [docstring]     Static utility class - instance oluşturmaya gerek yok.
L  74 [docstring]             entry_price: Giriş fiyatı
L  75 [docstring]             exit_price: Çıkış fiyatı
L  77 [docstring]             side: 'LONG' veya 'SHORT'
L  83 [docstring]         Örnek:
L 113 [docstring]         PnL hesapla (detaylı)
L 116 [docstring]             entry_price: Giriş fiyatı
L 117 [docstring]             exit_price: Çıkış fiyatı
L 119 [docstring]             side: 'LONG' veya 'SHORT'
L 120 [docstring]             entry_fee: Giriş fee
L 121 [docstring]             exit_fee: Çıkış fee
L 124 [docstring]             PnLResult: Detaylı sonuç dataclass
L 154 [docstring]             entry_price: Orijinal giriş fiyatı
L 155 [docstring]             exit_price: Kısmi çıkış fiyatı
L 156 [docstring]             close_quantity: Kapatılan miktar
L 157 [docstring]             side: 'LONG' veya 'SHORT'
L 158 [docstring]             fee: Bu partial close için fee
```

### components\strategies\portfolio_coordinator.py

```
L  12 [docstring]     - Symbol başına pozisyon limitleri
L  14 [docstring]     - Available slot kontrolü
L  15 [docstring]     - Korelasyon kontrolü (optional)
L  16 [docstring]     - Portfolio-level risk yönetimi
L  18 [docstring] Kullanım:
L  34 [docstring]     Portfolio yönetimi coordinator'ı
L  36 [docstring]     Multi-symbol pozisyon koordinasyonu ve limitleri yönetir
L 105 [docstring]         Pozisyonu kaldır
L 129 [docstring]         PositionManager'dan pozisyonları sync et
L 132 [docstring]             Bu method position_manager varsa çağrılmalı
L 159 [docstring]         Yeni pozisyon açılabilir mi?
L 190 [docstring]         Kaç slot daha açık?
L 193 [docstring]             int: Kalan pozisyon slot sayısı
L 200 [docstring]         Symbol için kaç slot daha açık?
L 206 [docstring]             int: Symbol için kalan slot sayısı
L 216 [docstring]         """Toplam aktif pozisyon sayısı"""
L 220 [docstring]         """Symbol için aktif pozisyon sayısı"""
L 224 [docstring]         """Aktif pozisyonu olan symbol'ler"""
L 229 [docstring]         Symbol için pozisyon var mı?
L 253 [docstring]         Symbol için tüm pozisyonları dön
L 264 [docstring]         """Tüm pozisyonları dön"""
L 273 [docstring]         Symbol mevcut pozisyonlarla korele mi?
L 282 [docstring]             Bu basitleştirilmiş bir implementasyon.
L 283 [docstring]             Production'da gerçek korelasyon analizi yapılmalı.
L 293 [comment ]         # Basit heuristic: aynı base currency
L 300 [comment ]                 # Aynı coin, farklı quote
L 303 [comment ]         # TODO: Gerçek korelasyon hesaplama (price correlation)
L 322 [docstring]         Portfolio risk yüzdesini hesapla
L 328 [docstring]             Bu basitleştirilmiş bir implementasyon.
L 329 [docstring]             Production'da gerçek PnL/risk hesabı yapılmalı.
L 342 [docstring]         Portfolio risk limiti aşıldı mı?
L 357 [docstring]         """Tüm pozisyon tracking'i temizle"""
L 365 [docstring]         Portfolio özeti
```

### components\strategies\position_manager.py

```
L   9 [docstring] Position Manager - Strategy template parametrelerini işleyen position yönetimi
L  11 [docstring] ÖNEMLİ: Bu yeni tasarım, eski 819 satırlık kullanılmayan position_manager.py'nin yerini alır.
L  12 [docstring] Amaç: BacktestEngine ve TradingEngine'deki duplicate inline kodları merkezi bir yere taşımak.
L  14 [docstring] İşlenen Parametreler (simple_rsi.py PositionManagement'tan):
L  15 [docstring] - max_positions_per_symbol: Symbol başına max pozisyon sayısı
L  16 [docstring] - pyramiding_enabled: Aynı yönde birden fazla pozisyon açılabilir mi
L  17 [docstring] - pyramiding_max_entries: Max pyramiding entry sayısı
L  18 [docstring] - pyramiding_scale_factor: Sonraki entry'lerin size çarpanı
L  19 [docstring] - allow_hedging: Zıt yönde pozisyon açılabilir mi (hedge)
L  21 [docstring] - position_timeout: Timeout süresi (dakika)
L  23 [docstring] Kullanım:
L  26 [docstring]     # Pozisyon açılabilir mi kontrolü
L  33 [docstring]     # Timeout kontrolü
L  45 [docstring]     """Pozisyon açma kontrolü sonucu"""
L  48 [other   ]     pyramiding_scale: float = 1.0  # Pyramiding için size scale factor
L  49 [other   ]     should_close_opposite: bool = False  # Zıt pozisyonlar kapatılmalı mı (one-way mode)
L  50 [other   ]     opposite_positions: List[Dict] = None  # Kapatılacak zıt pozisyonlar
L  59 [docstring]     Position Manager - Strategy template parametrelerini işler
L  62 [docstring]     1. can_open_position() - Pozisyon açılabilir mi kontrol et
L  63 [docstring]     2. check_position_timeout() - Timeout kontrolü
L  64 [docstring]     3. get_positions_for_symbol() - Symbol için pozisyonları getir
L  66 [docstring]     NOT: Bu sınıf sadece KARAR VERİR, pozisyon açma/kapama işlemini engine yapar.
L  76 [docstring]             strategy: BaseStrategy instance (position_management parametreleri için)
L  99 [comment ]     # MAIN METHODS - Engine'ler bu methodları kullanır
L 109 [docstring]         Pozisyon açılabilir mi kontrol et
L 111 [docstring]         Bu method BacktestEngine (line 825-939) ve TradingEngine (line 822-864)
L 112 [docstring]         içindeki duplicate kodun yerine geçer.
L 115 [docstring]             symbol: Sembol (örn: 'BTCUSDT')
L 116 [docstring]             side: 'LONG' veya 'SHORT'
L 117 [docstring]             positions: Mevcut açık pozisyonlar listesi
L 122 [docstring]                 - can_open: Pozisyon açılabilir mi
L 123 [docstring]                 - reason: Açıklama
L 124 [docstring]                 - pyramiding_scale: Pyramiding için size çarpanı (1.0 = normal)
L 125 [docstring]                 - should_close_opposite: Zıt pozisyonlar kapatılmalı mı
L 126 [docstring]                 - opposite_positions: Kapatılacak zıt pozisyon listesi
L 128 [docstring]         Örnek:
L 137 [comment ]         # 1. Symbol için mevcut pozisyonları filtrele
L 143 [comment ]         # 2. Max positions per symbol kontrolü
L 150 [comment ]         # 3. Pyramiding kontrolü (aynı yönde birden fazla pozisyon)
L 155 [comment ]             # Pyramiding aktif: max_entries'e kadar aynı yönde pozisyon açılabilir
L 162 [comment ]             # Pyramiding kapalı: sadece 1 pozisyon açılabilir
L 166 [comment ]         # 4. Hedging modu kontrolü
L 168 [comment ]             # HEDGE MODE: Zıt pozisyonlar da aynı anda açık kalabilir
L 180 [comment ]             # ONE-WAY MODE: Zıt pozisyonları önce kapat
L 182 [comment ]                 # Zıt pozisyonlar var - önce kapat, sonra aç
L 196 [comment ]                 # Zıt pozisyon yok
L 214 [docstring]         Pozisyon timeout kontrolü
L 216 [docstring]         Bu method BacktestEngine (line 664-665) ve TradingEngine (line 997-1004)
L 217 [docstring]         içindeki duplicate kodun yerine geçer.
L 221 [docstring]             current_timestamp: Şu anki zaman (datetime, pd.Timestamp, veya ms int)
L 226 [docstring]         Örnek:
L 234 [comment ]         # Pozisyonun açılış zamanını al
L 246 [comment ]         # Geçen süreyi hesapla (dakika)
L 262 [docstring]         Symbol (ve opsiyonel side) için pozisyonları getir
L 266 [docstring]             positions: Tüm pozisyonlar
L 267 [docstring]             side: 'LONG' veya 'SHORT' (None = tüm yönler)
L 270 [docstring]             Filtrelenmiş pozisyon listesi
L 286 [docstring]         Symbol için pozisyon sayısını getir
L 290 [docstring]             positions: Tüm pozisyonlar
L 291 [docstring]             side: 'LONG' veya 'SHORT' (None = tüm yönler)
L 294 [docstring]             Pozisyon sayısı
L 305 [docstring]         Pyramiding yapılabilir mi kontrol et
L 309 [docstring]             side: 'LONG' veya 'SHORT'
L 310 [docstring]             positions: Tüm pozisyonlar
L 324 [comment ]         # Scale factor: her sonraki entry daha küçük
L 334 [docstring]         """Symbol için pozisyonları filtrele"""
L 338 [docstring]         """Timestamp'i datetime'a çevir"""
L 380 [docstring]         Standart pozisyon dict oluştur
L 382 [docstring]         Bu method TradingEngine ve BacktestEngine'deki manuel dict
L 383 [docstring]         construction'ın yerini alır. Tek bir yerden position format'ı
L 389 [docstring]             side: 'LONG' veya 'SHORT'
L 390 [docstring]             entry_price: Giriş fiyatı
L 392 [docstring]             sl_price: Stop loss fiyatı (optional)
L 393 [docstring]             tp_price: Take profit fiyatı (optional)
L 395 [docstring]             entry_time: Giriş zamanı (optional, default=now)
L 400 [docstring]         Örnek:
L 423 [string  ]             'original_quantity': quantity,  # Partial exit tracking için
L 426 [string  ]             'stop_loss': sl_price,      # Alias (bazı yerlerde stop_loss kullanılıyor)
L 440 [docstring]         Pozisyon için highest/lowest fiyat güncelle
L 442 [docstring]         Trailing stop ve break-even hesaplamaları için gerekli.
L 445 [docstring]             position: Position dict (mutable - yerinde güncellenir)
L 446 [docstring]             current_price: Güncel fiyat
L 449 [docstring]             bool: True = güncelleme yapıldı
L 451 [docstring]         Örnek:
L 475 [docstring]         """Konfigürasyon özetini getir"""
L 522 [comment ]     # Test 1: Boş pozisyon listesi
L 527 [comment ]     # Test 2: Bir LONG pozisyon var, ikinci LONG açılabilir mi?
L 533 [comment ]     # Test 3: Bir LONG var, SHORT açılabilir mi? (one-way mode)
```

### components\strategies\position_validator.py

```
L   3 [docstring] Position Validator - Pozisyon Kurallarını Kontrol Eder
L   5 [docstring] Strateji parametrelerine göre pozisyon açılıp açılamayacağını validate eder.
L   6 [docstring] Bu dosya strategies/ klasöründe çünkü STRATEJI KURALLARI ile ilgilidir.
L   9 [docstring] - Pyramiding kurallarını kontrol et
L  10 [docstring] - Hedging kurallarını kontrol et
L  12 [docstring] - Pozisyon timeout kurallarını kontrol et
L  14 [docstring] NOT: Execution (gerçek pozisyon açma/kapama) managers/position_manager.py'de yapılır.
L  28 [docstring]         reason: Red/kabul sebebi (Türkçe açıklama)
L  29 [docstring]         action: Yapılacak aksiyon ('open_new', 'pyramid', 'reject', 'close_opposite')
L  38 [docstring]     Pozisyon Validasyon Mantığı (Strateji Kuralları)
L  41 [docstring]     - Sinyalin pozisyon açıp açamayacağını kontrol et
L  42 [docstring]     - Pyramiding mantığını yönet
L  43 [docstring]     - Hedging mantığını yönet
L  47 [docstring]     - Gerçek pozisyon açma (PositionManager)
L  49 [docstring]     - Emir çalıştırma (OrderManager)
L  52 [docstring]     - Strateji kuralları burada (strategies/)
L  54 [docstring]     - DRY: Canlı trading ve backtest aynı kodu kullanır
L  56 [docstring]     - Testable: Unit test yazılabilir
L  61 [docstring]         Validator'ı stratejinin position_management config'i ile başlat
L  70 [comment ]         # Ayarları çıkar
L  75 [comment ]         # Pyramiding ayarları
L  80 [comment ]         # Timeout ayarları
L  85 [message ]             self.logger.debug(f"PositionValidator başlatıldı:")
L  99 [docstring]         Sinyalin pozisyon açıp açamayacağını kontrol et
L 102 [docstring]             signal_side: 'long' veya 'short'
L 103 [docstring]             open_positions: Açık pozisyonlar dict'i {side -> Position veya List[Position]}
L 104 [docstring]             total_positions_count: Tüm sembollerdeki toplam açık pozisyon (opsiyonel)
L 107 [docstring]             ValidationResult (kabul/red kararı)
L 109 [comment ]         # Adım 1: Toplam pozisyon limitini kontrol et
L 116 [string  ]                 reason=f"Maksimum toplam pozisyon limitine ulaşıldı ({total_positions_count}/{self.m...
L 119 [comment ]         # Adım 2: Bu tarafta pozisyon var mı kontrol et
L 124 [comment ]         # Adım 2.5: max_positions_per_symbol kontrolü (multi-symbol desteği için)
L 125 [comment ]         # Bu sembol için tüm pozisyonları say (her iki taraf)
L 135 [string  ]                 reason=f"Sembol başına maksimum pozisyon limitine ulaşıldı ({symbol_position_count}/...
L 138 [comment ]         # Adım 3: PYRAMIDING mantığı
L 141 [comment ]                 # Başka bir entry eklenebilir mi?
L 153 [string  ]                         reason=f"Pyramiding limitine ulaşıldı ({num_entries}/{self.pyramiding_max_en...
L 156 [comment ]                 # Pyramiding kapalı - aynı tarafta açılamaz
L 159 [string  ]                     reason=f"Zaten {signal_side} pozisyonu var (pyramiding devre dışı)"
L 162 [comment ]         # Adım 4: HEDGING mantığı
L 165 [comment ]                 # Ters taraf açılabilir (hedging)
L 168 [string  ]                     reason=f"Hedging: {opposite_side} pozisyonu varken {signal_side} açılıyor",
L 172 [comment ]                 # Hedging kapalı - ters taraf açılamaz
L 175 [string  ]                     reason=f"Zaten {opposite_side} pozisyonu var (hedging devre dışı)"
L 178 [comment ]         # Adım 5: Normal giriş (çakışma yok)
L 181 [string  ]             reason=f"Yeni {signal_side} pozisyonu açılıyor",
L 187 [docstring]         Toplam açık pozisyon sayısını hesapla
L 190 [docstring]             open_positions: Açık pozisyonlar dict'i
L 193 [docstring]             Toplam sayı
L 205 [docstring]         Belirli bir taraf için pozisyonları getir
L 208 [docstring]             open_positions: Açık pozisyonlar dict'i
L 209 [docstring]             side: 'long' veya 'short'
L 212 [docstring]             Position, List[Position], veya None
L 218 [docstring]         Pyramiding entry için pozisyon boyutunu hesapla
L 222 [docstring]             entry_number: Entry numarası (1, 2, 3, ...)
L 225 [docstring]             Ölçeklendirilmiş pozisyon boyutu
L 227 [docstring]         Örnek:
L 236 [comment ]         # Her entry için pyramiding_scale_factor ile ölçeklendir
L 246 [docstring]         Giriş öncesi ters pozisyon kapatılmalı mı kontrol et
L 247 [docstring]         (Hedging olmayan stratejiler için)
L 250 [docstring]             signal_side: 'long' veya 'short'
L 251 [docstring]             open_positions: Açık pozisyonlar dict'i
L 254 [docstring]             True ise ters pozisyon kapatılmalı
L 257 [other   ]             return False  # Hedging izinli, kapatmaya gerek yok
```

### components\strategies\risk_manager.py

```
L   9 [docstring] Risk Manager - Risk kontrolü ve validasyon
L  11 [docstring] Özellikler:
L  24 [docstring]     max_open_positions: 5       # Aynı anda max 5 pozisyon
L  25 [docstring]     daily_loss_limit: -5%       # Günlük max %5 loss
L  31 [docstring] Kullanım:
L  71 [docstring]     Risk Manager - Trading risk kontrolü ve validasyon
L 124 [message ]         self.logger.info("🛡️ RiskManager başlatıldı")
L 190 [docstring]         Stratejiden gelen TÜM risk parametrelerini uygular:
L 194 [docstring]         - FIXED_USD: Sabit $X değerinde
L 196 [docstring]         - RISK_BASED: Stop loss'a göre (max_risk_per_trade kullanır)
L 199 [docstring]         - max_risk_per_trade: Trade başına max risk %
L 205 [docstring]             entry_price: Giriş fiyatı
L 206 [docstring]             portfolio_value: Güncel portfolio değeri (balance)
L 207 [docstring]             stop_loss_price: Stop loss fiyatı (RISK_BASED için gerekli)
L 212 [docstring]         Örnek:
L 222 [comment ]         # Strateji kendi risk kurallarını belirler!
L 228 [comment ]         # Get sizing method (enum veya string olabilir)
L 255 [comment ]         # FIXED_USD: Sabit $X değerinde pozisyon × leverage
L 277 [comment ]         # RISK_BASED: Stop loss'a göre (stratejiden max_risk_per_trade kullanır) × leverage
L 315 [comment ]         # NOT: max_risk_per_trade sadece RISK_BASED için kullanılır
L 316 [comment ]         # FIXED_PERCENT ve FIXED_USD için global_max (leverage × 100) kontrolü yeterli
L 368 [docstring]         Pozisyon açılabilir mi kontrol et (KAPSAMLI - Stratejiden gelen TÜM kuralları uygula)
L 371 [docstring]         1. max_portfolio_risk: Açık pozisyonların toplam riski (auto: leverage × 100)
L 372 [docstring]         2. max_drawdown: Peak balance'dan düşüş
L 373 [docstring]         3. max_daily_trades: Günlük trade limiti
L 378 [docstring]             portfolio_value: Güncel portfolio değeri
L 379 [docstring]             current_balance: Güncel balance
L 380 [docstring]             open_positions: Açık pozisyonlar dict (symbol -> Position list)
L 381 [docstring]             timestamp: Güncel timestamp (daily trades için)
L 386 [docstring]         Örnek:
L 403 [comment ]             # Açık pozisyonların toplam değeri
L 417 [string  ]                 reason = f"Max portfolio risk aşıldı ({portfolio_risk_pct:.2f}% >= {max_portfolio_ri...
L 426 [comment ]             # Peak balance'ı güncelle
L 435 [string  ]                     reason = f"Max drawdown aşıldı ({drawdown_pct:.2f}% >= {max_drawdown}%)"
L 447 [comment ]             # Günlük trade sayacını kontrol et
L 453 [comment ]         # === TÜM KONTROLLER GEÇTİ ===
L 458 [docstring]         Günlük trade limitini kontrol et
L 461 [docstring]             max_daily_trades: Max günlük trade sayısı
L 462 [docstring]             timestamp: Güncel timestamp
L 467 [comment ]         # Timestamp'i date'e çevir
L 474 [comment ]         # Yeni gün mü?
L 476 [comment ]             # Yeni gün - reset
L 480 [comment ]         # Limit kontrolü
L 482 [string  ]             reason = f"Günlük trade limiti aşıldı ({self.daily_trades_count}/{max_daily_trades})"
L 491 [docstring]         Günlük trade sayacını artır (trade açıldığında çağır)
L 521 [docstring]             entry_price: Giriş fiyatı
L 522 [docstring]             stop_loss: Stop loss fiyatı
L 523 [docstring]             portfolio_value: Portfolio değeri
L 524 [docstring]             risk_per_trade_pct: Trade başına risk (%)
L 538 [string  ]                 return False, 0.0, "Stop loss fiyatı giriş fiyatına eşit olamaz"
L 568 [string  ]                 return False, 0.0, "Hesaplanan miktar sıfır veya negatif"
L 580 [message ]                 self.logger.error(f"❌ Position size hesaplama hatası: {e}")
L 597 [docstring]         Pozisyon açılabilir mi kontrolü
L 609 [string  ]                 return False, f"Max açık pozisyon limiti ({self.max_open_positions})"
L 613 [string  ]                 return False, f"Günlük loss limiti aşıldı ({self.daily_loss_limit_pct}%)"
L 617 [string  ]                 return False, f"Max drawdown limiti aşıldı ({self.max_drawdown_pct}%)"
L 622 [string  ]                 return False, f"Portfolio heat limiti aşılır ({self.max_portfolio_heat_pct}%)"
L 631 [string  ]                     return False, f"Risk/Reward oranı yetersiz (min {self.min_risk_reward})"
L 637 [message ]                 self.logger.error(f"❌ Pozisyon validasyon hatası: {e}")
L 641 [docstring]         """Max açık pozisyon kontrolü"""
L 658 [docstring]         """Günlük loss limit kontrolü"""
L 685 [string  ]                     f"🚨 Günlük loss limiti aşıldı: {daily_pnl_pct:.2f}% "
L 698 [docstring]         """Max drawdown kontrolü"""
L 726 [string  ]                     f"🚨 Max drawdown limiti aşıldı: {drawdown_pct:.2f}% "
L 739 [docstring]         """Portfolio heat (exposure) kontrolü"""
L 768 [string  ]                     f"⚠️ Portfolio heat limiti aşılır: {heat_pct:.2f}% "
L 781 [docstring]         """Risk/Reward ratio kontrolü"""
L 805 [docstring]         """Emergency stop kontrolü"""
L 817 [docstring]         """Emergency stop sıfırla"""
L 821 [message ]             self.logger.info("✅ Emergency stop sıfırlandı")
L 874 [docstring]         """Mevcut risk seviyesini getir"""
L 879 [comment ]         # TODO: Daha gelişmiş hesaplama
L 887 [docstring]         """Yeni gün kontrolü ve reset"""
L 893 [message ]                 self.logger.info("🔄 Yeni gün - Risk metrikleri sıfırlandı")
L 907 [message ]                     self.logger.info("✅ Emergency stop sıfırlandı (yeni gün)")
```

### components\strategies\signal_manager.py

```
L  11 [docstring]     Signal generation, logging ve persistence yönetimi.
L  14 [docstring]     - Signal logging ve persistence
L  19 [docstring] Kullanım:
L  24 [docstring]     # Signal üret
L  58 [docstring]     """Signal türleri"""
L  67 [docstring]     """Signal kaynağı"""
L  77 [docstring]     Signal veri yapısı
L  79 [docstring]     Bir trading signal'inin tüm bilgilerini içerir
L 115 [docstring]         """Signal'i dict'e çevir (JSON serialization için)"""
L 117 [comment ]         # Datetime'ları string'e çevir
L 120 [comment ]         # Enum'ları string'e çevir
L 128 [docstring]     Signal Manager - Signal generation, logging ve tracking
L 130 [docstring]     Sorumlulukları:
L 132 [docstring]     2. Signal validation ve filtering
L 144 [docstring]         SignalManager'ı başlat
L 185 [message ]         self.logger.info("✅ SignalManager başlatıldı")
L 209 [docstring]         Yeni signal üret
L 213 [docstring]             signal_type: Signal türü (LONG/SHORT/EXIT_LONG/EXIT_SHORT)
L 217 [docstring]             strategy_name: Strategy adı
L 218 [docstring]             source: Signal kaynağı
L 219 [docstring]             conditions_met: Karşılanan koşullar
L 220 [docstring]             conditions_failed: Karşılanmayan koşullar
L 227 [docstring]             Signal: Oluşturulan signal
L 271 [string  ]             f"📊 Signal üretildi: {symbol} {signal_type.value} "
L 318 [message ]             self.logger.error(f"❌ Signal kaydetme hatası: {e}")
L 321 [docstring]         """Tüm aktif signal'leri kaydet"""
L 409 [docstring]         Signal'i executed olarak işaretle
L 431 [message ]         self.logger.warning(f"⚠️  Signal bulunamadı: {signal_id}")
L 462 [docstring]             dict: İstatistikler
L 489 [docstring]         """Signal istatistiklerini yazdır"""
L 560 [message ]     print("\n✅ Tüm testler tamamlandı!")
```

### components\strategies\signal_validator.py

```
L  11 [docstring]     Entry/exit koşullarını değerlendirir.
L  13 [docstring]     - Koşul parsing
L  18 [docstring] Kullanım:
L  40 [docstring]     Sinyal değerlendirme validator'ı
L  42 [docstring]     Entry ve exit koşullarını değerlendirir
L  81 [docstring]         Entry sinyalini değerlendir
L  88 [docstring]             current_positions: Mevcut pozisyonlar (optional)
L 105 [string  ]             'pending_side': None,  # Hangi yöne doğru koşullar sağlanıyor
L 164 [docstring]         Exit sinyalini değerlendir
L 222 [docstring]         Bir tarafın (long/short) koşullarını değerlendir
L 227 [docstring]             parsed_conditions: Parse edilmiş koşullar
L 291 [docstring]         Tek bir koşulu değerlendir
L 294 [docstring]             parsed_cond: Parse edilmiş koşul
L 299 [docstring]             bool: Koşul met mi?
L 317 [comment ]         # Timeframe belirtilmişse → o TF'nin DataFrame'i (close, ema_50, vs.)
L 318 [comment ]         # Timeframe belirtilmemişse → primary timeframe DataFrame'i
L 320 [comment ]         # Örnek:
L 325 [comment ]         # DEBUG: İlk çağrıda data dict'in key'lerini ve her df'in close değerini logla
L 340 [comment ]         # Extract operand values - artık tek DataFrame kullanılıyor
L 381 [docstring]         Timeframe için uygun DataFrame'i al
L 388 [docstring]             pd.DataFrame veya None
L 422 [docstring]         Operand değerini extract et
L 457 [comment ]             # DataFrame zaten doğru timeframe'i içeriyor (suffix yok!)
L 458 [comment ]             # result['5m']['ema_50'], result['15m']['ema_50'] gibi
L 478 [docstring]         Operatöre göre series'i hazırla
L 488 [comment ]         # Comparison operators: sadece son değer
L 492 [comment ]         # Crossover/Crossunder: son 2 değer
L 499 [comment ]         # Rising/Falling: operator context'e göre (right operand period'u belirler)
L 500 [comment ]         # Şimdilik son 10 değer (yeterli olmalı)
L 505 [comment ]         # Default: son değer
L 514 [docstring]         Bir side için entry condition var mı?
L 530 [docstring]         Bir side için exit condition var mı?
L 546 [docstring]         Tüm koşullarda kullanılan indikatörleri dön
L 569 [docstring]         Belirli bir side için koşul özetini döndür (TierManager için)
L 573 [docstring]             side: 'long' veya 'short'
L 611 [comment ]                 # Hem price hem indicator aynı timeframe'den gelir!
L 629 [comment ]                 # V8: Tek DataFrame kullan - hem price hem indicator aynı TF'den
L 682 [docstring]         En yüksek skorlu side için koşul özetini döndür
L 688 [docstring]             Dict: get_conditions_summary() formatında, en iyi side için
L 693 [comment ]         # Tam eşleşme varsa onu döndür
L 699 [comment ]         # En yüksek skoru döndür
```

### components\strategies\strategy_executor.py

```
L  11 [docstring]     Strateji çalıştırma orkestratörü.
L  13 [docstring]     Tüm manager'ları koordine eder:
L  14 [docstring]     - SignalValidator (entry/exit koşulları)
L  20 [docstring] Kullanım:
L  42 [docstring]     Strateji mantığını çalıştıran ve tüm manager'ları koordine eden class
L 202 [docstring]         Exit koşullarını evaluate et
L 643 [docstring]         """Primary timeframe data'yı dön"""
L 671 [docstring]         Pozisyon açıldığında çağrılır
L 685 [docstring]         Pozisyon kapandığında çağrılır
L 705 [docstring]         Strateji için gereken tüm indikatörleri dön
L 710 [comment ]         # Strategy'de tanımlı indikatörler
L 713 [comment ]         # Signal koşullarında kullanılan indikatörler
L 722 [docstring]         """PositionManager'dan pozisyonları sync et"""
L 726 [docstring]         """Portfolio özetini dön"""
```

### components\strategies\strategy_manager.py

```
L  11 [docstring]     Strateji template yükleme ve lifecycle yönetimi.
L  13 [docstring]     - Template dosyasından strateji yükle
L  14 [docstring]     - Strateji config'i doğrula
L  15 [docstring]     - Indikatörleri initialize et
L  16 [docstring]     - StrategyExecutor oluştur
L  18 [docstring] Kullanım:
L  39 [docstring]     Template yükleme, validation, initialization
L  77 [docstring]         Strateji template'ini yükle
L  80 [docstring]             template_path: Template dosya yolu
L  85 [docstring]             validate: Validation yap mı?
L  88 [docstring]             (strategy, executor): BaseStrategy ve StrategyExecutor instance'ları
L  91 [docstring]             FileNotFoundError: Template bulunamadı
L  92 [docstring]             ValidationError: Validation başarısız
L  93 [docstring]             Exception: Import hatası
L 179 [docstring]         Mevcut strategy template'lerini listele
L 182 [docstring]             List[str]: Template dosya adları (without .py)
L 198 [docstring]         Template dosyasını import et ve strategy instance oluştur
L 215 [message ]             error_msg = f"❌ Strategy bulunamadı: '{template_path}'"
L 218 [message ]                 error_msg += f"\n\n📋 Mevcut strategy template'leri:\n"
L 222 [message ]                 error_msg += f"\n\n⚠️ '{self.DEFAULT_TEMPLATE_DIR}' klasöründe template yok!"
L 260 [docstring]         Strateji için indikatörleri initialize et
L 290 [comment ]         # Note: Bu method IndicatorManager'ın interface'ine göre ayarlanmalı
L 307 [docstring]         Yüklenmiş strateji'yi dön
L 313 [docstring]             BaseStrategy veya None
L 319 [docstring]         Strategy executor'ı dön
L 325 [docstring]             StrategyExecutor veya None
L 330 [docstring]         """Tüm yüklenmiş stratejileri dön"""
L 334 [docstring]         """Strateji yüklü mü?"""
L 385 [docstring]         """Tüm stratejileri temizle"""
L 398 [docstring]         Template dizinindeki tüm strategy template'lerini listele
L 421 [docstring]         Manager özeti
```

### components\strategies\strategy_validator.py

```
L   3 [docstring] Strategy Validator - Strateji Parametrelerini Doğrular
L   5 [docstring] Tüm strateji parametrelerinin (RiskManagement, ExitStrategy, entry/exit conditions, vs.)
L   6 [docstring] doğru formatta ve mantıklı değerlerde olup olmadığını kontrol eder.
L   8 [docstring] Bu dosya strategies/ klasöründe çünkü STRATEJI PARAMETRELERI ile ilgilidir.
L  10 [docstring] Version: 2.0.0 (helpers/validation.py'deki tüm kontrollerle birleştirildi)
L  33 [docstring]     Validasyon hatası
L  36 [docstring]         field: Hatalı alan adı
L  37 [docstring]         value: Hatalı değer
L  38 [docstring]         message: Hata mesajı (Türkçe)
L  39 [docstring]         severity: Hata ciddiyeti ('error', 'warning')
L  44 [message ]     severity: str = 'error'  # 'error' veya 'warning'
L  53 [docstring]         valid: Strateji geçerli mi?
L  54 [docstring]         errors: Hata listesi
L  55 [docstring]         warnings: Uyarı listesi
L  62 [docstring]         """İnsan okunabilir format"""
L  84 [docstring]     Kapsamlı Strateji Parametrelerini Validate Eder
L  88 [docstring]     - Symbols: Symbol configs ve format
L  89 [docstring]     - Timeframes: MTF timeframes ve primary timeframe
L  90 [docstring]     - Indicators: Technical indicators ve parametreleri
L  91 [docstring]     - RiskManagement: Risk yönetimi ayarları (ENUM + değerler)
L  92 [docstring]     - ExitStrategy: Çıkış stratejisi ayarları (ENUM + değerler)
L  93 [docstring]     - PositionManagement: Pozisyon yönetimi ayarları
L  94 [docstring]     - entry_conditions: Giriş koşulları (syntax, operators, timeframes)
L  95 [docstring]     - exit_conditions: Çıkış koşulları (syntax, operators, timeframes)
L  96 [docstring]     - custom_parameters: Özel parametreler
L  98 [docstring]     - account_management: Hesap yönetimi
L 101 [docstring]     Validation Türleri:
L 102 [docstring]     - ✅ Zorunlu alanlar (required fields)
L 103 [docstring]     - ✅ Değer aralıkları (ranges)
L 104 [docstring]     - ✅ Mantıksal tutarlılık (TP > SL vs.)
L 105 [docstring]     - ✅ Format kontrolü (dict, list, vs.)
L 125 [comment ]     # Geçerli timeframe'ler
L 132 [comment ]     # Geçerli operatörler
L 147 [docstring]         Validator'ı başlat
L 161 [docstring]             strategy: Strateji objesi (BaseStrategy türevi)
L 243 [comment ]         # Sonuç oluştur
L 254 [message ]                     self.logger.warning(f"{len(result.warnings)} uyari var")
L 256 [message ]                 self.logger.error(f"Strateji validasyonu basarisiz: {len(result.errors)} hata")
L 261 [docstring]         """Required field'ların varlığını kontrol et"""
L 278 [docstring]         """Metadata doğrula"""
L 306 [docstring]         """Symbol config'leri doğrula"""
L 311 [string  ]                 message='En az 1 symbol gerekli'
L 341 [docstring]         """Timeframe'leri doğrula"""
L 355 [comment ]         # Primary timeframe mtf_timeframes içinde olmalı
L 365 [docstring]         """Indikatör config'lerini doğrula"""
L 372 [string  ]                 message='En az 1 indikatör gerekli'
L 384 [comment ]         # ATR_BASED kontrolü: ATR indicator gerekli mi?
L 392 [comment ]             # ATR_BASED seçilmiş mi?
L 394 [comment ]                 # ATR var mı?
L 407 [string  ]                         message='ATR_BASED seçili ama ATR yok → Otomatik atr_14 eklendi'
L 411 [docstring]         """RiskManagement parametrelerini validate et (ENUM + değerler)"""
L 429 [string  ]                         message='FIXED_PERCENT metodu için position_percent_size pozitif olmali'
L 437 [string  ]                         message='FIXED_USD metodu için position_usd_size pozitif olmali'
L 445 [string  ]                         message='RISK_BASED metodu için max_risk_per_trade pozitif olmali'
L 455 [comment ]         # Portfolio risk kontrolü
L 464 [comment ]         # Max drawdown kontrolü
L 475 [docstring]         """ExitStrategy parametrelerini validate et (ENUM + değerler)"""
L 493 [comment ]         # Take profit kontrolü
L 502 [comment ]         # Stop loss kontrolü
L 511 [comment ]         # TP/SL oranı kontrolü (risk/reward)
L 523 [comment ]         # Trailing stop kontrolü
L 529 [string  ]                     message='Trailing stop aktif ama aktivasyon seviyesi yok!'
L 532 [comment ]         # Partial exit kontrolü
L 553 [string  ]                         message='partial_exit_levels ve partial_exit_sizes ayni uzunlukta olmali'
L 558 [comment ]         # Pozisyon limit kontrolü
L 582 [comment ]         # Mantıksal kontrol
L 591 [comment ]         # Pyramiding kontrolü
L 597 [string  ]                     message='Pyramiding aktif ama max_entries yok!'
L 607 [comment ]         # Timeout kontrolü
L 613 [string  ]                     message='Timeout aktif ama timeout suresi yok!'
L 617 [docstring]         """Entry/Exit conditions'ları validate et (DETAYLI)"""
L 628 [comment ]         # En az long veya short olmalı (entry için)
L 634 [string  ]                     message="entry_conditions'da en az 'long' veya 'short' olmali"
L 637 [comment ]         # Her bir koşul grubunu kontrol et
L 647 [comment ]             # Her bir koşulu kontrol et
L 652 [docstring]         """Tek bir koşulu doğrula (DETAYLI: syntax, operator, timeframe)"""
L 696 [comment ]             # Timeframe, mtf_timeframes içinde olmalı
L 707 [docstring]         """Custom parameters'ı validate et"""
L 716 [docstring]         """Optimizer parameters'ı validate et"""
L 729 [docstring]         """Account management config'ini doğrula"""
L 749 [docstring]         """Backtest parameters config'ini doğrula"""
L 792 [docstring]     Örnek:
L 800 [docstring]         >>>         print(f"Hata: {error.message}")
L 806 [comment ] # Geriye uyumluluk için eski exception-based function
L 808 [docstring]     """Validation exception (geriye uyumluluk için)"""
L 814 [docstring]     Stratejiyi validate et ve hata varsa exception fırlat
L 816 [docstring]     (Geriye uyumluluk için: helpers/validation.py'deki eski davranış)
L 822 [docstring]         ValidationException: Validation hatası varsa
```

### components\strategies\templates\simple_rsi.py

```
L  70 [other   ]         self.warmup_period = 200  # SMA 200 için yeterli
L 117 [string  ]             position_percent_size=10.0,         # 10.0 FIXED_PERCENT için (AKTİF) - Portfolio'nun %1...
L 118 [other   ]             position_usd_size=300.0,           # FIXED_USD için (şu an kullanılmaz)
L 120 [other   ]             max_risk_per_trade=2.5,             # RISK_BASED için (şu an kullanılmaz)
L 135 [other   ]             max_positions_per_symbol=1,  # Her sembol için max pozisyon sayısı
L 136 [other   ]             max_total_positions=400,  # Toplam max pozisyon sayısı (tüm semboller)
L 137 [other   ]             allow_hedging=False,  # Karşıt yönde pozisyon açma izni (LONG+SHORT birlikte)
L 138 [other   ]             position_timeout_enabled=True,  # Pozisyon timeout kontrolü (dakika cinsinden)
L 139 [other   ]             position_timeout=1800,  # Timeout süresi: 1800 dakika = 30 saat
L 140 [other   ]             pyramiding_enabled=False,  # Aynı yönde kademeli giriş izni
L 141 [other   ]             pyramiding_max_entries=3,  # Max pyramiding entry sayısı (aynı yön)
L 142 [string  ]             pyramiding_scale_factor=0.5  # Her yeni entry'de boyut çarpanı (0.5 = yarı yarıya)
L 153 [other   ]             take_profit_atr_multiplier=4.0,      # ATR_BASED - 3× ATR kadar yukarıda TP
L 160 [other   ]             stop_loss_atr_multiplier=2.0,        # ATR_BASED - 2× ATR kadar aşağıda SL
L 161 [string  ]             stop_loss_swing_lookback=10,          # SWING_POINTS - Son 3 mum'un swing low/high'ı
L 168 [other   ]             trailing_callback_percent=0.3,           # 0.6% geri çekilince close
L 169 [string  ]             trailing_take_profit=False,              # TP'ye ulaştığında trailing devam etsin mi?
L 177 [comment ]             # Partial Exit (Kısmi Kar Al) - RECOMMENDED: 3 levels with graduated weights
L 289 [comment ]         # Bu parametreler backtest/trade sırasında kullanılmaz.
L 290 [comment ]         # Sadece optimizer tarafından okunur ve optimize edilir.
L 295 [comment ]         #   - Comment (#) ile kapatılan parametreler optimize edilmez
L 297 [comment ]         # WebUI üzerinden template edit edilirken bu parametreler
L 298 [comment ]         # otomatik gösterilir ve değiştirilebilir.
L 312 [comment ]         # Bu parametreler backtest/trade sırasında kullanılmaz.
L 313 [comment ]         # Sadece optimizer tarafından okunur ve optimize edilir.
L 317 [comment ]         #   - List [val1, val2, ...]: Categorical/enum seçenekleri
L 319 [comment ]         # Kullanım:
L 322 [comment ]         # ÖNEMLİ: Attribute isimleri base_strategy.py'deki dataclass'larla eşleşmeli!
L 341 [comment ]                 # sizing_method kullanıyorsa conditional logic optimizer'da var
L 343 [comment ]                 #'position_percent_size': (5.0, 25.0, 2.5),    # FIXED_PERCENT için
L 344 [comment ]                 #'position_usd_size': (100, 1000, 100),        # FIXED_USD için
L 345 [comment ]                 #'max_risk_per_trade': (1.0, 5.0, 0.5),        # RISK_BASED için
L 352 [comment ]             # Önerilen: Aşamalı optimize edin (SL/TP → Break-even → Trailing)
L 382 [comment ]                 # NOT: Liste parametreleri henüz desteklenmiyor
L 390 [comment ]             # NOT: Henüz tam desteklenmiyor, flat parametreler kullanın
L 443 [comment ]             # NOT: Henüz implement edilmedi
L 469 [comment ]             # NOT: Henüz implement edilmedi
L 478 [comment ]             # CONSTRAINTS (Optimizer global ayarları)
```

### components\strategies\templates\smc_v2.py

```
L  12 [docstring] - Entry: BOS VEYA CHoCH ile giris (herhangi bir structure break)
L  13 [docstring] - Exit: Ters yonde structure break (BOS veya CHoCH)
L  19 [docstring] - Her ikisi de structure break, farkli market koşullarinda
L  22 [docstring] - Long: Bullish BOS (trend devam) veya Bullish CHoCH (trend donus)
L  23 [docstring] - Short: Bearish BOS (trend devam) veya Bearish CHoCH (trend donus)
L  26 [docstring] - Long: Bearish structure break (BOS veya CHoCH)
L  27 [docstring] - Short: Bullish structure break (BOS veya CHoCH)
L  55 [docstring]     BOS ve CHoCH'u birlikte kullanan strateji
L 212 [comment ]         # ENTRY CONDITIONS (SMC v2 - CHoCH ile entry)
L 218 [comment ]         # v2'de CHoCH ile entry yapiyoruz cunku:
L 220 [comment ]         # - BOS zaten trend yonunde, daha gec sinyal
L 249 [comment ]                 # Bearish structure break (CHoCH veya BOS)
```

### components\strategies\templates\supertrend_scalp.py

```
L  11 [docstring] Strateji Mantığı:
L  12 [docstring] - SuperTrend: Ana trend yönü belirleme
L  13 [docstring] - EMA Cross (9/21): Hızlı momentum değişimi
L  14 [docstring] - RSI: Aşırı alım/satım filtresi
L  15 [docstring] - ADX: Trend gücü filtresi
L  18 [docstring] - SuperTrend ile aynı yönde EMA crossover
L  19 [docstring] - RSI aşırı bölgelerde değil
L  20 [docstring] - ADX trend gücü yeterli
L  23 [docstring] - SuperTrend yön değişimi
L  25 [docstring] - Trailing stop ile kar kilitleme
L  28 [docstring] - Yüksek frekanslı trade (scalp)
L  29 [docstring] - Düşük TP/SL ile hızlı çıkışlar
L  30 [docstring] - Trend takibi ile yüksek win rate
L  58 [docstring]     ATR tabanlı SuperTrend ile scalping
L  59 [docstring]     Hedef: Hızlı giriş/çıkış, trend takibi
L  70 [string  ]         self.description = "SuperTrend + EMA + RSI ile hızlı scalping stratejisi"
L 100 [comment ]         # Timeframe - 1m/5m scalp için
L 160 [other   ]             take_profit_percent=3.0,              # Scalp için dar TP
L 168 [other   ]             stop_loss_percent=2.0,                # Scalp için dar SL
L 175 [comment ]             # Trailing Stop - scalp için hassas
L 187 [comment ]             # Partial Exit - scalp için hızlı kar al
L 202 [comment ]                 # Hızlı EMA'lar - Scalp için
L 210 [comment ]                 # ADX - Trend gücü
L 350 [string  ]                 'stop_loss_value': (0.5, 5, 0.1),  # Scalp için dar SL range
L 356 [string  ]                 'take_profit_value': (1.0, 10.0, 0.2),  # Scalp için dar TP range
```

### components\tools\translate_scanner.py

```
L  21 [string  ] TURKISH_CHARS = re.compile(r'[çğıöşüÇĞİÖŞÜ]')
L  25 [string  ]     r'\b(ve|veya|için|ile|olan|olarak|gibi|kadar|sonra|önce)\b',
L  26 [string  ]     r'\b(değil|var|yok|evet|hayır|tamam|lütfen)\b',
L  27 [string  ]     r'\b(dosya|klasör|dizin|ayar|yapılandırma)\b',
L  28 [string  ]     r'\b(başarılı|başarısız|hata|uyarı|bilgi)\b',
L  29 [string  ]     r'\b(yükleniyor|kaydediliyor|siliniyor|güncelleniyor)\b',
L  30 [string  ]     r'\b(bulunamadı|zaten|mevcut|gerekli|zorunlu)\b',
```

### modules\backtest\backtest_config.py

```
L 310 [comment ]     # Test 1: Config oluşturma
L 311 [message ]     print("\n📋 Test 1: Config oluşturma")
L 314 [message ]     print(f"   ✅ Config oluşturuldu")
L 336 [message ]         print("   ✅ Config geçerli")
L 338 [message ]         print(f"   ❌ Validation hatası: {e}")
L 340 [comment ]     # Test 4: Geçersiz config
L 341 [message ]     print("\n❌ Test 4: Geçersiz config")
L 344 [other   ]             symbols=[],  # Boş sembol listesi
L 349 [message ]         print("   ❌ Config oluşturulmamalıydı!")
L 351 [message ]         print(f"   ✅ Beklenen hata yakalandı: {e}")
L 358 [comment ]     # İki farklı config, farklı cache key olmalı
L 369 [message ]     print(f"   ✅ Farklı mı? {cache_key != cache_key2}")
L 374 [message ]     print(f"   ✅ Config dict'e çevrildi")
L 377 [message ]     print("\n✅ Tüm testler başarılı!")
```

### modules\backtest\backtest_engine.py

```
L  17 [docstring] Özellikler:
L  18 [docstring] - Mevcut manager'ları kullanır (ParquetsEngine, IndicatorManager, etc.)
L  20 [docstring] - Position sizing DOĞRU çalışır
L  21 [docstring] - Metrics DOĞRU hesaplanır
L  22 [docstring] - Optimizer için optimize edilmiş
L  24 [docstring] Kullanım:
L  30 [docstring] Bağımlılıklar:
L  89 [docstring]     ATR değerini row'dan al. 'atr' yoksa 'atr_xx' pattern'ını ara.
L  99 [docstring]         2. Yoksa 'atr_14', 'atr_20' gibi pattern ara
L 100 [docstring]         3. İlk bulduğunu dön
L 146 [comment ]         # ParquetsEngine logger'ı kendisi oluşturur
L 178 [string  ]                         'mode': 'backtest',  # Backtest: tek dosya, tüm semboller
L 179 [string  ]                         'batch_size': 1000,  # Backtest genelde hızlı, büyük batch
L 186 [message ]                 self.logger.warning(f"⚠️  AI modülleri yüklenemedi: {e}")
L 190 [message ]         self.logger.info("🚀 BacktestEngine V3 başlatıldı")
L 217 [message ]         self.logger.info("🚀 Backtest başlatılıyor...")
L 237 [comment ]         # Cache invalidate check (validator ATR eklediğinde set eder)
L 241 [message ]             self.logger.info("✅ Önbellek verisi kullanılıyor")
L 245 [message ]                 self.logger.info("🔄 Cache invalidated (indicator eklendi), veri yeniden yükleniyor.....
L 247 [message ]                 self.logger.info("📂 Veri yükleniyor...")
L 256 [message ]         self.logger.info("📊 İndikatörler hesaplanıyor...")
L 260 [message ]         self.logger.info("🎯 Sinyaller üretiliyor...")
L 272 [message ]         self.logger.info("💼 Pozisyonlar simüle ediliyor...")
L 284 [message ]         self.logger.info("📈 Metrikler hesaplanıyor...")
L 297 [message ]                 self.logger.debug(f"⚠️  AI data flush hatası: {e}")
L 311 [message ]             self.logger.info("✅ Backtest tamamlandı!")
L 312 [message ]             self.logger.info(f"⏱️  Süre: {execution_time:.2f}s")
L 313 [message ]             self.logger.info(f"💼 Trade Sayısı: {len(trades)}")
L 315 [message ]             self.logger.info(f"📊 Kar Faktörü: {metrics.profit_factor:.2f}")
L 316 [message ]             self.logger.info(f"📈 Kazanma Oranı: {metrics.win_rate:.1f}%")
L 443 [message ]                         self.logger.warning(f"   ⚠️  {timeframe}/{indicator_name} hesaplanamadı: {e}...
L 469 [message ]                 self.logger.info(f"   ✅ {timeframe}: {len(indicators_dict)} indikatör hesaplandı")
L 616 [docstring]         Simulate positions with proper sizing and exit logic (ESKİ ENGINE'DEN ADAPTE)
L 681 [other   ]             ai_entry_decision = ai_config.entry_decision  # AI entry kararında kullanılsın mı?
L1001 [message ]             self.logger.info(f"   ✅ {len(trades)} trade tamamlandı")
L1416 [string  ]         spread_cost = config.spread_pct / 100 / 2  # Spread'in yarısı (bid-ask ortası close)
L1431 [comment ]         # Helper: Get method name (enum veya string handle et)
L1733 [message ]                 self.logger.debug(f"⚠️  AI entry logging hatası: {e}")
L1860 [comment ]         # Spread cost: entry ve exit'teki spread maliyeti
L1861 [comment ]         # Entry spread zaten entry_price'a dahil, exit spread zaten exit_price_with_spread'e dahil
L1864 [comment ]         # Entry'de de aynı spread var, position value'nun %spread/2'si kadar
L1940 [message ]                 self.logger.debug(f"⚠️  AI exit logging hatası: {e}")
L2082 [docstring]     Strategy parametrelerine göre gerekli data'yı hazırlar:
L2083 [docstring]     - download_klines=True: Eksik dosyaları indir
L2084 [docstring]     - update_klines=True: Mevcut dosyaları güncelle
L2259 [message ]         logger.error("❌ HATA: Strateji dosyası bulunamadı")
L2261 [message ]         logger.error(f"Dosya: {strategy_path}")
L2263 [message ]         logger.error("Mevcut stratejiler (templates/):")
L2275 [message ]         logger.info(f"📂 Strateji yükleniyor: {strategy_path}")
L2283 [message ]         logger.error("❌ HATA: Strateji dosyası bulunamadı")
L2290 [message ]         logger.error("❌ HATA: Strateji yüklenemedi")
L2292 [message ]         logger.error(f"Hata: {e}")
L2293 [message ]         logger.error(f"Dosya: {strategy_path}")
L2296 [message ]             logger.error("Detaylı hata:")
L2302 [message ]         logger.info("✅ Strateji yüklendi:")
L2303 [message ]         logger.info(f"   İsim: {strategy.strategy_name} v{strategy.strategy_version}")
L2305 [message ]         logger.info(f"   Başlangıç Bakiye: ${strategy.initial_balance:,.0f}")
L2310 [message ]         logger.info("\n📝 CLI parametreleri uygulanıyor...")
L2348 [message ]         logger.info("📥 Data hazırlığı kontrol ediliyor...")
L2357 [message ]             logger.error("❌ HATA: Data hazırlığı başarısız")
L2359 [message ]             logger.error(f"Hata: {e}")
L2362 [message ]                 logger.error("\nDetaylı hata:")
L2367 [message ]         logger.info("✅ Data hazırlığı tamamlandı")
L2375 [message ]         logger.info("🚀 Backtest çalıştırılıyor...")
L2383 [message ]         logger.error("❌ HATA: Backtest çalıştırılamadı")
L2388 [message ]             logger.error("\nDetaylı hata:")
L2395 [message ]     logger.info("📊 BACKTEST SONUÇLARI")
L2407 [message ]     logger.info(f"   Kazanma Oranı: {result.metrics.win_rate:.2f}%")
L2408 [message ]     logger.info(f"   Kar Faktörü: {result.metrics.profit_factor:.2f}")
L2409 [message ]     logger.info(f"   Sharpe Oranı: {result.metrics.sharpe_ratio:.3f}")
L2410 [message ]     logger.info(f"   Maks Düşüş: {result.metrics.max_drawdown_pct:.2f}%")
L2416 [message ]     logger.info(f"\n💰 MALİYETLER:")
L2421 [message ]     logger.info(f"\n⏱️  Çalışma Süresi: {result.execution_time_seconds:.2f}s")
L2425 [other   ]         for i, trade in enumerate(result.trades[:5], 1):  # İlk 5 trade
L2429 [message ]             logger.info(f"   ... ve {len(result.trades) - 5} trade daha")
L2450 [docstring]     Bulk backtest - Birden fazla sembol ve timeframe kombinasyonunu test et
L2453 [docstring]         strategy_path: Strategy dosya yolu
L2454 [docstring]         symbols: Sembol listesi (ör. ['BTCUSDT', 'ETHUSDT', 'BNBUSDT'])
L2455 [docstring]         timeframes: Timeframe listesi (ör. ['1d', '1w', '4h'])
L2456 [docstring]         start_date: Başlangıç tarihi (optional)
L2457 [docstring]         end_date: Bitiş tarihi (optional)
L2458 [docstring]         initial_balance: Başlangıç bakiyesi (optional)
L2459 [docstring]         verbose: Detaylı çıktı
L2462 [docstring]         list[BacktestResult]: Tüm kombinasyonların sonuçları
L2471 [message ]     logger.info("🚀 BULK BACKTEST BAŞLADI")
L2477 [comment ]     # Tüm kombinasyonları oluştur
L2481 [message ]     logger.info(f"Toplam Test Sayısı: {total_tests}")
L2493 [comment ]             # Her kombinasyon için backtest çalıştır
L2505 [comment ]             # Kısa özet
L2509 [message ]             logger.info(f"\n✅ {symbol} @ {timeframe} - Tamamlandı!")
L2513 [message ]             logger.error(f"❌ {symbol} @ {timeframe} - HATA: {e}")
L2516 [comment ]     # Genel özet
L2520 [message ]     logger.info("📊 BULK BACKTEST SONUÇLARI")
L2523 [message ]     logger.info(f"Başarılı: {len(results)}")
L2524 [message ]     logger.info(f"Hatalı: {total_tests - len(results)}")
L2525 [message ]     logger.info(f"Toplam Süre: {elapsed:.1f}s")
L2528 [comment ]     # En iyi sonuçları göster
L2532 [message ]         logger.info("🏆 EN İYİ 5 SONUÇ (Getiri):")
L2543 [message ]         logger.info("📉 EN KÖTÜ 5 SONUÇ (Getiri):")
L2559 [message ]         logger.info("📈 ORTALAMA DEĞERLER:")
L2561 [message ]         logger.info(f"   Trade Sayısı: {avg_trades:.1f}")
L2575 [string  ]         description="BacktestEngine V3 - Strateji backtest'leri çalıştır",
L2579 [docstring]         Örnekler:
L2589 [string  ]         help='Strateji dosya yolu (kısa isim veya tam yol)'
L2595 [string  ]         help='Detaylı çıktı göster (indicators, conditions, signals)'
L2602 [string  ]         help='Bulk backtest modu - Birden fazla sembol ve timeframe test et'
L2606 [string  ]     parser.add_argument('--symbol', type=str, help='Trading symbol (ör. BTCUSDT) veya virgülle ayrıl...
L2607 [string  ]     parser.add_argument('--timeframe', type=str, help='Timeframe (ör. 5m, 1h) veya virgülle ayrılmış...
L2608 [string  ]     parser.add_argument('--start', type=str, help='Start date (YYYY-MM-DD) - Strategy\'den varsayıla...
L2609 [string  ]     parser.add_argument('--end', type=str, help='End date (YYYY-MM-DD) - Strategy\'den varsayılan al...
L2610 [string  ]     parser.add_argument('--balance', type=float, help='Initial balance - Strategy\'den varsayılan al...
L2614 [comment ]     # Bulk mode kontrolü
L2616 [comment ]         # Bulk backtest - virgülle ayrılmış listeleri parse et
```

### modules\backtest\backtest_export.py

```
L  61 [comment ]     # Timestamp ve filename
```

### modules\backtest\backtest_metrics.py

```
L 384 [comment ]     # Max drawdown percentage - peak'e göre hesaplanmalı (leverage-safe)
L 385 [comment ]     # NOT: initial_balance'a göre hesaplamak leverage ile yanlış sonuç verir
```

### modules\backtest\backtest_positions.py

```
L  68 [docstring]     - RISK_BASED: Risk değişince sonuç değişmeli
L 186 [comment ]     # POSITION SIZING - EN KRİTİK KISIM!
L 216 [comment ]         # FIXED_USD: Sabit dolar miktarı
L 228 [comment ]         # FIXED_PERCENT: Balance'ın yüzdesi
L 242 [comment ]         # RISK_BASED: Stop loss mesafesine göre
L 393 [comment ]         # LONG: TP yukarıda
L 396 [comment ]         # SHORT: TP aşağıda
L 660 [message ]     print("\n📊 Test 1: Mock data hazırlama")
L 672 [message ]     print(f"   ✅ {len(data)} candle oluşturuldu")
L 679 [message ]     print(f"   ✅ {(signals != 0).sum()} sinyal oluşturuldu")
L 716 [message ]     print(f"   ✅ {len(trades)} trade tamamlandı")
L 728 [message ]     print(f"   ✅ {len(trades2)} trade tamamlandı")
L 740 [message ]     print(f"   ✅ {len(trades3)} trade tamamlandı")
L 745 [message ]     print("\n✅ Tüm testler başarılı!")
```

### modules\backtest\backtest_types.py

```
L  77 [comment ]     # Tarih aralığı
L  85 [other   ]     warmup_period: int = 200                        # Warmup candle sayısı
L 136 [comment ]     # Sembol ve yön
L 140 [comment ]     # Giriş bilgileri
L 144 [comment ]     # Çıkış bilgileri
L 150 [other   ]     quantity: float                     # Trade edilen miktar (örn: 0.1 BTC)
L 152 [comment ]     # PnL (brüt - komisyon/slippage öncesi)
L 153 [other   ]     gross_pnl_usd: float               # Brüt kar/zarar ($)
L 154 [other   ]     gross_pnl_pct: float               # Brüt kar/zarar (%)
L 156 [comment ]     # PnL (net - komisyon/slippage sonrası)
L 165 [comment ]     # Analytics (opsiyonel - gelişmiş analiz için)
L 166 [other   ]     max_profit_usd: float = 0.0        # Trade sırasında max profit
L 168 [other   ]     max_loss_usd: float = 0.0          # Trade sırasında max loss
L 170 [other   ]     duration_minutes: int = 0           # Trade süresi (dakika)
L 172 [comment ]     # Metadata (opsiyonel - debugging için)
L 175 [other   ]     entry_signal: Optional[str] = None  # Giriş sinyali açıklaması
L 224 [comment ] # POSITION (Açık pozisyon tracking için)
L 238 [comment ]     # Giriş
L 246 [other   ]     trailing_stop_distance: Optional[float] = None  # % olarak
L 250 [other   ]     highest_price: float = 0.0          # LONG için max price
L 251 [other   ]     lowest_price: float = 999999.0      # SHORT için min price
L 258 [docstring]         """Initial tracking değerleri"""
L 263 [docstring]         """Highest/lowest price güncelle"""
L 276 [comment ] # SIGNAL (Giriş/çıkış sinyalleri)
L 291 [comment ]     # Opsiyonel - sinyal detayları
L 292 [other   ]     confidence: Optional[float] = None      # 0-1 arası confidence score
L 293 [other   ]     reason: Optional[str] = None            # Sinyal nedeni açıklaması
L 294 [other   ]     indicators: Optional[Dict] = None       # Indicator değerleri
L 313 [other   ]     total_trades: int                       # Toplam trade sayısı
L 314 [other   ]     winners: int                            # Kazanan trade sayısı
L 315 [other   ]     losers: int                             # Kaybeden trade sayısı
L 316 [other   ]     win_rate: float                         # Kazanma oranı (%)
L 318 [comment ]     # Win/Loss detayları
L 319 [other   ]     avg_win_usd: float                      # Ortalama kazanç ($)
L 320 [other   ]     avg_win_pct: float                      # Ortalama kazanç (%)
L 321 [other   ]     avg_loss_usd: float                     # Ortalama kayıp ($)
L 322 [other   ]     avg_loss_pct: float                     # Ortalama kayıp (%)
L 323 [other   ]     largest_win_usd: float                  # En büyük kazanç
L 324 [other   ]     largest_loss_usd: float                 # En büyük kayıp
L 344 [comment ]     # Diğer
L 345 [other   ]     avg_trade_duration_minutes: float       # Ortalama trade süresi
L 346 [other   ]     max_consecutive_wins: int               # Ard arda max kazanç
L 347 [other   ]     max_consecutive_losses: int             # Ard arda max kayıp
L 349 [comment ]     # Custom metric (optimizer için)
L 350 [other   ]     custom_score: Optional[float] = None    # Özel scoring (örn: PF × Return)
L 431 [message ]     print(f"   ✅ Config oluşturuldu: {config.symbols[0]}, {config.primary_timeframe}")
L 453 [message ]     print(f"   ✅ Trade oluşturuldu: #{trade.trade_id}")
L 470 [message ]     print(f"   ✅ Position oluşturuldu: #{position.position_id}")
L 506 [message ]     print(f"   ✅ Metrics oluşturuldu")
L 524 [message ]     print(f"   ✅ Result oluşturuldu")
L 531 [message ]     print(f"   ✅ Result dict'e çevrildi")
L 534 [message ]     print("\n✅ Tüm testler başarılı!")
```

### modules\backtest\bulk_backtest.py

```
L 109 [comment ]             # Her kombinasyon için backtest çalıştır
L 121 [comment ]             # Kısa özet
L 126 [message ]             logger.info(f"\n✅ {symbol} @ {timeframe} - Tamamlandı!")
L 130 [message ]             logger.error(f"❌ {symbol} @ {timeframe} - HATA: {e}")
L 136 [comment ]     # Genel özet
L 148 [comment ]     # En iyi sonuçları göster
L 150 [comment ]         # Getiriye göre sırala
L 195 [comment ]         # Sharpe ratio karşılaştırması
L 226 [string  ]         description="Bulk Backtest - Birden fazla sembol ve timeframe test et",
L 245 [string  ]         help='Strateji dosya yolu (kısa isim veya tam yol)'
L 252 [string  ]         help='Virgülle ayrılmış sembol listesi (ör. "BTCUSDT,ETHUSDT,BNBUSDT")'
L 259 [string  ]         help='Virgülle ayrılmış timeframe listesi (ör. "1d,1w,4h")'
L 265 [string  ]         help='Başlangıç tarihi (YYYY-MM-DD) - Strategy\'den varsayılan alınır'
L 271 [string  ]         help='Bitiş tarihi (YYYY-MM-DD) - Strategy\'den varsayılan alınır'
L 277 [string  ]         help='Başlangıç bakiyesi - Strategy\'den varsayılan alınır'
L 283 [string  ]         help='Detaylı çıktı göster'
```

### modules\backtest\test_backtest_engine.py

```
L  10 [docstring] - Mevcut strategy template'leri kullanarak test
L  43 [comment ]     # Strategy yükle
L  46 [message ]     print(f"   Strategy yükleniyor: {strategy_path}")
L  56 [message ]     print("\n   Backtest başlatılıyor...")
L  59 [message ]     print(f"\n   📊 SONUÇLAR:")
L  60 [message ]     print(f"   Trade sayısı: {result.metrics.total_trades}")
L  69 [string  ]     assert result.metrics.total_trades >= 0, "Trade sayısı negatif olamaz"
L  70 [string  ]     assert result.execution_time_seconds > 0, "Execution time pozitif olmalı"
L  79 [message ]     print("Test 2: Position Sizing - Farklı değerler farklı sonuçlar vermeli!")
L  82 [comment ]     # Strategy yükle
L 107 [message ]     print(f"\n   🔍 DOĞRULAMA:")
L 116 [comment ]     # Position sizing değişimi USD bazında belirgin olmalı
L 117 [comment ]     # 20% position 5%'in 4 katı olduğu için, USD return da ~4x olmalı
L 122 [message ]     print(f"   Gerçek oran: {ratio_actual:.1f}x")
L 124 [comment ]     # Oran kontrolü: %20 hata payı ile
L 126 [message ]         print(f"   ✅ Position sizing DOĞRU çalışıyor!")
L 128 [message ]         print(f"   ❌ HATA: Position sizing oranı yanlış!")
L 138 [docstring]     """Test 3: Metrics hesaplamaları doğru mu?"""
L 143 [comment ]     # Strategy yükle
L 162 [comment ]     # Doğrulama
L 163 [message ]     print(f"\n   🔍 DOĞRULAMA:")
L 171 [comment ]     # 2. Win Rate hesaplaması
L 176 [message ]         print(f"   ✅ Win Rate doğru hesaplanmış")
L 178 [comment ]     # 3. Total Return USD hesaplaması (trades'den)
L 183 [message ]         print(f"   ✅ Total Return USD doğru hesaplanmış")
L 185 [comment ]     # 4. Profit Factor > 0 (eğer trade varsa)
L 188 [message ]         print(f"   ✅ Profit Factor geçerli")
L 190 [comment ]     # 5. Max Drawdown <= 0 (drawdown negatif olmalı)
L 192 [message ]     print(f"   ✅ Max Drawdown geçerli")
L 199 [docstring]     """Test 4: Data caching çalışıyor mu?"""
L 204 [comment ]     # Strategy yükle
L 210 [comment ]     # İlk run - cache'e alınacak
L 211 [message ]     print("\n   İlk run (cache'e alınacak)...")
L 216 [comment ]     # İkinci run - cache'den alınacak
L 217 [message ]     print("\n   İkinci run (cache'den)...")
L 222 [comment ]     # Üçüncü run - cache disabled
L 223 [message ]     print("\n   Üçüncü run (cache disabled)...")
L 228 [message ]     print(f"\n   📊 SONUÇLAR:")
L 229 [message ]     print(f"   İlk run: {time1:.2f}s")
L 233 [comment ]     # Sonuçlar aynı olmalı
L 235 [string  ]         "Cache sonuçları değiştirmemeli!"
L 236 [message ]     print(f"   ✅ Cache sonuçları değiştirmiyor")
L 281 [message ]         print("✅ TÜM TESTLER BAŞARILI!")
L 286 [message ]         print(f"❌ TEST BAŞARISIZ: {e}")
```

### modules\backtest\vectorized_conditions.py

```
L   6 [docstring] Hızlı backtest için vectorized condition evaluation helper'ları.
L   7 [docstring] Loop kullanmadan tüm candle'lar için condition check yapar.
```

### scripts\analiz_superbot.py

```
L   4 [docstring] Tüm klasör ve dosyaları analiz eder
L  17 [comment ]     # Ana klasörler
L  20 [comment ]     # Analiz sonuçları
L  35 [comment ]     # Her ana klasör için
L  41 [string  ]         output.append(f"\n## 📁 {folder.upper()} KLASÖRİ")
L  44 [comment ]         # Alt klasörleri tara
L  47 [comment ]             # __pycache__ ve .git gibi klasörleri atla
L  53 [comment ]             # Dosyaları listele
L  65 [comment ]                 # Python dosyaları
L  67 [string  ]                     output.append(f"{indent}**Python dosyaları ({len(py_files)}):**")
L  68 [other   ]                     for f in sorted(py_files)[:10]:  # İlk 10 dosya
L  71 [comment ]                             # Dosya boyutu ve satır sayısı
L  75 [string  ]                             output.append(f"{indent}- `{f}` ({lines} satır, {size:.1f}KB)")
L  77 [comment ]                             # İlk docstring'i oku
L  89 [string  ]                         output.append(f"{indent}... ve {len(py_files)-10} dosya daha")
L  91 [comment ]                 # Config dosyaları
L  93 [string  ]                     output.append(f"{indent}**Config dosyaları ({len(yaml_files)}):**")
L  97 [comment ]                 # JSON dosyaları
L  99 [string  ]                     output.append(f"{indent}**Data dosyaları ({len(json_files)}):**")
L 103 [string  ]                         output.append(f"{indent}... ve {len(json_files)-5} dosya daha")
L 105 [comment ]     # Özel klasörleri kontrol et
L 106 [string  ]     output.append("\n## 🔧 DİĞER ÖNEMLİ KLASÖRLER")
L 116 [string  ]                 output.append(f"- Python dosyaları: {file_count}")
L 118 [comment ]                 # İlk birkaç dosyayı listele
L 124 [comment ]     # Sprint durumlarını kontrol et
L 125 [string  ]     output.append("\n## 📊 SPRINT DURUM ANALİZİ")
L 133 [other   ]                 lines = f.readlines()[:20]  # İlk 20 satır
L 135 [string  ]                     if 'Tamamlandı' in line or 'COMPLETED' in line or '%' in line:
L 140 [comment ]     # Son değiştirilen dosyaları bul
L 141 [string  ]     output.append("\n## 🕐 SON DEĞİŞTİRİLEN DOSYALAR")
L 156 [string  ]     output.append("\nEn son değiştirilen 10 dosya:")
L 162 [comment ]     # Özet istatistikler
L 163 [string  ]     output.append("\n## 📈 ÖZET İSTATİSTİKLER")
L 170 [string  ]     output.append(f"\n- **Toplam Python dosyası:** {total_py_files}")
L 171 [string  ]     output.append(f"- **Toplam Config dosyası:** {total_yaml_files}")
L 172 [string  ]     output.append(f"- **Toplam JSON dosyası:** {total_json_files}")
L 174 [comment ]     # AI/ML ile ilgili dosyaları say
L 182 [string  ]         output.append(f"\n### 🤖 AI/ML İlgili Dosyalar ({len(ai_files)})")
L 193 [message ]     print(f"✅ Analiz tamamlandı: {output_file}")
L 194 [message ]     print(f"📊 Toplam {total_py_files} Python dosyası analiz edildi")
L 199 [comment ]     # SuperBot ana klasör yolu
L 200 [comment ]     # Windows için örnek: "D:/Python/SuperBot"
L 201 [comment ]     # Linux için örnek: "/home/user/SuperBot"
L 203 [string  ]     project_path = input("SuperBot proje klasör yolu (örn: D:/Python/SuperBot): ").strip()
L 206 [message ]         print(f"❌ Klasör bulunamadı: {project_path}")
L 210 [message ]         print("Analiz sonucu superbot_analysis.md dosyasına kaydedildi")
```

### scripts\fix_year_split.py

```
L   9 [docstring] Yıl bazlı dosyaları temizler ve yıl sınırlarını zorlar.
L  12 [docstring] - 2024 dosyası 2025 verilerini içeriyor (UTC+3 timezone hatası)
L  13 [docstring] - 2025 dosyası 2024 verilerini içeriyor
L  14 [docstring] - Duplicate veriler var
L  15 [docstring] - Year boundaries karışık
L  17 [docstring] Çözüm:
L  18 [docstring] - Her dosyayı oku
L  19 [docstring] - Epoch time bazında yıl sınırlarını kontrol et (timezone safe)
L  20 [docstring] - Sadece ilgili yıla ait verileri tut
L  22 [docstring] - Düzgün kaydet
L  24 [docstring] Kullanım:
L  27 [docstring] Bağımlılıklar:
L  60 [message ]         print(f"❌ Sembol dizini bulunamadı: {data_path}")
L 103 [message ]         print(f"   📅 Tarih aralığı: {date_min} -> {date_max}")
L 105 [comment ]         # 2. Epoch time bazında yıl filtresi (timezone-safe)
L 106 [comment ]         # Binance epoch time kullanıyor, timezone sorunu yok
L 109 [comment ]         # Epoch time bazında yıl sınırları (UTC)
L 119 [comment ]         # Filter: only keep data within this year (UTC epoch time bazında)
L 129 [message ]             print(f"   🧹 Filtrelendi: {rows_removed:,} satır diğer yıllardan silindi")
L 131 [message ]             print(f"   ✅ Tüm satırlar {year} yılına ait")
L 141 [message ]             print(f"   🧹 Temizlendi: {duplicates:,} duplicate satır")
L 143 [comment ]         # 4. Beklenen tarih aralığını kontrol et (UTC epoch bazında)
L 151 [message ]         print(f"   Gerçek (UTC):   {actual_start} -> {actual_end}")
L 153 [comment ]         # Eksik veri kontrolü (başlangıç çok geç veya son çok erken)
L 159 [message ]                 print(f"   ⚠️  Eksik: Başlangıçta {missing_days} gün eksik")
L 162 [comment ]         # Sadece geçmiş yıllar için son tarih kontrolü (current year için değil)
L 167 [message ]                 print(f"   ⚠️  Eksik: Sonda {missing_days} gün eksik")
L 171 [message ]             print(f"   💡 İpucu: Eksik aralıkları doldurmak için data_downloader çalıştır")
L 173 [comment ]         # 5. Temizlenmiş dosyayı kaydet
L 174 [message ]         print(f"\n   💾 Temizlenmiş dosya kaydediliyor...")
L 178 [message ]         print(f"   ✅ Kaydedildi: {after_dedup:,} satır ({size_mb:.2f} MB)")
L 185 [message ]     print("✅ YIL-SPLIT DÜZELTMESİ TAMAMLANDI!")
L 189 [message ]     print("\n📊 Son Dosya Özeti:")
L 198 [message ]         print(f"      Satır: {len(df_check):,}")
L 199 [message ]         print(f"      Aralık: {date_min} -> {date_max}")
L 208 [comment ]     # Windows UTF-8 fix (emoji display için)
```
